!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("bignumber.js"),require("@stamp/required"),require("@stamp/it"),require("tweetnacl"),require("joi-browser"),require("axios"),require("uuid"),require("rlp"),require("@aeternity/bip39"),require("bs58check"),require("ed2curve"),require("tweetnacl-auth"),require("blakejs"),require("aes-js"),require("sha.js"),require("websocket"),require("bip32-path"),require("libsodium-wrappers-sumo")):"function"==typeof define&&define.amd?define([,,,,,,,,,,,,,,,,,],e):"object"==typeof exports?exports.Ae=e(require("bignumber.js"),require("@stamp/required"),require("@stamp/it"),require("tweetnacl"),require("joi-browser"),require("axios"),require("uuid"),require("rlp"),require("@aeternity/bip39"),require("bs58check"),require("ed2curve"),require("tweetnacl-auth"),require("blakejs"),require("aes-js"),require("sha.js"),require("websocket"),require("bip32-path"),require("libsodium-wrappers-sumo")):t.Ae=e(t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0])}(global,(function(t,e,n,r,a,o,i,c,s,u,p,f,l,d,h,m,v,b){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=144)}([function(t,e,n){t.exports=n(103)},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var i=t.apply(e,r);function c(t){n(i,a,o,c,s,"next",t)}function s(t){n(i,a,o,c,s,"throw",t)}c(void 0)}))}}},function(e,n){e.exports=t},function(t,e,n){var r=n(75),a=n(9)((function(t,e){return r({},t,e)}));t.exports=a},function(t,e,n){var r=n(65),a=n(104),o=n(66);t.exports=function(t,e){return r(t)||a(t,e)||o()}},function(t,n){t.exports=e},function(t,e,n){var r=n(47)(0);t.exports=r},function(t,e,n){var r=n(105),a=n(67),o=n(106);t.exports=function(t){return r(t)||a(t)||o()}},function(t,e,n){var r=n(12),a=n(41);t.exports=function(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return a(n)?e:r((function(e){return t(n,e)}));default:return a(n)&&a(o)?e:a(n)?r((function(e){return t(e,o)})):a(o)?r((function(e){return t(n,e)})):t(n,o)}}}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=n},function(t,e,n){var r=n(41);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e){t.exports=r},function(t,e){t.exports=a},function(t,e,n){var r=n(12),a=n(21),o=n(111),i=!{toString:null}.propertyIsEnumerable("toString"),c=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),u=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},p="function"!=typeof Object.keys||s?r((function(t){if(Object(t)!==t)return[];var e,n,r=[],p=s&&o(t);for(e in t)!a(e,t)||p&&"length"===e||(r[r.length]=e);if(i)for(n=c.length-1;n>=0;)a(e=c[n],t)&&!u(r,e)&&(r[r.length]=e),n-=1;return r})):r((function(t){return Object(t)!==t?[]:Object.keys(t)}));t.exports=p},function(t,e,n){var r=n(9),a=n(126),o=r((function(t,e){return a([t],e)[0]}));t.exports=o},function(t,e,n){var r=n(12)((function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e}));t.exports=r},function(t,e,n){var r=n(47)(-1);t.exports=r},function(t,e,n){var r=n(43),a=n(9)(r);t.exports=a},function(t,e){t.exports=o},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e){t.exports=i},function(t,e,n){var r=n(12)((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));t.exports=r},function(t,e,n){var r=n(50)(1,"join");t.exports=r},function(t,e,n){var r=n(12),a=n(118),o=r((function(t){return a(t,[])}));t.exports=o},function(t,e,n){var r=n(9),a=n(69),o=n(31),i=r((function(t,e){return a(o(t),e)}));t.exports=i},function(t,e,n){var r=n(48),a=n(107);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),i=o.pop();if(!r(i)){for(var c=0;c<t.length;){if("function"==typeof i[t[c]])return i[t[c]].apply(i,o);c+=1}if(a(i)){var s=e.apply(null,o);return s(i)}}return n.apply(this,arguments)}}},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e,n){var r=n(9),a=n(34),o=n(15),i=r((function(t,e){return a((function(n,r){return n[r]=t(e[r],r,e),n}),{},o(e))}));t.exports=i},function(t,e,n){var r=n(12)((function(t){return null==t}));t.exports=r},function(t,e,n){var r=n(9),a=n(16),o=r((function(t,e){return a([t],e)}));t.exports=o},function(t,e){t.exports=c},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,a){return e.apply(this,arguments)};case 5:return function(t,n,r,a,o){return e.apply(this,arguments)};case 6:return function(t,n,r,a,o,i){return e.apply(this,arguments)};case 7:return function(t,n,r,a,o,i,c){return e.apply(this,arguments)};case 8:return function(t,n,r,a,o,i,c,s){return e.apply(this,arguments)};case 9:return function(t,n,r,a,o,i,c,s,u){return e.apply(this,arguments)};case 10:return function(t,n,r,a,o,i,c,s,u,p){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(71),a=n(108),o=n(109);function i(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function c(t,e,n,r){return t["@@transducer/result"](n[r](o(t["@@transducer/step"],t),e))}var s="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(t,e,n){if("function"==typeof t&&(t=a(t)),r(n))return function(t,e,n){for(var r=0,a=n.length;r<a;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return c(t,e,n,"fantasy-land/reduce");if(null!=n[s])return i(t,e,n[s]());if("function"==typeof n.next)return i(t,e,n);if("function"==typeof n.reduce)return c(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(t,e,n){var r=n(12),a=n(9),o=n(41);t.exports=function(t){return function e(n,i,c){switch(arguments.length){case 0:return e;case 1:return o(n)?e:a((function(e,r){return t(n,e,r)}));case 2:return o(n)&&o(i)?e:o(n)?a((function(e,n){return t(e,i,n)})):o(i)?a((function(e,r){return t(n,e,r)})):r((function(e){return t(n,i,e)}));default:return o(n)&&o(i)&&o(c)?e:o(n)&&o(i)?a((function(e,n){return t(e,n,c)})):o(n)&&o(c)?a((function(e,n){return t(e,i,n)})):o(i)&&o(c)?a((function(e,r){return t(n,e,r)})):o(n)?r((function(e){return t(e,i,c)})):o(i)?r((function(e){return t(n,e,c)})):o(c)?r((function(e){return t(n,i,e)})):t(n,i,c)}}}},function(t,e,n){var r=n(121),a=n(9),o=n(122),i=a((function(t,e){return o(r(t),e)}));t.exports=i},function(t,e,n){var r=n(12),a=n(15),o=r((function(t){for(var e=a(t),n=e.length,r=[],o=0;o<n;)r[o]=t[e[o]],o+=1;return r}));t.exports=o},function(t,e,n){var r=n(12)((function(t){return function(){return t}}));t.exports=r},function(t,e,n){var r=n(9)((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n}));t.exports=r},function(t,e){t.exports=s},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}},function(t,e,n){var r=n(33),a=n(12),o=n(9),i=n(49),c=o((function(t,e){return 1===t?a(e):r(t,i(t,[],e))}));t.exports=c},function(t,e,n){var r=n(113);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e,n){var r=n(12)(n(125)(!0));t.exports=r},function(t,e,n){var r=n(9)((function(t,e){for(var n=0,r=Math.min(t.length,e.length),a={};n<r;)a[t[n]]=e[n],n+=1;return a}));t.exports=r},function(t,e,n){var r=n(65),a=n(67),o=n(66);t.exports=function(t){return r(t)||a(t)||o()}},function(t,e,n){var r=n(9),a=n(68),o=r((function(t,e){var n=t<0?e.length+t:t;return a(e)?e.charAt(n):e[n]}));t.exports=o},function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(33),a=n(41);t.exports=function t(e,n,o){return function(){for(var i=[],c=0,s=e,u=0;u<n.length||c<arguments.length;){var p;u<n.length&&(!a(n[u])||c>=arguments.length)?p=n[u]:(p=arguments[c],c+=1),i[u]=p,a(p)||(s-=1),u+=1}return s<=0?o.apply(this,i):r(s,t(e,i,o))}}},function(t,e,n){var r=n(9),a=n(128),o=n(42),i=n(25),c=r((function(t,e){return o(t+1,(function(){var n=arguments[t];if(null!=n&&a(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(i(n)+' does not have a method named "'+e+'"')}))}));t.exports=c},function(t,e,n){var r=n(35)(n(34));t.exports=r},function(t,e,n){var r=n(12),a=n(42),o=r((function(t){return a(t.length,(function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)}))}));t.exports=o},function(t,e,n){var r=n(12),a=n(42),o=r((function(t){return a(t.length,t)}));t.exports=o},function(t,e){t.exports=u},function(t,e){t.exports=p},function(t,e,n){var r=n(9)((function(t,e){return t<e}));t.exports=r},function(t,e,n){var r=n(12),a=n(21),o=r((function(t){var e=[];for(var n in t)a(n,t)&&(e[e.length]=[n,t[n]]);return e}));t.exports=o},function(t,e,n){var r=n(50)(0,"toUpperCase");t.exports=r},function(t,e,n){var r=n(9),a=n(130),o=r((function(t,e){return a((function(t,e,n){return n}),t,e)}));t.exports=o},function(t,e,n){var r=n(76),a=n(9)(r("groupBy",n(77)((function(t,e){return null==t&&(t=[]),t.push(e),t}),null)));t.exports=a},function(t,e,n){var r=n(12)(n(135));t.exports=r},function(t,e,n){var r=n(77)((function(t,e){return e}),null);t.exports=r},function(t,e,n){var r=n(9)((function(t,e){return null==e||e!=e?t:e}));t.exports=r},function(t,e){t.exports=f},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(9),a=n(27),o=n(70),i=n(34),c=n(110),s=n(42),u=n(15),p=r(a(["fantasy-land/map","map"],c,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return s(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return i((function(n,r){return n[r]=t(e[r]),n}),{},u(e));default:return o(t,e)}})));t.exports=p},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=Array(r);n<r;)a[n]=t(e[n]),n+=1;return a}},function(t,e,n){var r=n(12),a=n(48),o=n(68),i=r((function(t){return!!a(t)||!!t&&("object"==typeof t&&(!o(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}));t.exports=i},function(t,e){t.exports=function(t,e,n){for(var r=0,a=n.length;r<a;){if(t(e,n[r]))return!0;r+=1}return!1}},function(t,e){t.exports="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(21);t.exports="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,a=arguments.length;n<a;){var o=arguments[n];if(null!=o)for(var i in o)r(i,o)&&(e[i]=o[i]);n+=1}return e}},function(t,e,n){var r=n(48);t.exports=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var a=arguments[n-1];return r(a)||"function"!=typeof a[t]?e.apply(this,arguments):a[t].apply(a,Array.prototype.slice.call(arguments,0,n-1))}}},function(t,e,n){var r=n(132),a=n(49),o=n(27),i=n(21),c=n(34),s=a(4,[],o([],n(134),(function(t,e,n,a){return c((function(a,o){var c=n(o);return a[c]=t(i(c,a)?a[c]:r(e,[],[],!1),o),a}),{},a)})));t.exports=s},function(t,e,n){var r=n(76),a=n(35)(r("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})));t.exports=a},function(t,e){t.exports=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,e){t.exports=l},function(t,e){t.exports=d},function(t,e){t.exports=h},function(t,e,n){var r=n(33),a=n(12),o=n(69),i=n(112),c=n(51),s=a((function(t){var e=c(i,0,o((function(t){return t[0].length}),t));return r(e,(function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}}))}));t.exports=s},function(t,e,n){var r=n(9)((function(t,e){return t<=e}));t.exports=r},function(t,e){t.exports=function(){return!0}},function(t,e,n){var r=n(43),a=n(9),o=n(52),i=n(36),c=a((function(t,e){return i(o(r)(t),e)}));t.exports=c},function(t,e,n){var r=n(72),a=n(9)((function(t,e){for(var n,a=0,o=e.length,i=[];a<o;)n=e[a],r(t,n,i)||(i[i.length]=n),a+=1;return i}));t.exports=a},function(t,e,n){var r=n(73),a=n(9)(r);t.exports=a},function(t,e,n){var r=n(50)(0,"toLowerCase");t.exports=r},function(t,e,n){var r=n(9),a=n(129),o=r((function(t,e){for(var n=[],r=0,o=t.length,i=e.length,c=new a,s=0;s<i;s+=1)c.add(e[s]);for(;r<o;)c.add(t[r])&&(n[n.length]=t[r]),r+=1;return n}));t.exports=o},function(t,e,n){var r=n(75),a=n(12)((function(t){return r.apply(null,[{}].concat(t))}));t.exports=a},function(t,e,n){var r=n(35)((function(t,e,n){var r={};for(var a in n)r[a]=n[a];return r[t]=e,r}));t.exports=r},function(t,e,n){var r=n(9),a=n(136),o=r((function(t,e){return a([t],e)}));t.exports=o},function(t,e,n){var r=n(9),a=n(27),o=n(137),i=n(78),c=r(a(["drop"],o,(function(t,e){return i(Math.max(0,t),1/0,e)})));t.exports=c},function(t,e,n){var r=n(9),a=n(27),o=n(138),i=r(a([],n(141),o));t.exports=i},function(t,e,n){var r=n(53)((function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}));t.exports=r},function(t,e,n){var r=n(9)(n(27)(["find"],n(142),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}})));t.exports=r},function(t,e){t.exports=m},function(t,e){t.exports=require("events")},function(t,e,n){var r=n(33),a=n(12)((function(t){var e,n=!1;return r(t.length,(function(){return n?e:(n=!0,e=t.apply(this,arguments))}))}));t.exports=a},function(t,e,n){var r=n(9)((function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n}));t.exports=r},function(t,e){t.exports=v},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n,r){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=g(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var p=s(t,e,n);if("normal"===p.type){if(r=n.done?"completed":"suspendedYield",p.arg===u)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(r="completed",n.method="throw",n.arg=p.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function p(){}function f(){}function l(){}var d={};d[a]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(O([])));m&&m!==e&&n.call(m,a)&&(d=m);var v=l.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t){var e;this._invoke=function(r,a){function o(){return new Promise((function(e,o){!function e(r,a,o,i){var c=s(t[r],t,a);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?Promise.resolve(p.__await).then((function(t){e("next",t,o,i)}),(function(t){e("throw",t,o,i)})):Promise.resolve(p).then((function(t){u.value=t,o(u)}),(function(t){return e("throw",t,o,i)}))}i(c.arg)}(r,a,e,o)}))}return e=e?e.then(o,o):o()}}function g(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function O(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=v.constructor=l,l.constructor=f,l[i]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,a){var o=new y(c(e,n,r,a));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(v),v[i]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t){return null!=t&&"function"==typeof t["@@transducer/step"]}},function(t,e){var n=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();t.exports=function(t){return new n(t)}},function(t,e,n){var r=n(33),a=n(9)((function(t,e){return r(t.length,(function(){return t.apply(e,arguments)}))}));t.exports=a},function(t,e,n){var r=n(9),a=n(28),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),i=r((function(t,e){return new o(t,e)}));t.exports=i},function(t,e,n){var r=n(21),a=Object.prototype.toString,o=function(){return"[object Arguments]"===a.call(arguments)?function(t){return"[object Arguments]"===a.call(t)}:function(t){return r("callee",t)}}();t.exports=o},function(t,e,n){var r=n(9)((function(t,e){return e>t?e:t}));t.exports=r},function(t,e,n){var r=n(114);t.exports=function(t,e,n){var a,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(a=1/e;n<t.length;){if(0===(o=t[n])&&1/o===a)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(o=t[n])&&o!=o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(9),a=n(115),o=r((function(t,e){return a(t,e,[],[])}));t.exports=o},function(t,e,n){var r=n(116),a=n(72),o=n(117),i=n(21),c=n(73),s=n(15),u=n(23);function p(t,e,n,o){var i=r(t),c=r(e);function s(t,e){return f(t,e,n.slice(),o.slice())}return!a((function(t,e){return!a(s,e,t)}),c,i)}function f(t,e,n,r){if(c(t,e))return!0;var a=u(t);if(a!==u(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===o(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!c(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!c(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var l=n.length-1;l>=0;){if(n[l]===t)return r[l]===e;l-=1}switch(a){case"Map":return t.size===e.size&&p(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&p(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var d=s(t);if(d.length!==s(e).length)return!1;var h=n.concat([t]),m=r.concat([e]);for(l=d.length-1;l>=0;){var v=d[l];if(!i(v,e)||!f(e[v],t[v],h,m))return!1;l-=1}return!0}t.exports=f},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e,n){var r=n(43),a=n(70),o=n(119),i=n(120),c=n(15),s=n(36);t.exports=function t(e,n){var u=function(a){var o=n.concat([e]);return r(a,o)?"<Circular>":t(a,o)},p=function(t,e){return a((function(e){return o(e)+": "+u(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+a(u,e).join(", ")+"))";case"[object Array]":return"["+a(u,e).concat(p(e,s((function(t){return/^\d+$/.test(t)}),c(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+u(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?u(NaN):o(i(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+u(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+u(e.valueOf())+")":o(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var f=e.toString();if("[object Object]"!==f)return f}return"{"+p(e,c(e)).join(", ")+"}"}}},function(t,e){t.exports=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},function(t,e){var n=function(t){return(t<10?"0":"")+t},r="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};t.exports=r},function(t,e){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,n){var r=n(9),a=n(27),o=n(123),i=n(74),c=n(34),s=n(124),u=n(15),p=r(a(["filter"],s,(function(t,e){return i(e)?c((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},u(e)):o(t,e)})));t.exports=p},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=[];n<r;)t(e[n])&&(a[a.length]=e[n]),n+=1;return a}},function(t,e,n){var r=n(9),a=n(28),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),i=r((function(t,e){return new o(t,e)}));t.exports=i},function(t,e,n){var r=n(71);t.exports=function(t){return function e(n){for(var a,o,i,c=[],s=0,u=n.length;s<u;){if(r(n[s]))for(i=0,o=(a=t?e(n[s]):n[s]).length;i<o;)c[c.length]=a[i],i+=1;else c[c.length]=n[s];s+=1}return c}}},function(t,e,n){var r=n(9),a=n(127),o=n(47),i=r((function(t,e){return t.map((function(t){for(var n,r=e,i=0;i<t.length;){if(null==r)return;n=t[i],r=a(n)?o(n,r):r[n],i+=1}return r}))}));t.exports=i},function(t,e){t.exports=Number.isInteger||function(t){return t<<0===t}},function(t,e){t.exports=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e}},function(t,e,n){var r=n(43),a=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!o(t,!0,this)},t.prototype.has=function(t){return o(t,!1,this)},t}();function o(t,e,n){var a,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(a=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===a):n._nativeSet.has(t):o in n._items?t in n._items[o]||(e&&(n._items[o][t]=!0),!1):(e&&(n._items[o]={},n._items[o][t]=!0),!1);case"boolean":if(o in n._items){var i=t?1:0;return!!n._items[o][i]||(e&&(n._items[o][i]=!0),!1)}return e&&(n._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(a=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===a):n._nativeSet.has(t):o in n._items?!!r(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1);case"undefined":return!!n._items[o]||(e&&(n._items[o]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(t))in n._items?!!r(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1)}}t.exports=a},function(t,e,n){var r=n(35),a=n(74),o=n(131),i=r((function t(e,n,r){return o((function(n,r,o){return a(r)&&a(o)?t(e,r,o):e(n,r,o)}),n,r)}));t.exports=i},function(t,e,n){var r=n(35),a=n(21),o=r((function(t,e,n){var r,o={};for(r in e)a(r,e)&&(o[r]=a(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)a(r,n)&&!a(r,o)&&(o[r]=n[r]);return o}));t.exports=o},function(t,e,n){var r=n(133),a=n(23);t.exports=function t(e,n,o,i){var c=function(r){for(var a=n.length,c=0;c<a;){if(e===n[c])return o[c];c+=1}for(var s in n[c+1]=e,o[c+1]=r,e)r[s]=i?t(e[s],n,o,!0):e[s];return r};switch(a(e)){case"Object":return c({});case"Array":return c([]);case"Date":return new Date(e.valueOf());case"RegExp":return r(e);default:return e}}},function(t,e){t.exports=function(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}},function(t,e,n){var r=n(49),a=n(21),o=n(28),i=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(a(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),c=r(4,[],(function(t,e,n,r){return new i(t,e,n,r)}));t.exports=c},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(9),a=n(21),o=n(30),i=r((function(t,e){if(0===t.length||o(e))return!1;for(var n=e,r=0;r<t.length;){if(o(n)||!a(t[r],n))return!1;n=n[t[r]],r+=1}return!0}));t.exports=i},function(t,e,n){var r=n(9),a=n(28),o=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),i=r((function(t,e){return new o(t,e)}));t.exports=i},function(t,e,n){var r=n(139);t.exports=function(t,e){return r(t<e.length?e.length-t:0,e)}},function(t,e,n){var r=n(9),a=n(27),o=n(140),i=n(78),c=r(a(["take"],o,(function(t,e){return i(0,t<0?1/0:t,e)})));t.exports=c},function(t,e,n){var r=n(9),a=n(79),o=n(28),i=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?a(n):n},t}(),c=r((function(t,e){return new i(t,e)}));t.exports=c},function(t,e,n){var r=n(9),a=n(28),o=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),i=r((function(t,e){return new o(t,e)}));t.exports=i},function(t,e,n){var r=n(9),a=n(79),o=n(28),i=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=a(this.xf["@@transducer/step"](t,e))),t},t}(),c=r((function(t,e){return new i(t,e)}));t.exports=c},function(t,e){t.exports=b},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"leftPad",(function(){return k})),n.d(r,"rightPad",(function(){return O})),n.d(r,"bigNumberToByteArray",(function(){return j})),n.d(r,"toBytes",(function(){return C}));var a={};n.r(a),n.d(a,"createSalt",(function(){return Dn})),n.d(a,"buildContractId",(function(){return qn})),n.d(a,"buildHash",(function(){return Fn})),n.d(a,"oracleQueryId",(function(){return Mn})),n.d(a,"formatSalt",(function(){return Rn})),n.d(a,"nameHash",(function(){return Kn})),n.d(a,"produceNameId",(function(){return Un})),n.d(a,"commitmentHash",(function(){return Hn})),n.d(a,"decode",(function(){return Ln})),n.d(a,"encode",(function(){return Wn})),n.d(a,"writeId",(function(){return Qn})),n.d(a,"readId",(function(){return Gn})),n.d(a,"writeInt",(function(){return zn})),n.d(a,"readInt",(function(){return Yn})),n.d(a,"buildPointers",(function(){return $n})),n.d(a,"readPointers",(function(){return Jn})),n.d(a,"isNameValid",(function(){return Xn})),n.d(a,"classify",(function(){return Zn})),n.d(a,"validatePointers",(function(){return tr})),n.d(a,"getMinimumNameFee",(function(){return er})),n.d(a,"computeBidFee",(function(){return nr})),n.d(a,"computeAuctionEndBlock",(function(){return rr})),n.d(a,"getContractBackendFromTx",(function(){return ar})),n.d(a,"isAuctionName",(function(){return or})),n.d(a,"default",(function(){return ir}));var o={};n.r(o),n.d(o,"ADDRESS_FORMAT",(function(){return sr})),n.d(o,"formatAddress",(function(){return ur})),n.d(o,"isAddressValid",(function(){return pr})),n.d(o,"addressToHex",(function(){return fr})),n.d(o,"addressFromDecimal",(function(){return lr})),n.d(o,"hash",(function(){return dr})),n.d(o,"sha256hash",(function(){return hr})),n.d(o,"salt",(function(){return mr})),n.d(o,"encodeBase64Check",(function(){return vr})),n.d(o,"checkSumFn",(function(){return br})),n.d(o,"decodeBase64Check",(function(){return yr})),n.d(o,"encodeBase58Check",(function(){return gr})),n.d(o,"decodeBase58Check",(function(){return xr})),n.d(o,"hexStringToByte",(function(){return wr})),n.d(o,"encodeUnsigned",(function(){return kr})),n.d(o,"encodeContractAddress",(function(){return Or})),n.d(o,"generateKeyPairFromSecret",(function(){return jr})),n.d(o,"generateKeyPair",(function(){return Cr})),n.d(o,"encryptPublicKey",(function(){return Ir})),n.d(o,"encryptPrivateKey",(function(){return Tr})),n.d(o,"encryptKey",(function(){return Pr})),n.d(o,"decryptKey",(function(){return Ar})),n.d(o,"sign",(function(){return Er})),n.d(o,"verify",(function(){return Sr})),n.d(o,"prepareTx",(function(){return _r})),n.d(o,"personalMessageToBinary",(function(){return Br})),n.d(o,"signPersonalMessage",(function(){return Nr})),n.d(o,"verifyPersonalMessage",(function(){return Dr})),n.d(o,"aeEncodeKey",(function(){return Vr})),n.d(o,"generateSaveWallet",(function(){return qr})),n.d(o,"decryptPrivateKey",(function(){return Fr})),n.d(o,"decryptPubKey",(function(){return Mr})),n.d(o,"assertedType",(function(){return Rr})),n.d(o,"decodeTx",(function(){return Kr})),n.d(o,"encodeTx",(function(){return Ur})),n.d(o,"isValidKeypair",(function(){return Hr})),n.d(o,"envKeypair",(function(){return Lr})),n.d(o,"encryptData",(function(){return Wr})),n.d(o,"decryptData",(function(){return Qr})),n.d(o,"decode",(function(){return Gr})),n.d(o,"encode",(function(){return zr})),n.d(o,"rlp",(function(){return Yr}));var i={};n.r(i),n.d(i,"deriveKeyUsingArgon2id",(function(){return ma})),n.d(i,"getAddressFromPriv",(function(){return ja})),n.d(i,"recover",(function(){return Ca})),n.d(i,"dump",(function(){return Ta})),n.d(i,"validateKeyObj",(function(){return Aa}));var c={};n.r(c),n.d(c,"calculateMinFee",(function(){return Wa})),n.d(c,"calculateFee",(function(){return Ga})),n.d(c,"validateParams",(function(){return za})),n.d(c,"buildRawTx",(function(){return Ya})),n.d(c,"unpackRawTx",(function(){return $a})),n.d(c,"buildTx",(function(){return Ja})),n.d(c,"unpackTx",(function(){return Xa})),n.d(c,"buildTxHash",(function(){return Za})),n.d(c,"default",(function(){return to}));var s=n(54),u=n.n(s),p=n(32),f=n(80),l=n(55),d=n.n(l),h=n(13),m=n.n(h),v=n(81),b=n.n(v),y=n(82),g=n.n(y),x=n(3),w=n.n(x);function k(t,e){var n=t-e.length;if(n>0){var r=new Uint8Array(n);return r.fill(0,n),Buffer.concat([r,e])}return e}function O(t,e){var n=t-e.length;if(n>0){var r=new Uint8Array(n);return r.fill(0,n),Buffer.concat([e,r])}return e}function j(t){var e=t.toString(16);return e.length%2>0&&(e="0"+e),Buffer.from(e,"hex")}function C(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==t)return Buffer.from([]);if(Number.isInteger(t)||x.BigNumber.isBigNumber(t)||e)return x.BigNumber.isBigNumber(t)||(t=Object(x.BigNumber)(t)),j(t);if("string"==typeof t)return t.toString("utf-8");throw new Error("Byte serialization not supported")}var I,T,P,A,E,S,_,B,N,D=n(85),V=n.n(D),q=n(84),F=n.n(q),M=n(38),R=n.n(M),K=n(56),U=n.n(K),H=n(83),L=n.n(H),W=n(5),Q=n.n(W),G=n(18),z=n.n(G),Y=n(8),$=n.n(Y),J=n(1),X=n.n(J),Z=1579e3,tt=["chain","test"],et={31:w()(3).times(1e14),30:w()(5).times(1e14),29:w()(8).times(1e14),28:w()(13).times(1e14),27:w()(21).times(1e14),26:w()(34).times(1e14),25:w()(55).times(1e14),24:w()(89).times(1e14),23:w()(144).times(1e14),22:w()(233).times(1e14),21:w()(377).times(1e14),20:w()(610).times(1e14),19:w()(987).times(1e14),18:w()(1597).times(1e14),17:w()(2584).times(1e14),16:w()(4181).times(1e14),15:w()(6765).times(1e14),14:w()(10946).times(1e14),13:w()(17711).times(1e14),12:w()(28657).times(1e14),11:w()(46368).times(1e14),10:w()(75025).times(1e14),9:w()(121393).times(1e14),8:w()(196418).times(1e14),7:w()(317811).times(1e14),6:w()(514229).times(1e14),5:w()(832040).times(1e14),4:w()(1346269).times(1e14),3:w()(2178309).times(1e14),2:w()(3524578).times(1e14),1:w()(5702887).times(1e14)},nt={13:w()(0),12:w()(480),8:w()(31).times(480),4:w()(62).times(480)},rt=function(t,e,n){return[t,e,n]},at=function(t,e){return[t,e]},ot="account",it="signedTx",ct="spendTx",st="nameClaimTx",ut="namePreClaimTx",pt="nameUpdateTx",ft="nameRevokeTx",lt="nameTransfer",dt="contract",ht="contractCreateTx",mt="contractCallTx",vt="contractCallResult",bt="oracleRegister",yt="oracleExtend",gt="oracleQuery",xt="oracleResponse",wt="channelCreate",kt="channelCloseMutual",Ot="channelCloseSolo",jt="channelSlash",Ct="channelDeposit",It="channelWithdraw",Tt="channelSettle",Pt="channelOffChain",At="channel",Et="channelSnapshotSolo",St="channelOffChainUpdateTransfer",_t="channelOffChainUpdateDeposit",Bt="channelOffChainUpdateWithdrawal",Nt="channelOffChainCreateContract",Dt="channelOffChainCallContract",Vt="channelReconnect",qt="proofOfInclusion",Ft="stateTrees",Mt="merklePatriciaTree",Rt="merklePatriciaTreeValue",Kt="contractsTree",Ut="contractCallsTree",Ht="channelsTree",Lt="nameserviceTree",Wt="oraclesTree",Qt="accountsTree",Gt="gaAttach",zt="gaMeta",Yt="sophiaByteCode",$t=1,Jt=3,Xt=4,Zt=5,te=6,ee=0,ne=1,re=3,ae="fate",oe="aevm",ie=[3],ce={1:(I={},X()(I,ht,{vmVersion:[$t],abiVersion:[ne]}),X()(I,mt,{vmVersion:[$t],abiVersion:[ne]}),X()(I,bt,{vmVersion:[$t],abiVersion:[ee,ne]}),I),2:(T={},X()(T,ht,{vmVersion:[Jt],abiVersion:[ne]}),X()(T,mt,{vmVersion:[Jt,$t],abiVersion:[ne]}),X()(T,bt,{vmVersion:[Jt],abiVersion:[ee,ne]}),T),3:(P={},X()(P,ht,{vmVersion:[Xt],abiVersion:[ne]}),X()(P,mt,{vmVersion:[Xt,$t,Jt],abiVersion:[ne]}),X()(P,bt,{vmVersion:[],abiVersion:[ee,ne]}),P),4:(A={},X()(A,ht,{vmVersion:[Zt,te],abiVersion:[re,ne]}),X()(A,mt,{vmVersion:[Zt,te,Xt,$t,Jt],abiVersion:[re,ne]}),X()(A,bt,{vmVersion:[],abiVersion:[ee,ne]}),A)},se=(E={},X()(E,10,ot),X()(E,11,it),X()(E,12,ct),X()(E,32,st),X()(E,33,ut),X()(E,34,pt),X()(E,35,ft),X()(E,36,lt),X()(E,40,dt),X()(E,42,ht),X()(E,43,mt),X()(E,41,vt),X()(E,22,bt),X()(E,25,yt),X()(E,23,gt),X()(E,24,xt),X()(E,50,wt),X()(E,53,kt),X()(E,54,Ot),X()(E,55,jt),X()(E,51,Ct),X()(E,52,It),X()(E,56,Tt),X()(E,57,Pt),X()(E,58,At),X()(E,59,Et),X()(E,570,St),X()(E,571,_t),X()(E,572,Bt),X()(E,573,Nt),X()(E,574,Dt),X()(E,575,Vt),X()(E,60,qt),X()(E,62,Ft),X()(E,63,Mt),X()(E,64,Rt),X()(E,621,Kt),X()(E,622,Ut),X()(E,623,Ht),X()(E,624,Lt),X()(E,625,Wt),X()(E,626,Qt),X()(E,80,Gt),X()(E,81,zt),X()(E,70,Yt),E),ue={int:"int",amount:"amount",id:"id",ids:"ids",string:"string",binary:"binary",rlpBinary:"rlpBinary",rlpBinaries:"rlpBinaries",rawBinary:"rawBinary",bool:"bool",hex:"hex",signatures:"signatures",pointers:"pointers",offChainUpdates:"offChainUpdates",callStack:"callStack",proofOfInclusion:"proofOfInclusion",mptree:"mptree",callReturnType:"callReturnType",ctVersion:"ctVersion",sophiaCodeTypeInfo:"sophiaCodeTypeInfo",payload:"payload"},pe={ak:1,nm:2,cm:3,ok:4,ct:5,ch:6},fe=(N=pe,Object.entries(N).reduce((function(t,e){var n=Q()(e,2),r=n[0];return(t[n[1]]=r)&&t}),{})),le=(S={},X()(S,ue.int,(function(t){var e=t.value,n=t.isMinusValue;return"".concat(e,n?" must be >= 0":" is not of type Number or BigNumber")})),X()(S,ue.amount,(function(t){var e=t.value,n=t.isMinusValue;return"".concat(e,n?" must be >= 0":" is not of type Number or BigNumber")})),X()(S,ue.id,(function(t){var e=t.value,n=t.prefix;return"'".concat(e,"' prefix doesn't match expected prefix '").concat(n,"' or ID_TAG for prefix not found")})),X()(S,ue.binary,(function(t){var e=t.prefix,n=t.value;return"'".concat(n,"' prefix doesn't match expected prefix '").concat(e,"'")})),X()(S,ue.string,(function(t){t.value;return"Not a string"})),X()(S,ue.pointers,(function(t){t.value;return'Value must be of type Array and contains only object\'s like \'{key: "account_pubkey", id: "ak_lkamsflkalsdalksdlasdlasdlamd"}\''})),X()(S,ue.ctVersion,(function(t){t.value;return'Value must be an object with "vmVersion" and "abiVersion" fields'})),S),de=[rt("tag",ue.int),rt("VSN",ue.int)],he=[].concat(de,[rt("nonce",ue.int),rt("balance",ue.int)]),me=[].concat(de,[rt("sourceCodeHash",ue.rawBinary),rt("typeInfo",ue.sophiaCodeTypeInfo),rt("byteCode",ue.rawBinary),rt("compilerVersion",ue.string),rt("payable",ue.bool)]),ve=[].concat(de,[rt("sourceCodeHash",ue.rawBinary),rt("typeInfo",ue.sophiaCodeTypeInfo),rt("byteCode",ue.rawBinary),rt("compilerVersion",ue.string)]),be=[].concat(de,[rt("sourceCodeHash",ue.rawBinary),rt("typeInfo",ue.sophiaCodeTypeInfo),rt("byteCode",ue.rawBinary)]),ye=[].concat(de,[rt("flags",ue.int),rt("nonce",ue.int),rt("balance",ue.int),rt("gaContract",ue.id,["ct","nm"]),rt("gaAuthFun",ue.binary,"cb")]),ge=[].concat(de,[rt("senderId",ue.id,"ak"),rt("recipientId",ue.id,["ak","nm"]),rt("amount",ue.amount),rt("fee",ue.int),rt("ttl",ue.int),rt("nonce",ue.int),rt("payload",ue.payload)]),xe=[].concat(de,[rt("signatures",ue.signatures),rt("encodedTx",ue.rlpBinary)]),we=[].concat(de,[rt("accountId",ue.id,"ak"),rt("nonce",ue.int),rt("commitmentId",ue.id,"cm"),rt("fee",ue.int),rt("ttl",ue.int)]),ke=[].concat(de,[rt("accountId",ue.id,"ak"),rt("nonce",ue.int),rt("name",ue.binary,"nm"),rt("nameSalt",ue.int),rt("fee",ue.int),rt("ttl",ue.int)]),Oe=[].concat(de,[rt("accountId",ue.id,"ak"),rt("nonce",ue.int),rt("name",ue.binary,"nm"),rt("nameSalt",ue.int),rt("nameFee",ue.amount),rt("fee",ue.int),rt("ttl",ue.int)]),je=[].concat(de,[rt("accountId",ue.id,"ak"),rt("nonce",ue.int),rt("nameId",ue.id,"nm"),rt("nameTtl",ue.int),rt("pointers",ue.pointers),rt("clientTtl",ue.int),rt("fee",ue.int),rt("ttl",ue.int)]),Ce=[].concat(de,[rt("accountId",ue.id,"ak"),rt("nonce",ue.int),rt("nameId",ue.id,"nm"),rt("recipientId",ue.id,["ak","nm"]),rt("fee",ue.int),rt("ttl",ue.int)]),Ie=[].concat(de,[rt("accountId",ue.id,"ak"),rt("nonce",ue.int),rt("nameId",ue.id,"nm"),rt("fee",ue.int),rt("ttl",ue.int)]),Te=[].concat(de,[rt("owner",ue.id,"ak"),rt("ctVersion",ue.int),rt("code",ue.binary,"cb"),rt("log",ue.binary,"cb"),rt("active",ue.bool),rt("referers",ue.ids,"ak"),rt("deposit",ue.amount)]),Pe=[].concat(de,[rt("ownerId",ue.id,"ak"),rt("nonce",ue.int),rt("code",ue.binary,"cb"),rt("authFun",ue.rawBinary),rt("ctVersion",ue.ctVersion),rt("fee",ue.int),rt("ttl",ue.int),rt("gas",ue.int),rt("gasPrice",ue.int),rt("callData",ue.binary,"cb")]),Ae=[].concat(de,[rt("gaId",ue.id,"ak"),rt("authData",ue.binary,"cb"),rt("abiVersion",ue.int),rt("fee",ue.int),rt("gas",ue.int),rt("gasPrice",ue.int),rt("ttl",ue.int),rt("tx",ue.rlpBinary)]),Ee=[].concat(de,[rt("ownerId",ue.id,"ak"),rt("nonce",ue.int),rt("code",ue.binary,"cb"),rt("ctVersion",ue.ctVersion),rt("fee",ue.int),rt("ttl",ue.int),rt("deposit",ue.amount),rt("amount",ue.amount),rt("gas",ue.int),rt("gasPrice",ue.int),rt("callData",ue.binary,"cb")]),Se=[].concat(de,[rt("callerId",ue.id,"ak"),rt("nonce",ue.int),rt("contractId",ue.id,["ct","nm"]),rt("abiVersion",ue.int),rt("fee",ue.int),rt("ttl",ue.int),rt("amount",ue.amount),rt("gas",ue.int),rt("gasPrice",ue.int),rt("callData",ue.binary,"cb")]),_e=[].concat(de,[rt("callerId",ue.id,"ak"),rt("callerNonce",ue.int),rt("height",ue.int),rt("contractId",ue.id,"ct"),rt("gasPrice",ue.int),rt("gasUsed",ue.int),rt("returnValue",ue.binary,"cb"),rt("returnType",ue.callReturnType),rt("log",ue.rawBinary)]),Be=[].concat(de,[rt("accountId",ue.id,"ak"),rt("nonce",ue.int),rt("queryFormat",ue.string),rt("responseFormat",ue.string),rt("queryFee",ue.amount),rt("oracleTtlType",ue.int),rt("oracleTtlValue",ue.int),rt("fee",ue.int),rt("ttl",ue.int),rt("abiVersion",ue.int)]),Ne=[].concat(de,[rt("oracleId",ue.id,["ok","nm"]),rt("nonce",ue.int),rt("oracleTtlType",ue.int),rt("oracleTtlValue",ue.int),rt("fee",ue.int),rt("ttl",ue.int)]),De=[].concat(de,[rt("senderId",ue.id,"ak"),rt("nonce",ue.int),rt("oracleId",ue.id,["ok","nm"]),rt("query",ue.string),rt("queryFee",ue.amount),rt("queryTtlType",ue.int),rt("queryTtlValue",ue.int),rt("responseTtlType",ue.int),rt("responseTtlValue",ue.int),rt("fee",ue.int),rt("ttl",ue.int)]),Ve=[].concat(de,[rt("oracleId",ue.id,"ok"),rt("nonce",ue.int),rt("queryId",ue.binary,"oq"),rt("response",ue.string),rt("responseTtlType",ue.int),rt("responseTtlValue",ue.int),rt("fee",ue.int),rt("ttl",ue.int)]),qe=[].concat(de,[rt("initiator",ue.id,"ak"),rt("initiatorAmount",ue.int),rt("responder",ue.id,"ak"),rt("responderAmount",ue.int),rt("channelReserve",ue.int),rt("lockPeriod",ue.int),rt("ttl",ue.int),rt("fee",ue.int),rt("delegateIds",ue.string),rt("stateHash",ue.binary,"st"),rt("nonce",ue.int)]),Fe=[].concat(de,[rt("channelId",ue.id,"ch"),rt("fromId",ue.id,"ak"),rt("amount",ue.int),rt("ttl",ue.int),rt("fee",ue.int),rt("stateHash",ue.binary,"st"),rt("round",ue.int),rt("nonce",ue.int)]),Me=[].concat(de,[rt("channelId",ue.id,"ch"),rt("toId",ue.id,"ak"),rt("amount",ue.int),rt("ttl",ue.int),rt("fee",ue.int),rt("stateHash",ue.binary,"st"),rt("round",ue.int),rt("nonce",ue.int)]),Re=[].concat(de,[rt("channelId",ue.id,"ch"),rt("fromId",ue.id,"ak"),rt("initiatorAmountFinal",ue.int),rt("responderAmountFinal",ue.int),rt("ttl",ue.int),rt("fee",ue.int),rt("nonce",ue.int)]),Ke=[].concat(de,[rt("channelId",ue.id,"ch"),rt("fromId",ue.id,"ak"),rt("payload",ue.binary,"tx"),rt("poi",ue.binary,"pi"),rt("ttl",ue.int),rt("fee",ue.int),rt("nonce",ue.int)]),Ue=[].concat(de,[rt("channelId",ue.id,"ch"),rt("fromId",ue.id,"ak"),rt("payload",ue.binary,"tx"),rt("poi",ue.binary,"pi"),rt("ttl",ue.int),rt("fee",ue.int),rt("nonce",ue.int)]),He=[].concat(de,[rt("channelId",ue.id,"ch"),rt("fromId",ue.id,"ak"),rt("initiatorAmountFinal",ue.int),rt("responderAmountFinal",ue.int),rt("ttl",ue.int),rt("fee",ue.int),rt("nonce",ue.int)]),Le=[].concat(de,[rt("channelId",ue.id,"ch"),rt("round",ue.int),rt("updates",ue.offChainUpdates),rt("stateHash",ue.binary,"st")]),We=[].concat(de,[rt("channelId",ue.id,"ch"),rt("round",ue.int),rt("stateHash",ue.binary,"st")]),Qe=[].concat(de,[rt("initiator",ue.id,"ak"),rt("responder",ue.id,"ak"),rt("channelAmount",ue.int),rt("initiatorAmount",ue.int),rt("responderAmount",ue.int),rt("channelReserve",ue.int),rt("delegateIds",ue.ids),rt("stateHash",ue.hex),rt("round",ue.int),rt("soloRound",ue.int),rt("lockPeriod",ue.int),rt("lockedUntil",ue.int)]),Ge=[].concat(de,[rt("initiator",ue.id,"ak"),rt("responder",ue.id,"ak"),rt("channelAmount",ue.int),rt("initiatorAmount",ue.int),rt("responderAmount",ue.int),rt("channelReserve",ue.int),rt("delegateIds",ue.ids),rt("stateHash",ue.hex),rt("round",ue.int),rt("soloRound",ue.int),rt("lockPeriod",ue.int),rt("lockedUntil",ue.int),rt("initiatorAuth",ue.binary,"cb"),rt("responderAuth",ue.binary,"cb")]),ze=[].concat(de,[rt("channelId",ue.id,"ch"),rt("fromId",ue.id,"ak"),rt("payload",ue.binary,"tx"),rt("ttl",ue.int),rt("fee",ue.int),rt("nonce",ue.int)]),Ye=[].concat(de,[rt("owner",ue.id,"ak"),rt("ctVersion",ue.int),rt("code",ue.binary,"cb"),rt("deposit",ue.int),rt("callData",ue.binary,"cb")]),$e=[].concat(de,[rt("caller",ue.id,"ak"),rt("contract",ue.id,"ct"),rt("abiVersion",ue.int),rt("amount",ue.int),rt("callData",ue.binary,"cb"),rt("callStack",ue.callStack),rt("gasPrice",ue.int),rt("gasLimit",ue.int)]),Je=[].concat(de,[rt("channelId",ue.id,"ch"),rt("round",ue.int),rt("role",ue.string),rt("pubkey",ue.id,"ak")]),Xe=[].concat(de,[rt("from",ue.id,"ak"),rt("to",ue.id,"ak"),rt("amount",ue.int)]),Ze=[].concat(de,[rt("from",ue.id,"ak"),rt("amount",ue.int)]),tn=[].concat(de,[rt("from",ue.id,"ak"),rt("amount",ue.int)]),en=[].concat(de,[rt("accounts",ue.mptrees),rt("calls",ue.mptrees),rt("channels",ue.mptrees),rt("contracts",ue.mptrees),rt("ns",ue.mptrees),rt("oracles",ue.mptrees)]),nn=[].concat(de,[rt("contracts",ue.rlpBinary),rt("calls",ue.rlpBinary),rt("channels",ue.rlpBinary),rt("ns",ue.rlpBinary),rt("oracles",ue.rlpBinary),rt("accounts",ue.rlpBinary)]),rn=[].concat(de,[rt("values",ue.rlpBinaries)]),an=[].concat(de,[rt("key",ue.hex),rt("value",ue.rawBinary)]),on=[].concat(de,[rt("contracts",ue.rlpBinary)]),cn=[].concat(de,[rt("calls",ue.rlpBinary)]),sn=[].concat(de,[rt("channels",ue.rlpBinary)]),un=[].concat(de,[rt("mtree",ue.rlpBinary)]),pn=[].concat(de,[rt("otree",ue.rlpBinary)]),fn=[].concat(de,[rt("accounts",ue.rlpBinary)]),ln=(_={},X()(_,ot,{1:at(he,10),2:at(ye,10)}),X()(_,it,{1:at(xe,11)}),X()(_,ct,{1:at(ge,12)}),X()(_,ut,{1:at(we,33)}),X()(_,st,{1:at(ke,32),2:at(Oe,32)}),X()(_,pt,{1:at(je,34)}),X()(_,lt,{1:at(Ce,36)}),X()(_,ft,{1:at(Ie,35)}),X()(_,dt,{1:at(Te,40)}),X()(_,ht,{1:at(Ee,42)}),X()(_,mt,{1:at(Se,43)}),X()(_,vt,{1:at(_e,41)}),X()(_,bt,{1:at(Be,22)}),X()(_,yt,{1:at(Ne,25)}),X()(_,gt,{1:at(De,23)}),X()(_,xt,{1:at(Ve,24)}),X()(_,wt,{1:at(qe,50)}),X()(_,kt,{1:at(Re,53)}),X()(_,Ot,{1:at(Ke,54)}),X()(_,jt,{1:at(Ue,55)}),X()(_,Ct,{1:at(Fe,51)}),X()(_,It,{1:at(Me,52)}),X()(_,Tt,{1:at(He,56)}),X()(_,Pt,{1:at(Le,57),2:at(We,57)}),X()(_,At,{1:at(Qe,58),2:at(Ge,58)}),X()(_,Et,{1:at(ze,59)}),X()(_,St,{1:at(Xe,570)}),X()(_,_t,{1:at(Ze,571)}),X()(_,Bt,{1:at(tn,572)}),X()(_,Nt,{1:at(Ye,573)}),X()(_,Dt,{1:at($e,574)}),X()(_,Vt,{1:at(Je,575)}),X()(_,qt,{1:at(en,60)}),X()(_,Ft,{1:at(nn,62)}),X()(_,Mt,{1:at(rn,63)}),X()(_,Rt,{1:at(an,64)}),X()(_,Kt,{1:at(on,621)}),X()(_,Ut,{1:at(cn,622)}),X()(_,Ht,{1:at(sn,623)}),X()(_,Lt,{1:at(un,624)}),X()(_,Wt,{1:at(pn,625)}),X()(_,Qt,{1:at(fn,626)}),X()(_,Gt,{1:at(Pe,80)}),X()(_,zt,{1:at(Ae,81)}),_),dn=(B={},X()(B,10,{1:at(he,10),2:at(ye,10)}),X()(B,11,{1:at(xe,11)}),X()(B,12,{1:at(ge,12)}),X()(B,33,{1:at(we,33)}),X()(B,32,{1:at(ke,32),2:at(Oe,32)}),X()(B,34,{1:at(je,34)}),X()(B,36,{1:at(Ce,36)}),X()(B,35,{1:at(Ie,35)}),X()(B,40,{1:at(Te,40)}),X()(B,42,{1:at(Ee,42)}),X()(B,43,{1:at(Se,43)}),X()(B,41,{1:at(_e,41)}),X()(B,22,{1:at(Be,22)}),X()(B,25,{1:at(Ne,25)}),X()(B,23,{1:at(De,23)}),X()(B,24,{1:at(Ve,24)}),X()(B,50,{1:at(qe,50)}),X()(B,53,{1:at(Re,53)}),X()(B,54,{1:at(Ke,54)}),X()(B,55,{1:at(Ue,55)}),X()(B,51,{1:at(Fe,51)}),X()(B,52,{1:at(Me,52)}),X()(B,56,{1:at(He,56)}),X()(B,57,{1:at(Le,57),2:at(We,57)}),X()(B,58,{1:at(Qe,58),2:at(Ge,58)}),X()(B,59,{1:at(ze,59)}),X()(B,570,{1:at(Xe,570)}),X()(B,571,{1:at(Ze,571)}),X()(B,572,{1:at(tn,572)}),X()(B,573,{1:at(Ye,573)}),X()(B,574,{1:at($e,574)}),X()(B,575,{1:at(Je,575)}),X()(B,60,{1:at(en,60)}),X()(B,62,{1:at(nn,62)}),X()(B,63,{1:at(rn,63)}),X()(B,64,{1:at(an,64)}),X()(B,621,{1:at(on,621)}),X()(B,622,{1:at(cn,622)}),X()(B,623,{1:at(sn,623)}),X()(B,624,{1:at(un,624)}),X()(B,625,{1:at(pn,625)}),X()(B,626,{1:at(fn,626)}),X()(B,80,{1:at(Pe,80)}),X()(B,81,{1:at(Ae,81)}),X()(B,70,{1:at(be,70),2:at(ve,70),3:at(me,70)}),B),hn="error",mn="warning",vn=function(t,e,n){return[t,e,n]},bn="insufficientFee",yn="expiredTTL",gn="insufficientBalanceForAmountFee",xn="insufficientBalanceForAmount",wn="nonceUsed",kn="nonceHigh",On="minGasPrice",jn="vmAndAbiVersion",Cn="insufficientBalanceForFeeNameFee",In={invalidSignature:{key:"InvalidSignature",type:hn,txKey:"signature"},insufficientFee:{key:"InsufficientFee",type:hn,txKey:"fee"},expiredTTL:{key:"ExpiredTTL",type:hn,txKey:"ttl"},insufficientBalanceForAmountFee:{key:"InsufficientBalanceForAmountFee",type:mn,txKey:"fee"},insufficientBalanceForAmount:{key:"InsufficientBalanceForAmount",type:mn,txKey:"amount"},nonceUsed:{key:"NonceUsed",type:hn,txKey:"nonce"},nonceHigh:{key:"NonceHigh",type:mn,txKey:"nonce"},minGasPrice:{key:"minGasPrice",type:hn,txKey:"gasPrice"},vmAndAbiVersion:{key:"vmAndAbiVersion",type:hn,txKey:"ctVersion"},insufficientBalanceForFeeNameFee:{key:"insufficientBalanceForFeeNameFee",type:hn,txKey:"nameFee"}},Tn=[vn((function(){return"The signature cannot be verified, please verify that you used the correct network id and the correct private key for the sender address"}),"signature",In.invalidSignature)],Pn=[vn((function(t){t.ctVersion;var e=t.consensusProtocolVersion,n=t.txType;return"Wrong abi/vm version, Supported is: ".concat(ce[e]?JSON.stringify(ce[e][n]):" None for this protocol "+e)}),jn,In.vmAndAbiVersion),vn((function(){return"The gasPrice must be bigger then ".concat(1e9)}),On,In.minGasPrice)],An=[vn((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),Cn,In.insufficientBalanceForFeeNameFee)],En=[vn((function(t){var e=t.minFee;return"The fee for the transaction is too low, the minimum fee for this transaction is ".concat(e)}),bn,In.insufficientFee),vn((function(t){var e=t.height;return"The TTL is already expired, the current height is ".concat(e)}),yn,In.expiredTTL),vn((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),gn,In.insufficientBalanceForAmountFee),vn((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),xn,In.insufficientBalanceForAmount),vn((function(t){var e=t.accountNonce;return"The nonce is invalid(already used). Next valid nonce is ".concat(e+1,")")}),wn,In.nonceUsed),vn((function(t){var e=t.accountNonce;return"The nonce is technically valid but will not be processed immediately by the node (next valid nonce is ".concat(e+1,")")}),kn,In.nonceHigh)];function Sn(t){return Object(x.BigNumber)(t.toString()).toString(10)}function _n(t){return Object(x.BigNumber)(t.toString())}function Bn(t){return!isNaN(t)||Number.isInteger(t)||x.BigNumber.isBigNumber(t)}function Nn(t){return t.integerValue(x.BigNumber.ROUND_CEIL)}var Dn=mr,Vn=["tx","st","ss","pi","ov","or","cb","cs","ba"];function qn(t,e){return Wn(dr(Buffer.from([].concat($()(Ln(t,"ak")),$()(C(e))))),"ct")}function Fn(t,e){return Wn(dr(e),t)}function Mn(t,e,n){var r;return Wn(dr(Buffer.from([].concat($()(Ln(t,"ak")),$()((r=C(e,!0),Buffer.concat([Buffer.alloc(32-r.length),r]))),$()(Ln(n,"ok"))))),"oq")}function Rn(t){return Buffer.from(t.toString(16).padStart(64,"0"),"hex")}function Kn(t){var e=Buffer.allocUnsafe(32).fill(0);if(t){for(var n=t.split("."),r=0;r<n.length;r++)e=dr(Buffer.concat([e,dr(n[r])]));return e}return e}function Un(t){return Wn("chain"===z()(t.split("."))?dr(t.toLowerCase()):Kn(t),"nm")}function Hn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn(),n=z()(t.split("."));return"cm_".concat(gr(dr("chain"===n?Buffer.concat([Buffer.from(t.toLowerCase()),Rn(e)]):Buffer.concat([Kn(t.toLowerCase()),Rn(e)]))))}function Ln(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||(e=t.split("_")[0]),Vn.includes(e)?yr(Rr(t,e)):xr(Rr(t,e))}function Wn(t,e){return"".concat(e,"_").concat(Vn.includes(e)?vr(t):gr(t))}function Qn(t){var e=t.slice(0,2),n=pe[e];if(!n)throw new Error("Id tag for prefix ".concat(e," not found."));return Buffer.from([].concat($()(C(n)),$()(Ln(t,e))))}function Gn(t){var e=t.readUIntBE(0,1),n=fe[e];if(!n)throw new Error("Prefix for id-tag ".concat(e," not found."));return Wn(t.slice(1,t.length),n)}function zn(t){return C(t,!0)}function Yn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Buffer.from([]);return w()(t.toString("hex"),16).toString(10)}function $n(t){return t.map((function(t){return[C(t.key),Qn(t.id)]}))}function Jn(t){return t.map((function(t){var e=Q()(t,2),n=e[0],r=e[1];return Object.assign({key:n.toString(),id:Gn(r)})}))}function Xn(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((!t||"string"!=typeof t)&&e)throw new Error("AENS: Name must be a string");if(!tt.includes(z()(t.split(".")))){if(e)throw new Error("AENS: Invalid name domain. Possible domains [".concat(tt,"]"));return!1}return!0}function Zn(t){var e={ak:"account_pubkey",ok:"oracle_pubkey",ct:"contract_pubkey",ch:"channel"};if(!t.match(/^[a-z]{2}_.+/))throw Error("Not a valid hash");var n=t.substr(0,2);if(n in e)return e[n];throw Error("Unknown class ".concat(n))}function tr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!t.find((function(t){return!t||"string"!=typeof t||!["ak","ok","ct","ch"].includes(t.split("_")[0])}))}function er(t){var e=t.replace(".chain","").length;return et[e>=12?12:e]}function nr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05;if(Number(n)!==n||n%1==0)throw new Error("Increment must be float. Current increment ".concat(n));if(n<.05)throw new Error("minimum increment percentage is ".concat(.05));return Nn(w()(w()(e).eq(0)?er(t):e).times(w()(.05).plus(1)))}function rr(t,e){return L()([[U()(5),R()(nt[4].plus(e))],[U()(9),R()(nt[8].plus(e))],[F()(12),R()(nt[12].plus(e))],[V.a,R()(w()(e))]])(t.replace(".chain","").length).toString(10)}function ar(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.abiVersion;return ie.includes(parseInt(e))?ae:oe}function or(t){return t.replace(".chain","").length<13}var ir={readPointers:Jn,buildPointers:$n,buildContractId:qn,readId:Gn,writeId:Qn,readInt:Yn,writeInt:zn,encode:Wn,decode:Ln,commitmentHash:Hn,formatSalt:Rn,oracleQueryId:Mn,getContractBackendFromTx:ar,createSalt:Dn,buildHash:Fn,isNameValid:Xn,produceNameId:Un,classify:Zn,isAuctionName:or,validatePointers:tr},cr=b.a.ModeOfOperation.ecb,sr={sophia:1,api:2,raw:3};function ur(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr.api,e=arguments.length>1?arguments[1]:void 0;switch(t){case sr.api:return e;case sr.sophia:return"0x".concat(Ln(e,"ak").toString("hex"))}}function pr(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ak";try{e=32===xr(Rr(t,n)).length}catch(t){e=!1}return e}function fr(t){return"0x".concat(xr(Rr(t,"ak")).toString("hex"))}function lr(t){return Vr(C(t,!0))}function dr(t){return Buffer.from(Object(f.blake2b)(t,null,32))}function hr(t){return g()("sha256").update(t).digest()}function mr(){return Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER))}function vr(t){var e=Buffer.from(t),n=br(t);return Buffer.concat([e,n],e.length+4).toString("base64")}function br(t){return hr(hr(t)).slice(0,4)}function yr(t){var e=function(t){var e=t.slice(0,-4),n=t.slice(-4),r=br(e);if(n.equals(r))return e}(Buffer.from(t,"base64"));if(!e)throw new Error("Invalid checksum");return Buffer.from(e)}function gr(t){return u.a.encode(Buffer.from(t))}function xr(t){return u.a.decode(t)}function wr(t){if(!t)return new Uint8Array;for(var e=[],n=0,r=t.length;n<r;n+=2)e.push(parseInt(t.substr(n,2),16));return new Uint8Array(e)}function kr(t){var e=Buffer.allocUnsafe(4);return e.writeUInt32BE(t),e.slice(e.findIndex((function(t){return 0!==t})))}function Or(t,e){var n=xr(Rr(t,"ak")),r=Buffer.concat([n,kr(e)]);return"ct_".concat(gr(dr(r)))}function jr(t){return m.a.sign.keyPair.fromSecretKey(t)}function Cr(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=m.a.sign.keyPair(),n=Buffer.from(e.publicKey),r=Buffer.from(e.secretKey);return t?{publicKey:n,secretKey:r}:{publicKey:"ak_".concat(gr(n)),secretKey:r.toString("hex")}}function Ir(t,e){return Pr(t,O(32,e))}function Tr(t,e){return Pr(t,k(64,e))}function Pr(t,e){var n=hr(t);return new cr(n).encrypt(e)}function Ar(t,e){var n=Buffer.from(e),r=hr(t),a=new cr(r);return Buffer.from(a.decrypt(n))}function Er(t,e){return m.a.sign.detached(Buffer.from(t),Buffer.from(e))}function Sr(t,e,n){return m.a.sign.detached.verify(new Uint8Array(t),e,n)}function _r(t,e){return[Buffer.from([11]),Buffer.from([1]),[Buffer.from(t)],e]}function Br(t){var e=Buffer.from("aeternity Signed Message:\n","utf8"),n=Buffer.from(t,"utf8");if(n.length>=253)throw new Error("message too long");return Buffer.concat([Buffer.from([e.length]),e,Buffer.from([n.length]),n])}function Nr(t,e){return Er(dr(Br(t)),e)}function Dr(t,e,n){return Sr(dr(Br(t)),e,n)}function Vr(t){var e=gr(Buffer.from(t,"hex"));return"ak_".concat(e)}function qr(t){var e=Cr(!0);return{publicKey:Ir(t,e.publicKey),secretKey:Tr(t,e.secretKey)}}function Fr(t,e){return Ar(t,e)}function Mr(t,e){return Ar(t,e).slice(0,65)}function Rr(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(RegExp("^".concat(e,"_.+$")).test(t))return t.split("_")[1];if(!n)throw Error("Data doesn't match expected type ".concat(e));return!1}function Kr(t){return p.decode(Buffer.from(yr(Rr(t,"tx"))))}function Ur(t){var e=vr(p.encode(t));return"tx_".concat(e)}function Hr(t,e){var n=Buffer.from("TheMessage");return Sr(n,Er(n,t),e)}function Lr(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={secretKey:t.WALLET_PRIV,publicKey:t.WALLET_PUB};if(n.publicKey&&n.secretKey)return n;if(!e)throw Error("Environment variables WALLET_PRIV and WALLET_PUB need to be set")}function Wr(t,e){var n=m.a.box.keyPair(),r=xr(Rr(e,"ak")),a=m.a.randomBytes(m.a.box.nonceLength),o=m.a.box(Buffer.from(t),a,d.a.convertPublicKey(r),n.secretKey);return{ciphertext:Buffer.from(o).toString("hex"),ephemPubKey:Buffer.from(n.publicKey).toString("hex"),nonce:Buffer.from(a).toString("hex"),version:"x25519-xsalsa20-poly1305"}}function Qr(t,e){var n=d.a.convertSecretKey(Buffer.from(t,"hex")),r=Buffer.from(e.nonce,"hex"),a=Buffer.from(e.ciphertext,"hex"),o=Buffer.from(e.ephemPubKey,"hex"),i=m.a.box.open(a,r,o,n);return i?Buffer.from(i):i}var Gr=p.decode,zr=p.encode,Yr=p,$r=n(0),Jr=n.n($r),Xr=n(2),Zr=n.n(Xr),ta=n(22),ea=n(89),na=n.n(ea),ra=n(58),aa=n.n(ra);function oa(t){return t.replace(/_./g,(function(t){return aa()(t[1])}))}function ia(t){return t.replace(/[A-Z]/g,(function(t){return"_".concat(na()(t))}))}function ca(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/i))}function sa(t){return"string"==typeof t&&(2===t.split("_")[0].length&&pr(t))}function ua(t){if(t.length%4>0||t.match(/[^0-9a-z+/=]/i))return!1;var e=t.indexOf("=");return!(-1!==e&&!t.slice(e).match(/={1,2}/))}function pa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pa(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var la=n(143),da={crypto:{secret_type:"ed25519",symmetric_alg:"xsalsa20-poly1305",kdf:"argon2id",kdf_params:{memlimit_kib:65536,opslimit:3,parallelism:1}}},ha={argon2id:ma};function ma(t,e,n){return va.apply(this,arguments)}function va(){return(va=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.kdf_params,o=a.memlimit_kib,i=a.opslimit,t.abrupt("return",la.ready.then(Zr()(Jr.a.mark((function t(){var r,a;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(r=la).crypto_pwhash(32,e,n,i,1024*o,r.crypto_pwhash_ALG_ARGON2ID13),t.abrupt("return",Buffer.from(a));case 3:case"end":return t.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ba={"xsalsa20-poly1305":{encrypt:function(t){var e=t.plaintext,n=t.key,r=t.nonce;return m.a.secretbox(e,r,n)},decrypt:function(t){var e=t.ciphertext,n=t.key,r=t.nonce,a=m.a.secretbox.open(e,r,n);if(!a)throw new Error("Invalid password or nonce");return a}}};function ya(t,e){return t&&t.constructor===String?(!e&&ca(t)&&(e="hex"),!e&&ua(t)&&(e="base64"),Buffer.from(t,e)):t}function ga(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:da.crypto.symmetric_alg;if(!ba[r])throw new Error(r+" is not available");return ba[r].encrypt({plaintext:t,nonce:n,key:e})}function xa(t,e,n,r){if(!ba[r])throw new Error(r+" is not available");return ba[r].decrypt({ciphertext:t,nonce:n,key:e})}function wa(t,e){return ka.apply(this,arguments)}function ka(){return(ka=Zr()(Jr.a.mark((function t(e,n){var r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{kdf_params:da.crypto.kdf_params,kdf:da.crypto.kdf},null!=e&&n){t.next=3;break}throw new Error("Must provide password and nonce to derive a key");case 3:if(Object.prototype.hasOwnProperty.call(ha,r.kdf)){t.next=5;break}throw new Error("Unsupported kdf type");case 5:return t.abrupt("return",ha[r.kdf](e,n,r));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Oa(t,e,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=Object.assign({},da.crypto,o);return Object.assign({name:t,version:1,public_key:ja(n),id:Object(ta.v4)()},{crypto:Object.assign({secret_type:i.secret_type,symmetric_alg:i.symmetric_alg,ciphertext:Buffer.from(ga(Buffer.from(n),e,r,i.symmetric_alg)).toString("hex"),cipher_params:{nonce:Buffer.from(r).toString("hex")}},{kdf:i.kdf,kdf_params:fa({},i.kdf_params,{salt:Buffer.from(a).toString("hex")})})})}function ja(t){var e=m.a.sign.keyPair.fromSecretKey(ya(t)),n=Buffer.from(e.publicKey);return"ak_".concat(gr(n))}function Ca(t,e){return Ia.apply(this,arguments)}function Ia(){return(Ia=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Aa(n),r=Uint8Array.from(ya(n.crypto.cipher_params.nonce)),a=Uint8Array.from(ya(n.crypto.kdf_params.salt)),o=n.crypto.kdf_params,i=n.crypto.kdf,t.t0=xa,t.t1=Uint8Array.from(ya(n.crypto.ciphertext)),t.next=9,wa(e,a,{kdf:i,kdf_params:o});case 9:return t.t2=t.sent,t.t3=r,t.t4=n.crypto.symmetric_alg,t.next=14,(0,t.t0)(t.t1,t.t2,t.t3,t.t4);case 14:if(c=t.sent){t.next=17;break}throw new Error("Invalid password");case 17:return t.abrupt("return",Buffer.from(c).toString("hex"));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ta(t,e,n){return Pa.apply(this,arguments)}function Pa(){return(Pa=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i,c,s=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:m.a.randomBytes(24),o=s.length>4&&void 0!==s[4]?s[4]:m.a.randomBytes(16),i=s.length>5&&void 0!==s[5]?s[5]:{},c=Object.assign({},da.crypto,i),t.t0=Oa,t.t1=e,t.next=8,wa(n,o,c);case 8:return t.t2=t.sent,t.t3=r,t.t4=a,t.t5=o,t.t6=c,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5,t.t6));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Aa(t){var e=["crypto","id","version","public_key"].filter((function(e){return!Object.prototype.hasOwnProperty.call(t,e)}));if(e.length)throw new Error("Invalid key file format. Require properties: ".concat(e));var n=["cipher_params","ciphertext","symmetric_alg","kdf","kdf_params"].filter((function(e){return!Object.prototype.hasOwnProperty.call(t.crypto,e)}));if(n.length)throw new Error("Invalid key file format. Require properties: ".concat(n));return!0}var Ea,Sa=n(10),_a=n.n(Sa),Ba={AE:"ae",MILI_AE:"miliAE",MICRO_AE:"microAE",NANO_AE:"nanoAE",PICO_AE:"picoAE",FEMTO_AE:"femtoAE",AETTOS:"aettos"},Na=(Ea={},X()(Ea,Ba.AE,0),X()(Ea,Ba.MILI_AE,-3),X()(Ea,Ba.MICRO_AE,-6),X()(Ea,Ba.NANO_AE,-9),X()(Ea,Ba.PICO_AE,-12),X()(Ea,Ba.FEMTO_AE,-15),X()(Ea,Ba.AETTOS,-18),Ea),Da=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.denomination,r=void 0===n?Ba.AETTOS:n,a=e.targetDenomination,o=void 0===a?Ba.AETTOS:a;if(!Object.values(Ba).includes(r))throw new Error("Invalid denomination. Current: ".concat(r,", available [").concat(Object.keys(Ba),"]"));if(!Object.values(Ba).includes(o))throw new Error("Invalid target denomination. Current: ".concat(o,", available [").concat(Object.keys(Ba),"]"));if(!Bn(t))throw new Error("Value ".concat(t," is not type of number"));return _n(t).shiftedBy(Na[r]-Na[o]).toFixed()};function Va(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qa(t){return{rootHash:t[0].toString("hex"),nodes:t[1].reduce((function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Va(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,X()({},e[0].toString("hex"),e[1]))}),{})}}function Fa(t){return[Buffer.from(t.rootHash,"hex"),Object.entries(t.nodes).map((function(t){var e=Q()(t,2),n=e[0],r=e[1];return[Buffer.from(n,"hex"),r]}))]}function Ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ma(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ka="delta";function Ua(t,e,n){switch(e){case ue.amount:case ue.int:return zn(t);case ue.id:return Qn(t);case ue.ids:return t.map(Qn);case ue.bool:return Buffer.from([t?1:0]);case ue.binary:return Ln(t,n);case ue.hex:return Buffer.from(t,"hex");case ue.signatures:return t.map(Buffer.from);case ue.payload:return"string"==typeof t&&"ba"===t.split("_")[0]?Ln(t,"ba"):C(t);case ue.string:return C(t);case ue.pointers:return $n(t);case ue.mptree:return t.map(Fa);case ue.ctVersion:return Buffer.from([].concat($()(C(t.vmVersion)),[0],$()(C(t.abiVersion))));case ue.callReturnType:switch(t){case"ok":return zn(0);case"error":return zn(1);case"revert":return zn(2);default:return t}default:return t}}function Ha(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.denomination;t=e.filter((function(t){var e=Q()(t,2);e[0];return e[1]===ue.amount})).reduce((function(e,n){var a=Q()(n,1)[0];return Ra({},t,X()({},a,Da(t[a],{denomination:r})))}),t);var a=e.map((function(t){return Q()(t,1)[0]}));return Object.entries(t).reduce((function(t,e){var n=Q()(e,2),r=n[0],o=n[1];return a.includes(r)&&(t[r]=o),["oracleTtl","queryTtl","responseTtl"].includes(r)&&(t["".concat(r,"Type")]=o.type===Ka?0:1,t["".concat(r,"Value")]=o.value),t}),{})}function La(t,e){var n,r=(n={},X()(n,bt,"oracleTtl"),X()(n,yt,"oracleTtl"),X()(n,gt,"queryTtl"),X()(n,xt,"responseTtl"),n)[e];return t[r]||t["".concat(r,"Value")]?t["".concat(r,"Value")]||t[r].value:1}function Wa(t,e){var n=e.gas,r=void 0===n?0:n,a=e.params,o=e.vsn,i=Object(x.BigNumber)(1e9);if(!a)return Object(x.BigNumber)(2e4).times(i).toString(10);for(var c=Qa(t,{params:Ra({},a,{fee:0}),multiplier:i,gas:r,vsn:o}),s=Object(x.BigNumber)(0);!c.eq(s);)s=c=Qa(t,{params:Ra({},a,{fee:c}),multiplier:i,gas:r,vsn:o});return s.toString(10)}function Qa(t,e){var n=e.params,r=(e.gas,e.multiplier),a=e.vsn,o=Ja(Ra({},n),t,{vsn:a}).rlpEncoded.length;return function(t,e){var n=e.backend,r=void 0===n?ae:n;switch(t){case Gt:case ht:return w()(75e3);case zt:case mt:return w()(15e3*(r===ae?12:30));default:return w()(15e3)}}(t,{backend:ar(n)}).plus(function(t){return function(e){var n=e.txSize,r=e.relativeTtl;switch(t){case bt:case yt:case gt:case xt:return w()(n).times(20).plus(Math.ceil(32e3*r/Math.floor(175200)));default:return w()(n).times(20)}}}(t)({txSize:o,relativeTtl:La(n,t)})).times(r)}function Ga(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.gas,a=void 0===r?0:r,o=n.params,i=n.showWarning,c=void 0===i||i,s=n.vsn;!o&&c&&console.warn("Can't build transaction fee, we will use DEFAULT_FEE(".concat(2e4,")"));var u=Wa(e,{params:o,gas:a,vsn:s});return t&&Object(x.BigNumber)(u).gt(Object(x.BigNumber)(t))&&c&&console.warn("Transaction fee is lower then min fee! Min fee: ".concat(u)),t||u}function za(t,e,n){var r=n.excludeKeys,a=void 0===r?[]:r;return e.filter((function(t){var e=Q()(t,1)[0];return!a.includes(e)&&"payload"!==e})).reduce((function(e,n){var r=Q()(n,3),a=r[0],o=r[1],i=r[2];return Object.assign(e,function(t,e,n,r){var a=function(t,r){return t?{}:X()({},e,le[n](r))};if(null==t)return X()({},e,"Field is required");switch(n){case ue.amount:case ue.int:var o=(!isNaN(t)||x.BigNumber.isBigNumber(t))&&Object(x.BigNumber)(t).lt(0);return a((!isNaN(t)||x.BigNumber.isBigNumber(t))&&Object(x.BigNumber)(t).gte(0),{value:t,isMinusValue:o});case ue.id:return Array.isArray(r)?a(r.find((function(e){return e===t.split("_")[0]}))&&pe[t.split("_")[0]],{value:t,prefix:r}):a(Rr(t,r)&&pe[t.split("_")[0]]&&t.split("_")[0]===r,{value:t,prefix:r});case ue.binary:return a(t.split("_")[0]===r,{prefix:r,value:t});case ue.string:return a(!0);case ue.ctVersion:return a("object"===_a()(t)&&Object.prototype.hasOwnProperty.call(t,"abiVersion")&&Object.prototype.hasOwnProperty.call(t,"vmVersion"));case ue.pointers:return a(Array.isArray(t)&&!t.find((function(t){return t!==Object(t)})),{value:t});default:return{}}}(t[a],a,o,i))}),{})}function Ya(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.excludeKeys,a=void 0===r?[]:r,o=n.denomination,i=void 0===o?Ba.AETTOS:o,c=e.filter((function(t){var e=Q()(t,1)[0];return!a.includes(e)})),s=za(t=Ha(t,c,{denomination:i}),e,{excludeKeys:a});if(Object.keys(s).length)throw new Error("Transaction build error. "+JSON.stringify(s));return c.map((function(e){var n=Q()(e,3),r=n[0],a=n[1],o=n[2];return Ua(t[r],a,o)}))}function $a(t,e){return e.reduce((function(e,n,r){var a=Q()(n,3),o=a[0],i=a[1],c=a[2];return Object.assign(e,X()({},o,function(t,e,n){if(!t)return"";switch(e){case ue.ctVersion:var r=Q()(t,3),a=r[0],o=r[2];return{vmVersion:Yn(Buffer.from([a])),abiVersion:Yn(Buffer.from([o]))};case ue.amount:case ue.int:return Yn(t);case ue.id:return Gn(t);case ue.ids:return t.map(Gn);case ue.bool:return 1===t[0];case ue.binary:return Wn(t,n);case ue.string:return t.toString();case ue.payload:return Wn(t,"ba");case ue.pointers:return Jn(t);case ue.rlpBinary:return Xa(t,!0);case ue.rlpBinaries:return t.map((function(t){return Xa(t,!0)}));case ue.rawBinary:return t;case ue.hex:return t.toString("hex");case ue.offChainUpdates:return t.map((function(t){return Xa(t,!0)}));case ue.callStack:return[Yn(t)];case ue.mptree:return t.map(qa);case ue.callReturnType:switch(Yn(t)){case"0":return"ok";case"1":return"error";case"2":return"revert";default:return t}case ue.sophiaCodeTypeInfo:return t.reduce((function(t,e){var n=Q()(e,4),r=n[0],a=n[1],o=n[2],i=n[3];return Ra({},t,X()({},a.toString(),{funHash:r,argType:o,outType:i}))}),{});default:return t}}(t[r],i,c)))}),{})}function Ja(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.excludeKeys,a=void 0===r?[]:r,o=n.prefix,i=void 0===o?"tx":o,c=n.vsn,s=void 0===c?1:c,u=n.denomination,p=void 0===u?Ba.AETTOS:u;if(!ln[e])throw new Error("Transaction serialization not implemented for "+e);if(!ln[e][s])throw new Error("Transaction serialization not implemented for "+e+" version "+s);var f=Q()(ln[e][s],2),l=f[0],d=f[1],h=Ya(Ra({},t,{VSN:s,tag:d}),l,{excludeKeys:a,denomination:t.denomination||p}).filter((function(t){return void 0!==t})),m=Yr.encode(h),v=Wn(m,i);return{tx:v,rlpEncoded:m,binary:h,txObject:$a(h,l)}}function Xa(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tx",r=e?t:Ln(t,n),a=Yr.decode(r),o=Yn(a[0]);if(!dn[o])throw new Error("Transaction deserialization not implemented for tag "+o);var i=Yn(a[1]);if(!dn[o][i])throw new Error("Transaction deserialization not implemented for tag "+o+" version "+i);var c=Q()(dn[o][i],1),s=c[0];return{txType:se[o],tx:$a(a,s),rlpEncoded:r,binary:a}}function Za(t){return"string"==typeof t&&-1!==t.indexOf("tx_")?Fn("th",Xa(t).rlpEncoded):Fn("th",t)}var to={calculateMinFee:Wa,calculateFee:Ga,unpackTx:Xa,unpackRawTx:$a,buildTx:Ja,buildRawTx:Ya,validateParams:za,buildTxHash:Za},eo=n(64),no=n(102),ro=n(40);function ao(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var oo=Buffer.from("ed25519 seed"),io=function(t){return Buffer.from(t).toString("hex")};function co(t,e){var n=""===t?[]:Object(no.fromString)(t).toPathArray();return n.forEach((function(t,e){if(t<2147483648)throw new Error("Segment #".concat(e+1," is not hardened"))})),n.reduce((function(t,e){return lo(t,e)}),e)}function so(t,e){if(!["m","m/"].includes(t.slice(0,2)))throw new Error("Invalid path");var n=fo(e);return co(t.slice(2),n)}function uo(t){var e=t.secretKey,n=t.publicKey;return{secretKey:io(e),publicKey:"ak_".concat(gr(n))}}function po(t){return m.a.sign.keyPair.fromSeed(t)}function fo(t){var e=Object(eo.full)(t,oo);return{secretKey:e.slice(0,32),chainCode:e.slice(32)}}function lo(t,e){var n=t.secretKey,r=t.chainCode;if(e<2147483648)throw new Error("Child index #".concat(e," is not supported"));var a=Buffer.allocUnsafe(4);a.writeUInt32BE(e,0);var o=Buffer.concat([Buffer.alloc(1,0),Buffer.from(n),Buffer.from(a)]),i=Object(eo.full)(o,r);return{secretKey:i.slice(0,32),chainCode:i.slice(32)}}var ho={getHdWalletAccountFromMnemonic:function(t,e){var n=so("m/44h/457h",Object(ro.mnemonicToSeed)(t));return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ao(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},uo(po(co("".concat(e,"h/0h/0h"),n).secretKey)),{idx:e})},getSaveHDWalletAccounts:function(t,e,n){var r={secretKey:Ar(e,Buffer.from(t.secretKey,"hex")),chainCode:Ar(e,Buffer.from(t.chainCode,"hex"))};return new Array(n).fill().map((function(t,e){return uo(po(co("".concat(e,"h/0h/0h"),r).secretKey))}))},generateSaveHDWallet:function(t,e){if(!Object(ro.validateMnemonic)(t))throw new Error("Invalid mnemonic");var n=so("m/44h/457h",Object(ro.mnemonicToSeed)(t));return{secretKey:io(Pr(e,n.secretKey)),chainCode:io(Pr(e,n.chainCode))}},generateMnemonic:function(){return Object(ro.generateMnemonic)()},deriveChild:lo,getMasterKeyFromSeed:fo},mo=n(4),vo=n.n(mo),bo=n(11),yo=n.n(bo),go=n(6),xo=n.n(go),wo=yo()({deepConf:{Ae:{methods:["spendTx","namePreclaimTx","nameClaimTx","nameTransferTx","nameUpdateTx","nameRevokeTx","contractCreateTx","contractCallTx","oracleRegisterTx","oracleExtendTx","oraclePostQueryTx","oracleRespondTx","getAccountNonce","channelCloseSoloTx","channelSlashTx","channelSettleTx","channelSnapshotSoloTx","getVmVersion","prepareTxParams","gaAttachTx"]}}},Object(go.required)({methods:{spendTx:go.required,namePreclaimTx:go.required,nameClaimTx:go.required,nameTransferTx:go.required,nameUpdateTx:go.required,nameRevokeTx:go.required,contractCreateTx:go.required,contractCallTx:go.required,oracleRegisterTx:go.required,oracleExtendTx:go.required,oraclePostQueryTx:go.required,oracleRespondTx:go.required,getAccountNonce:go.required,channelCloseSoloTx:go.required,channelSlashTx:go.required,channelSettleTx:go.required,channelSnapshotSoloTx:go.required,gaAttachTx:go.required,getVmVersion:go.required,prepareTxParams:go.required}})),ko=yo()({deepConf:{Contract:{methods:["getOracle","getOracleQueries","getOracleQuery"]}}},Object(go.required)({methods:{getOracle:go.required,getOracleQueries:go.required,getOracleQuery:go.required}})),Oo=ko.compose({deepProps:{Ae:{defaults:{waitMined:!0}}},statics:{waitMined:function(t){return this.deepProps({Ae:{defaults:{waitMined:t}}})}},deepConf:{Ae:{methods:["sendTransaction","height","awaitHeight","poll","balance","getBalance","tx","mempool","topBlock","getTxInfo","txDryRun","getName","getNodeInfo","getAccount","getContractByteCode","getContract","waitForTxConfirm"]}}},Object(go.required)({methods:{sendTransaction:go.required,height:go.required,awaitHeight:go.required,topBlock:go.required,poll:go.required,balance:go.required,getBalance:go.required,tx:go.required,getTxInfo:go.required,mempool:go.required,txDryRun:go.required,getAccount:go.required}})),jo=n(25),Co=n.n(jo),Io=n(30),To=n.n(Io),Po=n(19),Ao=n.n(Po),Eo=n(20),So=n.n(Eo),_o=n(16),Bo=n.n(_o),No=n(44),Do=n.n(No),Vo=n(88),qo=n.n(Vo),Fo=n(87),Mo=n.n(Fo),Ro=n(86),Ko=n.n(Ro);function Uo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.stamp,r=e.args,a=e.instance;return n.compose.deepConfiguration.AsyncInit.initializers.reduce(function(){var e=Zr()(Jr.a.mark((function e(a,o){var i;return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(a);case 2:if(a=e.sent,"function"!=typeof o){e.next=8;break}return e.next=6,Promise.resolve(o.call(a,t,{stamp:n,args:r,instance:a}));case 6:return i=e.sent,e.abrupt("return",void 0===i?a:i);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a)}var Ho=yo()({deepConf:{AsyncInit:{initializers:[]}},composers:function(t){var e=t.stamp,n=t.composables;e.compose.deepConfiguration.AsyncInit.initializers=Ko()([Uo],Mo()(qo.a,Do()(n.map((function(t){return Bo()(["compose","deepConfiguration","AsyncInit","initializers"],t)||(t.compose||t).initializers||[]}))))),e.compose.initializers=[Uo]}}),Lo=n(37),Wo=n.n(Lo),Qo=n(45),Go=n.n(Qo),zo=n(95),Yo=n.n(zo),$o=n(31),Jo=n.n($o),Xo=n(62),Zo=n.n(Xo),ti=n(94),ei=n.n(ti),ni=n(93),ri=n.n(ni),ai=n(7),oi=n.n(ai),ii=n(61),ci=n.n(ii),si=n(17),ui=n.n(si),pi=n(53),fi=n.n(pi),li=n(92),di=n.n(li),hi=n(26),mi=n.n(hi),vi=n(60),bi=n.n(vi),yi=n(59),gi=n.n(yi),xi=n(91),wi=n.n(xi),ki=n(39),Oi=n.n(ki),ji=n(36),Ci=n.n(ji),Ii=n(29),Ti=n.n(Ii),Pi=n(15),Ai=n.n(Pi),Ei=n(90),Si=n.n(Ei),_i=n(24),Bi=n.n(_i),Ni=n(23),Di=n.n(Ni),Vi=n(57),qi=n.n(Vi),Fi={stringify:function(){var t,e,n,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(t){return r.lastIndex=0,r.test(t)?'"'+t.replace(r,(function(t){var e=a[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}return function(r,a,i){var c;if(t="",e="","number"==typeof i)for(c=0;c<i;c+=1)e+=" ";else"string"==typeof i&&(e=i);if(n=a,a&&"function"!=typeof a&&("object"!==_a()(a)||"number"!=typeof a.length))throw new Error("JSON.stringify");return function r(a,i){var c,s,u,p,f,l=t,d=i[a],h=null!=d&&(d instanceof w.a||w.a.isBigNumber(d)||w()(d).toString(10)===d);switch(d&&"object"===_a()(d)&&"function"==typeof d.toJSON&&(d=d.toJSON(a)),"function"==typeof n&&(d=n.call(i,a,d)),_a()(d)){case"string":return h?d:o(d);case"number":return isFinite(d)?String(d):"null";case"boolean":return String(d);case"object":if(!d)return"null";if(t+=e,f=[],"[object Array]"===Object.prototype.toString.apply(d)){for(p=d.length,c=0;c<p;c+=1)f[c]=r(c,d)||"null";return u=0===f.length?"[]":t?"[\n"+t+f.join(",\n"+t)+"\n"+l+"]":"["+f.join(",")+"]",t=l,u}if(n&&"object"===_a()(n))for(p=n.length,c=0;c<p;c+=1)"string"==typeof n[c]&&(u=r(s=n[c],d))&&f.push(o(s)+(t?": ":":")+u);else Object.keys(d).forEach((function(e){var n=r(e,d);n&&f.push(o(e)+(t?": ":":")+n)}));return u=0===f.length?"{}":t?"{\n"+t+f.join(",\n"+t)+"\n"+l+"}":"{"+f.join(",")+"}",t=l,u}}("",{"":r})}}(),parse:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={strict:!1,storeAsString:!1},o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};!0===r.strict&&(a.strict=!0),!0===r.storeAsString&&(a.storeAsString=!0);var i,c=function(e){throw{name:"SyntaxError",message:e,at:t,text:n}},s=function(r){return r&&r!==e&&c("Expected '"+r+"' instead of '"+e+"'"),e=n.charAt(t),t+=1,e},u=function(){var t,n="";for("-"===e&&(n="-",s("-"));e>="0"&&e<="9";)n+=e,s();if("."===e)for(n+=".";s()&&e>="0"&&e<="9";)n+=e;if("e"===e||"E"===e)for(n+=e,s(),"-"!==e&&"+"!==e||(n+=e,s());e>="0"&&e<="9";)n+=e,s();if(t=+n,isFinite(t))return n.length>15?n:t;c("Bad number")},p=function(){var t,n,r,a="";if('"'===e)for(;s();){if('"'===e)return s(),a;if("\\"===e)if(s(),"u"===e){for(r=0,n=0;n<4&&(t=parseInt(s(),16),isFinite(t));n+=1)r=16*r+t;a+=String.fromCharCode(r)}else{if("string"!=typeof o[e])break;a+=o[e]}else a+=e}c("Bad string")},f=function(){for(;e&&e<=" ";)s()},l=function(){switch(e){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}c("Unexpected '"+e+"'")},d=function(){var t=[];if("["===e){if(s("["),f(),"]"===e)return s("]"),t;for(;e;){if(t.push(i()),f(),"]"===e)return s("]"),t;s(","),f()}}c("Bad array")},h=function(){var t,n={};if("{"===e){if(s("{"),f(),"}"===e)return s("}"),n;for(;e;){if(t=p(),f(),s(":"),!0===a.strict&&Object.hasOwnProperty.call(n,t)&&c('Duplicate key "'+t+'"'),n[t]=i(),f(),"}"===e)return s("}"),n;s(","),f()}}c("Bad object")};return i=function(){switch(f(),e){case"{":return h();case"[":return d();case'"':return p();case"-":return u();default:return e>="0"&&e<="9"?u():l()}},function(r,a){var o;return n=r+"",t=0,e=" ",o=i(),f(),e&&c("Syntax error"),"function"==typeof a?function t(e,n){var r,o=e[n];return o&&"object"===_a()(o)&&Object.keys(o).forEach((function(e){void 0!==(r=t(o,e))?o[e]=r:delete o[e]})),a.call(e,n,o)}({"":o},""):o}}()};function Mi(t,e){return qi()(e).reduce((function(t,e){var n=Q()(e,2),r=n[0],a=n[1];return t.replace("{".concat(r,"}"),a)}),t)}function Ri(t,e,n){var r=function(){var n=Bo()(t,e).match(/^#\/definitions\/(.+)/);if(void 0!==n)return n[1];throw Error("Reference path does not meet specification: ".concat(t))}();if(r in n)return n[r];throw Error("Couldn't find definition for ".concat(r))}function Ki(t,e,n){var r=Error(t);return Object.assign(r,{spec:e,value:n})}var Ui={integer:function(t,e,n){if("Number"===Di()(t)||w()(t).toString(10)===t)return"Number"===Di()(t)?Math.floor(t):t;throw Ki("Not an integer",e,t)},enum:function(t,e,n){var r=e.enum;if(Ao()(t,r))return t;throw Ki("Not one of [".concat(Bi()(", ",r),"]"),e,t)},string:function(t,e,n){if("String"===Di()(t))return t;throw Ki("Not a string",e,t)},object:function(t,e,n){if("Object"===Di()(t)){var r=(e.required||[]).map(oa),a=$i(e.properties),o=Si()(r,Ai()(t));if(o.length>0)throw Ki("Required properties missing: ".concat(Bi()(", ",o)),e,t);return Ti()((function(t,e){return function(t,e){try{return e()}catch(e){throw Object.assign(e,{path:[t].concat(e.path||[])})}}(e,(function(){return Hi(t,a[e],n)}))}),Ci()(To.a,Oi()(Ai()(a),t)))}throw Ki("Not an object",e,t)},array:function(t,e,n){if("Array"===Di()(t))return t.map((function(t){return Hi(t,e.items,n)}));throw Ki("Not an array",e,t)},schema:function(t,e,n){return Hi(t,Ri(["schema","$ref"],e,n),n)},$ref:function(t,e,n){return Hi(t,Ri(["$ref"],e,n),n)},allOf:function(t,e,n){return wi()(e.allOf.map((function(e){return Hi(t,e,n)})))}};function Hi(t,e,n){return(Ui[function(t){if("schema"in t)return"schema";if("$ref"in t)return"$ref";if("enum"in t)return"enum";if("allOf"in t)return"allOf";if("type"in t)return t.type;throw Object.assign(Error("Could not determine type"),{spec:t})}(e)]||function(){throw Object.assign(Error("Unsupported type"),{spec:e})})(t,e,n)}var Li={headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return Fi.parse(t)}catch(e){return t}}],transformRequest:[function(t){try{return Fi.stringify(t)}catch(e){return t}}]},Wi={get:function(t){return function(e,n){return So.a.get(e,[Li,t,n].reduce(gi.a))}},post:function(t){return function(e,n){return So.a.post(e,n,gi()(Li,t))}}};function Qi(t){var e=bi()((function(t){return t.required?"req":"opts"}),t),n=e.req,r=e.opts,a=bi()((function(t){return t.in}),t),o=a.path,i=a.query,c=a.body;return{pathArgs:mi()("name",o||[]),queryArgs:mi()("name",i||[]),bodyArgs:mi()("name",c||[]),req:n||[],opts:r||[]}}function Gi(t){return t.map((function(t){return di()("name",oa(t.name),t)}))}var zi=fi()((function(t,e){return({Object:function(e){return ui()(qi()(e).map((function(e){var n=e[0],r=e[1];return[t(n),zi(t,r)]})))},Array:function(e){return e.map(zi(t))}}[Di()(e)]||ci.a)(e)}));function Yi(t){return zi(ia,t)}function $i(t){return zi(oa,t)}function Ji(t,e,n){var r=e.length?"".concat(Bi()(", ",mi()("name",e))):null,a=n.length?"{".concat(Bi()(", ",mi()("name",n)),"}"):null;return"".concat(t," (").concat(Bi()(", ",[r,a].filter(ci.a)),")")}function Xi(t){if(1===t.length)return oi()(t);throw Error("Expected exactly one element in ".concat(t))}function Zi(t){var e=t.config,n=e.method,r=e.url,a=t.response,o=a.status,i=a.data,c=a.statusText,s=ri()("reason",i)?i.reason:i?Co()(i):c;return"".concat(n.toUpperCase()," to ").concat(r," failed with ").concat(o,": ").concat(s)}function tc(t,e){var n=t.match(/^#\/(.+)$/);if(void 0!==n){var r=Bo()(n[1].split("/"),e);if(null!=r)return r}throw Error("Could not resolve reference: ".concat(t))}var ec=yo()({init:function(t,e){var n=this,r=t.swag,a=void 0===r?this.swag:r,o=t.axiosConfig,i=(e.stamp,a.paths),c=Zo()(Jo()("name"),Do()(Wo()(Ti()((function(t,e){return Wo()(Ti()((function(t,r){return function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=a.config,i=a.errorHandler;delete(o=o||{}).transformResponse;var c=n.operationId,s=n.description,u=(n.parameters||[]).map((function(t){return t.$ref?tc(t.$ref,r):t})),p="".concat(oi()(c).toLowerCase()).concat(ei()(1,c)),f=Gi(u),l=Qi(f),d=l.pathArgs,h=l.queryArgs,m=l.bodyArgs,v=l.req,b=l.opts,y=mi()("name",b),g=Zo()(Jo()("name"),f),x=Ji(p,v,b),w=Wi[e](o);return function(n,a){var o=Zr()(Jr.a.mark((function n(){var o,c,s,u,f,l,b,k,O,j,C=arguments;return Jr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=this.Swagger.defaults,n.prev=1,c=function(){if(C.length===v.length)return[Array.from(C),o];if(C.length===v.length+1)return[Yo()(1,C),vo()(o,z()(C))];throw Error("Function call doesn't conform to ".concat(x))}(),s=Q()(c,2),u=s[0],(f=s[1]).debug&&console.log("Invoked ".concat(p," with ").concat(Co()(u)," ").concat(Co()(f))),l=vo()(Ci()(To.a,Oi()(y,f)),Go()(mi()("name",v),u)),b=Ti()((function(t,e){try{return Hi(t,g[e],r.definitions)}catch(r){var n=[e].concat(r.path||[]);throw Object.assign(r,{path:n,value:t,message:"validating ".concat(Bi()(" -> ",n),": ").concat(r.message)})}}),l),k=Mi(t,Yi(Oi()(d,b))),O=Yi(function(){if("get"===e)return{params:Oi()(h,b)};if("post"===e)return b[Xi(m)];throw Error("Unsupported method ".concat(e))}()),f.debug&&console.log("Going to ".concat(e.toUpperCase()," ").concat(a).concat(k," with ").concat(Co()(O))),n.prev=9,n.next=12,w("".concat(a).concat(k),O).catch(this.axiosError(i));case 12:return j=n.sent,n.abrupt("return",f.fullResponse?j:$i(j.data));case 16:throw n.prev=16,n.t0=n.catch(9),Bo()(["response","data"],n.t0)&&(n.t0.message=Zi(n.t0)),n.t0;case 20:n.next=26;break;case 22:throw n.prev=22,n.t1=n.catch(1),n.t1.message="While calling ".concat(x,", ").concat(n.t1.message),n.t1;case 26:case"end":return n.stop()}}),n,this,[[1,22],[9,16]])}))).bind(n);return Object.assign(o,{signature:x,description:s}),Object.defineProperties(o,{name:{value:p,writable:!1},length:{value:v.length+(b.length?1:0),writable:!1}})}}(e,r,t,a,o)(n,n.urlFor(a.basePath,t))}),t))}),i))));return Object.assign(this,{methods:Ai()(c),api:c})},deepProps:{Swagger:{defaults:{debug:!1,txEncoding:"json"}}},statics:{debugSwagger:function(t){return this.deepProps({Swagger:{defaults:{debug:t}}})}}}),nc=function(t,e,n){var r=t.split("-")[0].split("."),a=e.split("-")[0].split("."),o=n.split("-")[0].split("."),i=Math.max.apply(Math,$()(r).concat($()(a),$()(o)))+1,c=function(t){return t.reverse().reduce((function(t,e,n){return t+e*Math.pow(i,n)}),0)},s=c(r),u=c(a),p=c(o);return s>=u&&s<p};function rc(t,e){return ac.apply(this,arguments)}function ac(){return(ac=Zr()(Jr.a.mark((function t(e,n){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,So.a.get("".concat(e,"/api"),n);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function oc(){if(!this.networkId&&!this.selectedNode.networkId)throw new Error("networkId is not provided");return this.networkId||this.selectedNode.networkId}var ic=function(t){var e=t.url,n=t.internalUrl;return function(t,r){var a=r.tags,o=r.operationId;if(Ao()("external",a))return"".concat(e).concat(t);if(!To()(n)&&Ao()("internal",a))return"".concat(n).concat(t);throw Error("Method ".concat(o," is unsupported. No interface for ").concat(Co()(a)))}};function cc(){return(cc=Zr()(Jr.a.mark((function t(){var e,n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,e){t.next=4;break}throw new Error("Protocols must be an array");case 4:if(n){t.next=8;break}return t.next=7,this.api.getCurrentKeyBlock();case 7:n=t.sent.height;case 8:if(!(n<0)){t.next=10;break}throw new Error("height must be a number >= 0");case 10:return r=e.reduce((function(t,e){var r=t.effectiveAtHeight,a=t.version;return n>=e.effectiveAtHeight&&e.effectiveAtHeight>r?{effectiveAtHeight:e.effectiveAtHeight,version:e.version}:{effectiveAtHeight:r,version:a}}),{effectiveAtHeight:-1,version:0}),a=r.version,t.abrupt("return",a);case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var sc=yo()(Ho,{init:function(t){var e=this,n=t.url,r=void 0===n?this.url:n,a=t.internalUrl,o=void 0===a?this.internalUrl:a,i=t.axiosConfig,c=(i=void 0===i?{}:i).config,s=i.errorHandler;return Zr()(Jr.a.mark((function t(){var n;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}throw new Error('"url" required');case 2:return r=r.replace(/\/?$/,""),o=o?o.replace(/\/?$/,""):r,t.next=6,rc(r,c).catch(e.axiosError(s));case 6:return n=t.sent,e.version=n.info.version,t.abrupt("return",Object.assign(e,{url:r,internalUrl:o,swag:n,urlFor:ic({url:r,internalUrl:o})}));case 9:case"end":return t.stop()}}),t)})))()},methods:{axiosError:function(t){return function(e){throw t&&"function"==typeof t&&t(e),e}},getNodeInfo:function(){return{url:this.url,internalUrl:this.internalUrl,nodeNetworkId:this.nodeNetworkId,version:this.version,consensusProtocolVersion:this.consensusProtocolVersion}},getConsensusProtocolVersion:function(){return cc.apply(this,arguments)}},props:{version:null,consensusProtocolVersion:null,nodeNetworkId:null}},ec,{init:function(t){var e=this,n=t.forceCompatibility,r=void 0!==n&&n;return Zr()(Jr.a.mark((function t(){var n,a,o,i,c;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getStatus();case 2:return n=t.sent,a=n.nodeRevision,o=n.genesisKeyBlockHash,i=n.networkId,c=n.protocols,t.next=9,e.getConsensusProtocolVersion(c);case 9:if(e.consensusProtocolVersion=t.sent,nc(e.version.split("-")[0],uc,pc)&&"5.0.0-rc1"!==e.version||r){t.next=12;break}throw new Error("Unsupported node version ".concat(e.version,". ")+"Supported: >= ".concat(uc," < ").concat(pc));case 12:return e.nodeNetworkId=i,t.abrupt("return",Object.assign(e,{revision:a,genesisHash:o}));case 14:case"end":return t.stop()}}),t)})))()}}),uc="5.0.0",pc="6.0.0",fc=sc;function lc(){return(lc=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=this.getNetworkId(),a=yr(Rr(e,"tx")),o=Buffer.concat([Buffer.from(r),a]),t.next=6,this.sign(o,n);case 6:return t.t0=t.sent,i=[t.t0],t.abrupt("return",Ja({encodedTx:a,signatures:i},it).tx);case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function dc(){return(dc=Zr()(Jr.a.mark((function t(e){var n,r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{returnHex:!1},t.next=3,this.sign(dr(Br(e)),n);case 3:return r=t.sent,t.abrupt("return",n.returnHex?Buffer.from(r).toString("hex"):r);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function hc(){return(hc=Zr()(Jr.a.mark((function t(e,n){var r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.t0=Dr,t.t1=e,t.t2="string"==typeof n?Buffer.from(n,"hex"):n,t.t3=Ln,t.next=7,this.address(r);case 7:return t.t4=t.sent,t.t5=(0,t.t3)(t.t4),t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t5));case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var mc=yo()({init:function(t){var e=t.networkId;!this.networkId&&e&&(this.networkId=e)},methods:{signTransaction:function(t){return lc.apply(this,arguments)},getNetworkId:oc,signMessage:function(t){return dc.apply(this,arguments)},verifyMessage:function(t,e){return hc.apply(this,arguments)}},deepConf:{Ae:{methods:["sign","address","signTransaction","getNetworkId","signMessage","verifyMessage"]}}},Object(go.required)({methods:{sign:go.required,address:go.required}}));function vc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vc(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yc(){return(yc=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=vo()(this.Ae.defaults,n),t.t0=this,t.next=5,this.address(r);case 5:return t.t1=t.sent,t.next=8,t.t0.getAccount.call(t.t0,t.t1);case 8:if(a=t.sent,o=a.contractId,i=a.authFun,!o){t.next=17;break}return t.next=14,this.signUsingGA(e,bc({},r,{authFun:i}));case 14:t.t2=t.sent,t.next=20;break;case 17:return t.next=19,this.signTransaction(e,r);case 19:t.t2=t.sent;case 20:return c=t.t2,t.abrupt("return",this.sendTransaction(c,r));case 22:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function gc(){return(gc=Zr()(Jr.a.mark((function t(e){var n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.authData,a=n.authFun,t.abrupt("return",this.createMetaTx(e,r,a,n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function xc(){return(xc=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},a=vo()(this.Ae.defaults,r),t.next=4,this.resolveRecipientName(n,r);case 4:return n=t.sent,t.t0=this,t.t1=vo.a,t.t2=a,t.next=10,this.address(a);case 10:return t.t3=t.sent,t.t4=n,t.t5=e,t.t6={senderId:t.t3,recipientId:t.t4,amount:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=17,t.t0.spendTx.call(t.t0,t.t7);case 17:return o=t.sent,t.abrupt("return",this.send(o,a));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function wc(){return(wc=Zr()(Jr.a.mark((function t(e,n){var r,a,o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.verify,a=void 0!==r&&r,!pr(e)){t.next=3;break}return t.abrupt("return",e);case 3:if(!Xn(e)){t.next=12;break}if(!a){t.next=11;break}return t.next=7,this.getName(e);case 7:if(o=t.sent,o.pointers.find((function(t){return"ak"===t.id.split("_")[0]}))){t.next=11;break}throw new Error("Name ".concat(e," do not have pointers for account"));case 11:return t.abrupt("return",Un(e));case 12:throw new Error("Invalid recipient name or address: "+e);case 13:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function kc(){return(kc=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u,p=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=p.length>2&&void 0!==p[2]?p[2]:{excludeFee:!1},!(e<0||e>1)){t.next=3;break}throw new Error("Percentage should be a number between 0 and 1, got ".concat(e));case 3:return a=vo()(this.Ae.defaults,r),t.t0=x.BigNumber,t.t1=this,t.next=8,this.address();case 8:return t.t2=t.sent,t.next=11,t.t1.balance.call(t.t1,t.t2);case 11:return t.t3=t.sent,t.t4=e,o=(0,t.t0)(t.t3).times(t.t4),t.t5=this,t.t6=vo.a,t.t7=a,t.next=19,this.address();case 19:return t.t8=t.sent,t.t9=n,t.t10=o,t.t11={senderId:t.t8,recipientId:t.t9,amount:t.t10},t.t12=(0,t.t6)(t.t7,t.t11),t.next=26,t.t5.spendTx.call(t.t5,t.t12);case 26:if(i=t.sent,c=to.unpackTx(i),s=c.tx,u=o,!r.excludeFee)for(;u.plus(s.fee).gt(o);)u=o.minus(s.fee);return t.t13=this,t.t14=vo.a,t.t15=a,t.next=35,this.address();case 35:return t.t16=t.sent,t.t17=n,t.t18=u,t.t19={senderId:t.t16,recipientId:t.t17,amount:t.t18},t.t20=(0,t.t14)(t.t15,t.t19),t.next=42,t.t13.spendTx.call(t.t13,t.t20);case 42:return i=t.sent,t.abrupt("return",this.send(i,a));case 44:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Oc=yo()(wo,mc,Oo,{methods:{send:function(t){return yc.apply(this,arguments)},spend:function(t,e){return xc.apply(this,arguments)},transferFunds:function(t,e){return kc.apply(this,arguments)},destroyInstance:function(){var t=this;["destroyClient","destroyServer"].forEach((function(e){return t[e]&&"function"==typeof t[e]&&t[e]()}))},resolveRecipientName:function(t,e){return wc.apply(this,arguments)},signUsingGA:function(t){return gc.apply(this,arguments)}},deepProps:{Ae:{defaults:{denomination:Ba.AETTOS}}},deepConfiguration:{Ae:{methods:["signUsingGA"]}}});function jc(){return(jc=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleByPubkey(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Cc(){return(Cc=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueriesByPubkey(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ic(){return(Ic=Zr()(Jr.a.mark((function t(e,n){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueryByPubkeyAndQueryId(e,n));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Tc=ko.compose({methods:{getOracle:function(t){return jc.apply(this,arguments)},getOracleQueries:function(t){return Cc.apply(this,arguments)},getOracleQuery:function(t,e){return Ic.apply(this,arguments)}}}),Pc=function(t,e){return{name:t,instance:e,url:e.url,internalUrl:e.internalUrl,networkId:e.nodeNetworkId,version:e.version,consensusProtocolVersion:e.consensusProtocolVersion}};function Ac(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ac(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Sc=Ho.compose({init:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.nodes,r=void 0===n?[]:n;return Zr()(Jr.a.mark((function e(){return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.pool=new Map,t.validateNodes(r),r.forEach((function(e,n){var r=e.name,a=e.instance;t.addNode(r,a,0===n)})),r.length&&t.selectNode(r[0].name);case 4:case"end":return e.stop()}}),e)})))()},propertyDescriptors:{api:{enumerable:!0,configurable:!1,get:function(){return function(t){if(!t||!t.instance)throw new Error("You can't use Node API. Node is not connected or not defined!");return t.instance.api}(this.selectedNode)}}},methods:{addNode:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.pool.has(t))throw new Error("Node with name ".concat(t," already exist"));this.validateNodes([{name:t,instance:e}]),this.pool.set(t,Pc(t,e)),!n&&this.selectedNode||this.selectNode(t)},selectNode:function(t){if(!this.pool.has(t))throw new Error("Node with name ".concat(t," not in pool"));this.selectedNode=this.pool.get(t)},getNetworkId:oc,isNodeConnected:function(){return!!this.selectedNode.instance},getNodeInfo:function(){if(!this.isNodeConnected())throw new Error("Can not get node info. Node is not connected");return Ec({name:this.selectedNode.name},this.selectedNode.instance.getNodeInfo())},getNodesInPool:function(){return Array.from(this.pool.entries()).map((function(t){var e=Q()(t,2);return Ec({name:e[0]},e[1].instance.getNodeInfo())}))},validateNodes:function(t){var e=["Swagger","api","consensusProtocolVersion","genesisHash","methods"];t.forEach((function(t,n){if("object"!==_a()(t))throw new Error('Node must be an object with "name" and "instance" props');if(["name","instance"].find((function(e){return!t[e]})))throw new Error("Node object on index ".concat(n,' must contain node "name" and "ins"'));if(!t.instance||"object"!==_a()(t.instance)||e.find((function(e){return!(e in t.instance)})))throw new Error("Invalid node instance object")}))}},props:{selectedNode:{}}}),_c=Sc;function Bc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bc(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Dc={signature:function(t){var e=t.rlpEncoded,n=t.signature,r=t.ownerPublicKey,a=t.networkId,o=void 0===a?"ae_mainnet":a;return Sr(Buffer.concat([Buffer.from(o),e]),n,xr(Rr(r,"ak")))},insufficientFee:function(t){var e=t.minFee,n=t.fee;return Object(x.BigNumber)(e).lte(Object(x.BigNumber)(n))},expiredTTL:function(t){var e=t.ttl,n=t.height;return Object(x.BigNumber)(e).eq(0)||Object(x.BigNumber)(e).gte(Object(x.BigNumber)(n))},insufficientBalanceForAmountFee:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n,a=t.fee;return Object(x.BigNumber)(e).gt(Object(x.BigNumber)(r).plus(a))},insufficientBalanceForAmount:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n;return Object(x.BigNumber)(e).gt(Object(x.BigNumber)(r))},nonceUsed:function(t){var e=t.accountNonce,n=t.nonce;return Object(x.BigNumber)(n).gt(Object(x.BigNumber)(e))},nonceHigh:function(t){var e=t.accountNonce,n=t.nonce;return!Object(x.BigNumber)(n).gt(Object(x.BigNumber)(e).plus(1))},minGasPrice:function(t){var e=t.gasPrice;return isNaN(e)||Object(x.BigNumber)(e).gte(Object(x.BigNumber)(1e9))},vmAndAbiVersion:function(t){var e=t.ctVersion,n=t.abiVersion,r=t.consensusProtocolVersion,a=t.txType;e||(e={abiVersion:n});var o=ce[r];if(!o)return!0;var i=o[a];return!Object.entries(e).reduce((function(t,e){var n=Q()(e,2),r=n[0],a=n[1];return[].concat($()(t),[void 0===a||i[r].includes(parseInt(a))])}),[]).includes(!1)},insufficientBalanceForFeeNameFee:function(t){var e=t.nameFee,n=t.fee,r=t.balance;return 1===t.VSN||Object(x.BigNumber)(r).gt(Object(x.BigNumber)(e).plus(n))}},Vc=function(){var t=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.ownerPublicKey,a=0,o=0,t.prev=3,t.next=6,e.api.getAccountByPubkey(r);case 6:i=t.sent,c=i.nonce,s=i.balance,a=c,o=s,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log("We can not get info about this publicKey");case 16:return t.t1=Nc,t.next=19,e.api.getCurrentKeyBlockHeight();case 19:return t.t2=t.sent.height,t.t3=o,t.t4=a,t.t5=r,t.t6={height:t.t2,balance:t.t3,accountNonce:t.t4,ownerPublicKey:t.t5},t.t7=e.getNodeInfo(),t.abrupt("return",(0,t.t1)(t.t6,t.t7));case 26:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,n){return t.apply(this,arguments)}}(),qc=function(t,e){return t.reduce((function(t,n){var r=Q()(n,3),a=r[0],o=r[1],i=r[2],c=(i.key,i.type),s=i.txKey;return Dc[o](e)||t.push({msg:a(e),txKey:s,type:c}),t}),[])};function Fc(){return(Fc=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l,d=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},r=n.networkId,a=Xa(e),o=a.tx,i=a.rlpEncoded,c=a.txType,11!=+o.tag){t.next=13;break}return s=o.encodedTx,u=s.txType,p=s.tx,f=o.signatures.map((function(t){return{raw:t,hash:Wn(t,"sg")}})),l=o.encodedTx.rlpEncoded,t.next=8,this.verifyTx({tx:p,signatures:f,rlpEncoded:l},r);case 8:return t.t0=t.sent,t.t1=p,t.t2=f,t.t3=u,t.abrupt("return",{validation:t.t0,tx:t.t1,signatures:t.t2,txType:t.t3});case 13:return t.next=15,this.verifyTx({tx:o,rlpEncoded:i},r);case 15:return t.t4=t.sent,t.t5=o,t.t6=c,t.abrupt("return",{validation:t.t4,tx:t.t5,txType:t.t6});case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Mc=function(t){return t[["senderId","accountId","ownerId","callerId","oracleId","fromId","initiator","gaId"].find((function(e){return t[e]}))].replace("ok_","ak_")};function Rc(){return(Rc=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u,p,f;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tx,a=e.signatures,o=e.rlpEncoded,n=n||this.getNetworkId()||"ae_mainnet",i=Mc(r),c=Object.prototype.hasOwnProperty.call(r,"gas")?+r.gas:0,s=se[+r.tag],t.t0=Nc,t.t1={minFee:Ga(0,s,{gas:c,params:r,showWarning:!1})},t.next=9,Vc(this,{ownerPublicKey:i});case 9:return t.t2=t.sent,t.t3={},t.t4=r,t.t5={txType:s},u=(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5),p=a&&a.length?qc(Tn,{rlpEncoded:o,signature:a[0].raw,ownerPublicKey:i,networkId:n}):[],f=qc(En,u),t.abrupt("return",[].concat($()(f),$()(p),$()(Kc(s,u))));case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Kc(t,e){switch(t){case ht:case mt:case bt:return qc(Pn,e);case st:return qc(An,e);default:return[]}}var Uc=Sc.compose({methods:{verifyTx:function(t,e){return Rc.apply(this,arguments)},unpackAndVerify:function(t){return Fc.apply(this,arguments)}}});function Hc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hc(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wc(){return(Wc=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l,d=this,h=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},r=vo()(this.Ae.defaults,n),a=r.waitMined,!((o=r.verify)||"boolean"!=typeof o&&this.verifyTxBeforeSend)){t.next=11;break}return t.next=5,this.unpackAndVerify(e);case 5:if(i=t.sent,c=i.validation,s=i.tx,u=i.txType,!c.length){t.next=11;break}throw Object.assign(Error("Transaction verification error: "+JSON.stringify(c)),{code:"TX_VERIFICATION_ERROR",errorData:{validation:c,tx:s,txType:u},txHash:e});case 11:return t.prev=11,t.next=14,this.api.postTransaction({tx:e});case 14:if(p=t.sent,f=p.txHash,!a){t.next=34;break}return t.t0=Lc,t.t1={},t.next=21,this.poll(f,n);case 21:if(t.t2=t.sent,t.t3={rawTx:e},l=(0,t.t0)(t.t1,t.t2,t.t3),!n.confirm){t.next=33;break}return t.t4=Lc,t.t5={},t.t6=l,t.next=30,this.waitForTxConfirm(f,n);case 30:return t.t7=t.sent,t.t8={confirmationHeight:t.t7},t.abrupt("return",(0,t.t4)(t.t5,t.t6,t.t8));case 33:return t.abrupt("return",l);case 34:return t.abrupt("return",{hash:f,rawTx:e});case 37:throw t.prev=37,t.t9=t.catch(11),Object.assign(new Error(t.t9.message),{rawTx:e,verifyTx:function(){return d.unpackAndVerify(e)}});case 40:case"end":return t.stop()}}),t,this,[[11,37]])})))).apply(this,arguments)}function Qc(){return(Qc=Zr()(Jr.a.mark((function t(e){var n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=o.length>1&&void 0!==o[1]?o[1]:{confirm:3}).confirm="boolean"==typeof n.confirm&&n.confirm?3:n.confirm,t.next=4,this.tx(e);case 4:return r=t.sent,a=r.blockHeight,t.abrupt("return",this.awaitHeight(a+n.confirm,n));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Gc(){return(Gc=Zr()(Jr.a.mark((function t(e){var n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.height,a=n.hash,!r){t.next=3;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHeight(e,r));case 3:if(!a){t.next=5;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHash(e,a));case 5:return t.abrupt("return",this.api.getAccountByPubkey(e));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function zc(){return(zc=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.height,a=n.hash,o=n.format,i=void 0===o?Ba.AETTOS:o,t.next=3,this.getAccount(e,{hash:a,height:r});case 3:return c=t.sent,s=c.balance,t.abrupt("return",Da(s,{targetDenomination:i}).toString());case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Yc(){return(Yc=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.height,a=n.hash,o=n.format,i=void 0===o?Ba.AETTOS:o,t.next=3,this.getAccount(e,{hash:a,height:r}).catch((function(t){return{balance:0}}));case 3:return c=t.sent,s=c.balance,t.abrupt("return",Da(s,{targetDenomination:i}).toString());case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function $c(){return($c=Zr()(Jr.a.mark((function t(e){var n,r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],t.next=3,this.api.getTransactionByHash(e);case 3:if(r=t.sent,!["ContractCreateTx","ContractCallTx"].includes(r.tx.type)||!n){t.next=19;break}return t.prev=5,t.t0=Lc,t.t1={},t.t2=r,t.t3={},t.next=12,this.getTxInfo(e);case 12:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4));case 16:return t.prev=16,t.t5=t.catch(5),t.abrupt("return",r);case 19:return t.abrupt("return",r);case 20:case"end":return t.stop()}}),t,this,[[5,16]])})))).apply(this,arguments)}function Jc(){return(Jc=Zr()(Jr.a.mark((function t(){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getCurrentKeyBlockHeight();case 2:return t.abrupt("return",t.sent.height);case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Xc(t){return Zc.apply(this,arguments)}function Zc(){return(Zc=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ts(){return(ts=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){return(u=Zr()(Jr.a.mark((function t(n){var r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.height();case 2:if(!((r=t.sent)>=e)){t.next=5;break}return t.abrupt("return",r);case 5:if(!(n>0)){t.next=9;break}return t.next=8,Xc(a);case 8:return t.abrupt("return",s(n-1));case 9:throw Error("Giving up after ".concat(i*a,"ms, current=").concat(r,", h=").concat(e));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)},s=function(t){return u.apply(this,arguments)},n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.interval,a=void 0===r?5e3:r,o=n.attempts,i=void 0===o?20:o,c=this,t.abrupt("return",s(i));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function es(){return(es=Zr()(Jr.a.mark((function t(){var e;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getTopBlock();case 2:return e=t.sent,t.abrupt("return",e[oi()(Ai()(e))]);case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ns(){return(ns=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=function(){return(p=Zr()(Jr.a.mark((function t(){var n;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.tx(e).catch((function(t){return null}));case 2:if(!(n=t.sent)||-1===n.blockHeight){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,c.height();case 7:if(t.t0=t.sent,t.t1=s,!(t.t0<t.t1)){t.next=13;break}return t.next=12,Xc(i);case 12:return t.abrupt("return",u());case 13:throw new Error("Giving up after ".concat(a," blocks mined. TxHash ").concat(e));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)},u=function(){return p.apply(this,arguments)},n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.blocks,a=void 0===r?10:r,o=n.interval,i=void 0===o?5e3:o,c=this,t.next=6,this.height();case 6:return t.t0=t.sent,t.t1=a,s=t.t0+t.t1,t.abrupt("return",u());case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function rs(){return(rs=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getTransactionInfoByHash(e).then((function(t){return t.callInfo?t.callInfo:t})));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function as(){return(as=Zr()(Jr.a.mark((function t(){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getPendingTransactions());case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function os(){return(os=Zr()(Jr.a.mark((function t(){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getCurrentGeneration());case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function is(){return(is=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getGenerationByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getGenerationByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function cs(){return(cs=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getMicroBlockTransactionsByHash(e);case 2:return t.abrupt("return",t.sent.transactions);case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ss(){return(ss=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getKeyBlockByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getKeyBlockByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function us(){return(us=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getMicroBlockHeaderByHash(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ps(){return(ps=Zr()(Jr.a.mark((function t(e,n,r){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.dryRunTxs({txs:e.map((function(t){return{tx:t}})),accounts:n,top:r}));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function fs(){return(fs=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getContractCode(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ls(){return(ls=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getContract(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ds(){return(ds=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getNameEntryByName(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var hs=Oo.compose(Tc,Uc,_c,{init:function(t){var e=t.verifyTx,n=void 0===e||e;this.verifyTxBeforeSend=n},methods:{sendTransaction:function(t){return Wc.apply(this,arguments)},balance:function(t){return zc.apply(this,arguments)},getBalance:function(t){return Yc.apply(this,arguments)},getAccount:function(t){return Gc.apply(this,arguments)},topBlock:function(){return es.apply(this,arguments)},tx:function(t){return $c.apply(this,arguments)},height:function(){return Jc.apply(this,arguments)},awaitHeight:function(t){return ts.apply(this,arguments)},poll:function(t){return ns.apply(this,arguments)},getTxInfo:function(t){return rs.apply(this,arguments)},mempool:function(){return as.apply(this,arguments)},getCurrentGeneration:function(){return os.apply(this,arguments)},getGeneration:function(t){return is.apply(this,arguments)},getMicroBlockHeader:function(t){return us.apply(this,arguments)},getMicroBlockTransactions:function(t){return cs.apply(this,arguments)},getKeyBlock:function(t){return ss.apply(this,arguments)},txDryRun:function(t,e,n){return ps.apply(this,arguments)},getContractByteCode:function(t){return fs.apply(this,arguments)},getContract:function(t){return ls.apply(this,arguments)},getName:function(t){return ds.apply(this,arguments)},waitForTxConfirm:function(t){return Qc.apply(this,arguments)}}});function ms(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ms(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bs(){return(bs=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l,d=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.senderId,r=e.recipientId,a=e.amount,o=e.payload,i=void 0===o?"":o,t.next=3,this.prepareTxParams(ct,vs({senderId:n},oi()(d),{payload:i}));case 3:if(c=t.sent,s=c.fee,u=c.ttl,p=c.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(d),{recipientId:r,senderId:n,nonce:p,ttl:u,fee:s,payload:i}),ct),t.next=14;break;case 11:return t.next=13,this.api.postSpend(vo()(oi()(d),{amount:parseInt(a),recipientId:r,senderId:n,nonce:p,ttl:u,fee:parseInt(s),payload:i}));case 13:t.t0=t.sent;case 14:return f=t.t0,l=f.tx,t.abrupt("return",l);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ys(){return(ys=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.commitmentId,t.next=3,this.prepareTxParams(ut,vs({senderId:n},oi()(u)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,i=r.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(u),{nonce:i,ttl:o,fee:a}),ut),t.next=14;break;case 11:return t.next=13,this.api.postNamePreclaim(vo()(oi()(u),{nonce:i,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return c=t.t0,s=c.tx,t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function gs(){return(gs=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.name,e.nameSalt,r=e.vsn,a=void 0===r?2:r,t.next=3,this.prepareTxParams(st,vs({senderId:n},oi()(f),{vsn:a}));case 3:if(o=t.sent,i=o.fee,c=o.ttl,s=o.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(f),{nonce:s,ttl:c,fee:i}),st,{vsn:a}),t.next=14;break;case 11:return t.next=13,this.api.postNameClaim(vo()(oi()(f),{nonce:s,ttl:c,fee:parseInt(i)}));case 13:t.t0=t.sent;case 14:return u=t.t0,p=u.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function xs(){return(xs=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,r=e.recipientId,t.next=3,this.prepareTxParams(lt,vs({senderId:n},oi()(p)));case 3:if(a=t.sent,o=a.fee,i=a.ttl,c=a.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(p),{recipientId:r,nonce:c,ttl:i,fee:o}),lt),t.next=14;break;case 11:return t.next=13,this.api.postNameTransfer(vo()(oi()(p),{recipientId:r,nonce:c,ttl:i,fee:parseInt(o)}));case 13:t.t0=t.sent;case 14:return s=t.t0,u=s.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ws(){return(ws=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,e.nameTtl,e.pointers,e.clientTtl,t.next=3,this.prepareTxParams(pt,vs({senderId:n},oi()(u)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,i=r.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(u),{nonce:i,ttl:o,fee:a}),pt),t.next=14;break;case 11:return t.next=13,this.api.postNameUpdate(vo()(oi()(u),{nonce:i,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return c=t.t0,s=c.tx,t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ks(){return(ks=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,t.next=3,this.prepareTxParams(ft,vs({senderId:n},oi()(u)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,i=r.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(u),{nonce:i,ttl:o,fee:a}),ft),t.next=14;break;case 11:return t.next=13,this.api.postNameRevoke(vo()(oi()(u),{nonce:i,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return c=t.t0,s=c.tx,t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Os(){return(Os=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerId,e.code,e.vmVersion,e.abiVersion,e.deposit,e.amount,r=e.gas,a=e.gasPrice,o=void 0===a?1e9:a,e.callData,e.backend,i=this.getVmVersion(ht,oi()(f)),t.next=4,this.prepareTxParams(ht,vs({senderId:n},oi()(f),{ctVersion:i,gasPrice:o}));case 4:return c=t.sent,s=c.fee,u=c.ttl,p=c.nonce,t.abrupt("return",this.nativeMode?vs({},Ja(vo()(oi()(f),{nonce:p,ttl:u,fee:s,ctVersion:i,gasPrice:o}),ht),{contractId:qn(n,p)}):this.api.postContractCreate(vo()(oi()(f),{nonce:p,ttl:u,fee:parseInt(s),gas:parseInt(r),gasPrice:o,vmVersion:i.vmVersion,abiVersion:i.abiVersion})));case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function js(){return(js=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l,d=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.callerId,e.contractId,e.abiVersion,e.amount,r=e.gas,a=e.gasPrice,o=void 0===a?1e9:a,e.callData,e.backend,i=this.getVmVersion(mt,oi()(d)),t.next=4,this.prepareTxParams(mt,vs({senderId:n},oi()(d),{gasPrice:o,abiVersion:i.abiVersion}));case 4:if(c=t.sent,s=c.fee,u=c.ttl,p=c.nonce,!this.nativeMode){t.next=12;break}t.t0=Ja(vo()(oi()(d),{nonce:p,ttl:u,fee:s,abiVersion:i.abiVersion,gasPrice:o}),mt),t.next=15;break;case 12:return t.next=14,this.api.postContractCall(vo()(oi()(d),{nonce:p,ttl:u,fee:parseInt(s),gas:parseInt(r),gasPrice:o,abiVersion:i.abiVersion}));case 14:t.t0=t.sent;case 15:return f=t.t0,l=f.tx,t.abrupt("return",l);case 18:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Cs(){return(Cs=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l,d,h,m=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,r=e.queryFormat,a=e.responseFormat,o=e.queryFee,i=e.oracleTtl,c=e.abiVersion,s=void 0===c?ee:c,t.next=3,this.prepareTxParams(bt,vs({senderId:n},oi()(m),{abiVersion:s}));case 3:if(u=t.sent,p=u.fee,f=u.ttl,l=u.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja({accountId:n,queryFee:o,abiVersion:s,fee:p,oracleTtl:i,nonce:l,ttl:f,queryFormat:r,responseFormat:a},bt),t.next=14;break;case 11:return t.next=13,this.api.postOracleRegister({accountId:n,queryFee:o,abiVersion:s,fee:parseInt(p),oracleTtl:i,nonce:l,ttl:f,queryFormat:r,responseFormat:a});case 13:t.t0=t.sent;case 14:return d=t.t0,h=d.tx,t.abrupt("return",h);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Is(){return(Is=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,a=e.oracleTtl,t.next=3,this.prepareTxParams(yt,vs({senderId:r},oi()(f)));case 3:if(o=t.sent,i=o.fee,c=o.ttl,s=o.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja({oracleId:n,fee:i,oracleTtl:a,nonce:s,ttl:c},yt),t.next=14;break;case 11:return t.next=13,this.api.postOracleExtend({oracleId:n,fee:parseInt(i),oracleTtl:a,nonce:s,ttl:c});case 13:t.t0=t.sent;case 14:return u=t.t0,p=u.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ts(){return(Ts=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l,d,h=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.responseTtl,a=e.query,o=e.queryTtl,i=e.queryFee,c=e.senderId,t.next=3,this.prepareTxParams(gt,vs({senderId:c},oi()(h)));case 3:if(s=t.sent,u=s.fee,p=s.ttl,f=s.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja({oracleId:n,responseTtl:r,query:a,queryTtl:o,fee:u,queryFee:i,ttl:p,nonce:f,senderId:c},gt),t.next=14;break;case 11:return t.next=13,this.api.postOracleQuery({oracleId:n,responseTtl:r,query:a,queryTtl:o,fee:parseInt(u),queryFee:i,ttl:p,nonce:f,senderId:c});case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",{tx:d,queryId:Mn(c,f,n)});case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ps(){return(Ps=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l,d=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,a=e.responseTtl,o=e.queryId,i=e.response,t.next=3,this.prepareTxParams(xt,vs({senderId:r},oi()(d)));case 3:if(c=t.sent,s=c.fee,u=c.ttl,p=c.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja({oracleId:n,responseTtl:a,queryId:o,response:i,fee:s,ttl:u,nonce:p},xt),t.next=14;break;case 11:return t.next=13,this.api.postOracleRespond({oracleId:n,responseTtl:a,queryId:o,response:i,fee:parseInt(s),ttl:u,nonce:p});case 13:t.t0=t.sent;case 14:return f=t.t0,l=f.tx,t.abrupt("return",l);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function As(){return(As=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,o=e.poi,t.next=3,this.prepareTxParams(Ot,vs({senderId:r},oi()(l),{payload:a}));case 3:if(i=t.sent,c=i.fee,s=i.ttl,u=i.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(l),{channelId:n,fromId:r,payload:a,poi:o,ttl:s,fee:c,nonce:u}),Ot),t.next=14;break;case 11:return t.next=13,this.api.postChannelCloseSolo(vo()(oi()(l),{channelId:n,fromId:r,payload:a,poi:o,ttl:s,fee:parseInt(c),nonce:u}));case 13:t.t0=t.sent;case 14:return p=t.t0,f=p.tx,t.abrupt("return",f);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Es(){return(Es=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,o=e.poi,t.next=3,this.prepareTxParams(jt,vs({senderId:r},oi()(l),{payload:a}));case 3:if(i=t.sent,c=i.fee,s=i.ttl,u=i.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(l),{channelId:n,fromId:r,payload:a,poi:o,ttl:s,fee:c,nonce:u}),jt),t.next=14;break;case 11:return t.next=13,this.api.postChannelSlash(vo()(oi()(l),{channelId:n,fromId:r,payload:a,poi:o,ttl:s,fee:parseInt(c),nonce:u}));case 13:t.t0=t.sent;case 14:return p=t.t0,f=p.tx,t.abrupt("return",f);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ss(){return(Ss=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.initiatorAmountFinal,o=e.responderAmountFinal,t.next=3,this.prepareTxParams(Tt,vs({senderId:r},oi()(l)));case 3:if(i=t.sent,c=i.fee,s=i.ttl,u=i.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(l),{channelId:n,fromId:r,initiatorAmountFinal:a,responderAmountFinal:o,ttl:s,fee:c,nonce:u}),Tt),t.next=14;break;case 11:return t.next=13,this.api.postChannelSettle(vo()(oi()(l),{channelId:n,fromId:r,initiatorAmountFinal:parseInt(a),responderAmountFinal:parseInt(o),ttl:s,fee:parseInt(c),nonce:u}));case 13:t.t0=t.sent;case 14:return p=t.t0,f=p.tx,t.abrupt("return",f);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function _s(){return(_s=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,t.next=3,this.prepareTxParams(Et,vs({senderId:r},oi()(f),{payload:a}));case 3:if(o=t.sent,i=o.fee,c=o.ttl,s=o.nonce,!this.nativeMode){t.next=11;break}t.t0=Ja(vo()(oi()(f),{channelId:n,fromId:r,payload:a,ttl:c,fee:i,nonce:s}),Et),t.next=14;break;case 11:return t.next=13,this.api.postChannelSnapshotSolo(vo()(oi()(f),{channelId:n,fromId:r,payload:a,ttl:c,fee:parseInt(i),nonce:s}));case 13:t.t0=t.sent;case 14:return u=t.t0,p=u.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Bs(){return(Bs=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerId,e.code,e.vmVersion,e.abiVersion,e.authFun,e.gas,r=e.gasPrice,a=void 0===r?1e9:r,e.callData,e.backend,o=this.getVmVersion(ht,oi()(p)),t.next=4,this.prepareTxParams(Gt,vs({senderId:n},oi()(p),{ctVersion:o,gasPrice:a}));case 4:return i=t.sent,c=i.fee,s=i.ttl,u=i.nonce,t.abrupt("return",vs({},Ja(vo()(oi()(p),{nonce:u,ttl:s,fee:c,ctVersion:o,gasPrice:a}),Gt),{contractId:qn(n,u)}));case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ns(){return Ds.apply(this,arguments)}function Ds(){return(Ds=Zr()(Jr.a.mark((function t(){var e,n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:0,n=!(o.length>1&&void 0!==o[1])||o[1],0!==e){t.next=4;break}return t.abrupt("return",0);case 4:if(!(e<0)){t.next=6;break}throw new Error("ttl must be greater than 0");case 6:if(!n){t.next=12;break}return t.next=9,this.api.getCurrentKeyBlock();case 9:return r=t.sent,a=r.height,t.abrupt("return",+a+e);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vs(){return(Vs=Zr()(Jr.a.mark((function t(e,n){var r,a;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n);case 2:return t.next=4,this.api.getAccountByPubkey(e).catch((function(){return{nonce:0}}));case 4:return r=t.sent,a=r.nonce,t.abrupt("return",a+1);case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function qs(){return(qs=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u,p,f,l,d=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.senderId,a=n.nonce,o=n.ttl,i=n.fee,c=n.gas,s=n.absoluteTtl,u=n.vsn,t.next=3,this.getAccount(r).catch((function(t){return{nonce:0}}));case 3:return p=t.sent,a=p.contractId?0:a||p.nonce+1,t.next=7,Ns.bind(this)(o,!s);case 7:return f=t.sent,l=Ga(i,e,{showWarning:this.showWarning,gas:c,params:vo()(z()(d),{nonce:a,ttl:f}),vsn:u}),t.abrupt("return",{fee:l,ttl:f,nonce:a});case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Fs=hs.compose(wo,{init:function(t){var e=t.nativeMode,n=void 0===e||e,r=t.showWarning,a=void 0!==r&&r;this.nativeMode=n,this.showWarning=a},props:{nativeMode:!0,showWarning:!1},methods:{spendTx:function(t){return bs.apply(this,arguments)},namePreclaimTx:function(t){return ys.apply(this,arguments)},nameClaimTx:function(t){return gs.apply(this,arguments)},nameTransferTx:function(t){return xs.apply(this,arguments)},nameUpdateTx:function(t){return ws.apply(this,arguments)},nameRevokeTx:function(t){return ks.apply(this,arguments)},contractCreateTx:function(t){return Os.apply(this,arguments)},contractCallTx:function(t){return js.apply(this,arguments)},prepareTxParams:function(t,e){return qs.apply(this,arguments)},oracleRegisterTx:function(t){return Cs.apply(this,arguments)},oracleExtendTx:function(t){return Is.apply(this,arguments)},oraclePostQueryTx:function(t){return Ts.apply(this,arguments)},oracleRespondTx:function(t){return Ps.apply(this,arguments)},channelCloseSoloTx:function(t){return As.apply(this,arguments)},channelSlashTx:function(t){return Es.apply(this,arguments)},channelSettleTx:function(t){return Ss.apply(this,arguments)},channelSnapshotSoloTx:function(t){return _s.apply(this,arguments)},gaAttachTx:function(t){return Bs.apply(this,arguments)},getAccountNonce:function(t,e){return Vs.apply(this,arguments)},getVmVersion:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.vmVersion,r=e.abiVersion,a=e.backend,o=this.getNodeInfo(),i=o.consensusProtocolVersion,c=ce[i];if(!c)throw new Error("Not supported consensus protocol version");var s=c[t];if(!s)throw new Error("Not supported tx type");var u={abiVersion:void 0!==r?r:a===oe?s.abiVersion[1]:s.abiVersion[0],vmVersion:void 0!==n?n:a===oe?s.vmVersion[1]:s.vmVersion[0]};if(s.vmVersion.length&&!Ao()(u.vmVersion,s.vmVersion))throw new Error("VM VERSION ".concat(u.vmVersion," do not support by this node. Supported: [").concat(s.vmVersion,"]"));if(s.abiVersion.length&&!Ao()(u.abiVersion,s.abiVersion))throw new Error("ABI VERSION ".concat(u.abiVersion," do not support by this node. Supported: [").concat(s.abiVersion,"]"));return u}}}),Ms=new WeakMap;function Rs(){return(Rs=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isGa){t.next=2;break}throw new Error("You are trying to sign data using GA account without keypair");case 2:return t.abrupt("return",Promise.resolve(Er(e,Ms.get(this).secretKey)));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ks(){return(Ks=Zr()(Jr.a.mark((function t(){var e,n=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{format:sr.api},t.abrupt("return",Promise.resolve(ur(e.format,Ms.get(this).publicKey)));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Us=mc.compose({init:function(t){var e=t.keypair,n=t.gaId;if(this.isGa=!!n,n){if(!pr(n))throw new Error("Invalid GA address");Ms.set(this,{publicKey:n})}else!function(t){if(!t||"object"!==_a()(t))throw new Error("KeyPair must be an object");if(!t.secretKey||!t.publicKey)throw new Error('KeyPair must must have "secretKey", "publicKey" properties');if("string"!=typeof t.publicKey||-1===t.publicKey.indexOf("ak_"))throw new Error('Public Key must be a base58c string with "ak_" prefix');if(!Buffer.isBuffer(t.secretKey)&&"string"==typeof t.secretKey&&!ca(t.secretKey))throw new Error("Secret key must be hex string or Buffer");var e=Buffer.from(Ln(t.publicKey,"ak"));if(!Hr(Buffer.from(t.secretKey,"hex"),e))throw new Error("Invalid Key Pair")}(e),this.setSecret(e)},props:{isGa:!1},methods:{sign:function(t){return Rs.apply(this,arguments)},address:function(){return Ks.apply(this,arguments)},setSecret:function(t){Ms.set(this,{secretKey:Buffer.isBuffer(t.secretKey)?t.secretKey:Buffer.from(t.secretKey,"hex"),publicKey:t.publicKey})}}}),Hs=function(t){return!["sign","address"].find((function(e){return"function"!=typeof t[e]}))};function Ls(){return(Ls=Zr()(Jr.a.mark((function t(e){var n,r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},r=n.onAccount){t.next=3;break}return t.abrupt("return",this.signWith(this.Selector.address,e));case 3:return t.abrupt("return",this.resolveOnAccount(r,"sign",e));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ws(){return(Ws=Zr()(Jr.a.mark((function t(e){var n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:"address",r=o.length>2?o[2]:void 0,t.t0=_a()(e),t.next="string"===t.t0?5:"object"===t.t0?14:27;break;case 5:if(Rr(e,"ak",!0)){t.next=7;break}throw new Error('Invalid account address, check "onAccount" value');case 7:if(this.accounts[e]){t.next=9;break}throw Error("Account for ".concat(e," not available"));case 9:if("sign"!==n){t.next=11;break}return t.abrupt("return",this.signWith(e,r));case 11:if("address"!==n){t.next=13;break}return t.abrupt("return",e);case 13:return t.abrupt("break",28);case 14:if(t.prev=14,a=Hs(e)?e:Us({keypair:e}),"sign"!==n){t.next=18;break}return t.abrupt("return",a.sign(r));case 18:if("address"!==n){t.next=20;break}return t.abrupt("return",a.address());case 20:return t.abrupt("break",28);case 23:throw t.prev=23,t.t1=t.catch(14),t.t1.message="Invalid 'onAccount' option: ".concat(t.t1.message),t.t1;case 27:throw new Error("Invalid `onAccount` option: should be keyPair object or account address");case 28:case"end":return t.stop()}}),t,this,[[14,23]])})))).apply(this,arguments)}function Qs(){return(Qs=Zr()(Jr.a.mark((function t(){var e,n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:{},n=e.onAccount){t.next=5;break}if(!this.Selector.address){t.next=4;break}return t.abrupt("return",Promise.resolve(this.Selector.address));case 4:throw new Error("You don't have selected account");case 5:return t.abrupt("return",this.resolveOnAccount(n,"address"));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Gs=mc.compose({init:function(t){var e=this,n=t.address;return Zr()(Jr.a.mark((function t(){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n||(n=Object.keys(e.accounts)[0]),!n||Rr(n,"ak",!0)){t.next=3;break}throw new Error("Invalid account address");case 3:e.Selector.address=n;case 4:case"end":return t.stop()}}),t)})))()},methods:{sign:function(t){return Ls.apply(this,arguments)},address:function(){return Qs.apply(this,arguments)},selectAccount:function(t){if(!t||!Rr(t,"ak",!0))throw new Error("Invalid account address");if(!this.accounts[t])throw Error("Account for ".concat(t," not available"));this.Selector.address=t},resolveOnAccount:function(t){return Ws.apply(this,arguments)}},deepProps:{Selector:{}}},xo()({methods:{signWith:xo.a}}));function zs(){return(zs=Zr()(Jr.a.mark((function t(e,n){var r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=this.accounts[e])){t.next=3;break}throw Error("Account for ".concat(e," not available"));case 3:return t.abrupt("return",r.sign(n));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ys(){return(Ys=Zr()(Jr.a.mark((function t(e){var n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.select,t.next=3,e.address();case 3:a=t.sent,this.accounts[a]=e,r&&this.selectAccount(a);case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var $s=yo()(Ho,{init:function(t){var e=this,n=t.accounts,r=void 0===n?[]:n;return Zr()(Jr.a.mark((function t(){var n;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ui.a,t.next=3,Promise.all(r.map(function(){var t=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.address();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",[t.t0,t.t1]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:if(t.t1=t.sent,e.accounts=(0,t.t0)(t.t1),!(n=Lr(process.env,!0))){t.next=9;break}return t.next=9,e.addAccount(Us({keypair:n}),{select:!e.Selector.address});case 9:case"end":return t.stop()}}),t)})))()},props:{accounts:{}},methods:{signWith:function(t,e){return zs.apply(this,arguments)},addAccount:function(t){return Ys.apply(this,arguments)},removeAccount:function(t){this.accounts[t]&&delete this.accounts[t],this.Selector.address===t&&(this.Selector.address=void 0)},addresses:function(){return Object.keys(this.accounts)}}},Gs);function Js(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Js(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zs(){return(Zs=Zr()(Jr.a.mark((function t(e){var n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},Xn(e),r=vo()(this.Ae.defaults,n),t.t0=this,t.t1=vo.a,t.t2=r,t.t3=Un(e),t.next=9,this.address(r);case 9:return t.t4=t.sent,t.t5={nameId:t.t3,accountId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=14,t.t0.nameRevokeTx.call(t.t0,t.t6);case 14:return a=t.sent,t.abrupt("return",this.send(a,r));case 16:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function tu(){return(tu=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:[],r=i.length>2&&void 0!==i[2]?i[2]:{extendPointers:!1},Xn(e),a=vo()(this.Ae.defaults,r),tr(n)){t.next=6;break}throw new Error("Invalid pointers array");case 6:if(t.t0=[],t.t1=$.a,!r.extendPointers){t.next=14;break}return t.next=11,this.getName(e);case 11:t.t2=t.sent.pointers,t.next=15;break;case 14:t.t2=[];case 15:return t.t3=t.t2,t.t4=(0,t.t1)(t.t3),t.t5=$()(n.map((function(t){return ui()([["id",t],["key",Zn(t)]])}))),t.t6=function(t,e){return[].concat($()(t.filter((function(t){return t.key!==e.key}))),[e])},t.t7=[],n=t.t0.concat.call(t.t0,t.t4,t.t5).reduce(t.t6,t.t7),t.t8=this,t.t9=vo.a,t.t10=a,t.t11=Un(e),t.next=27,this.address(a);case 27:return t.t12=t.sent,t.t13=n,t.t14={nameId:t.t11,accountId:t.t12,pointers:t.t13},t.t15=(0,t.t9)(t.t10,t.t14),t.next=33,t.t8.nameUpdateTx.call(t.t8,t.t15);case 33:return o=t.sent,t.abrupt("return",this.send(o,a));case 35:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function eu(){return(eu=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},Xn(e),a=vo()(this.Ae.defaults,r),t.t0=this,t.t1=vo.a,t.t2=a,t.t3=Un(e),t.next=9,this.address(a);case 9:return t.t4=t.sent,t.t5=n,t.t6={nameId:t.t3,accountId:t.t4,recipientId:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=15,t.t0.nameTransferTx.call(t.t0,t.t7);case 15:return o=t.sent,t.abrupt("return",this.send(o,a));case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function nu(){return(nu=Zr()(Jr.a.mark((function t(e){var n,r,a=this,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},Xn(e),t.next=4,this.getName(e);case 4:return r=t.sent,t.abrupt("return",Object.freeze(Object.assign(r,{pointers:r.pointers||[],update:function(){var t=Zr()(Jr.a.mark((function t(){var r,o,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:[],o=i.length>1&&void 0!==i[1]?i[1]:{},t.t0=Xs,t.t1={},t.next=6,a.aensUpdate(e,r,vo()(n,o));case 6:return t.t2=t.sent,t.t3={},t.next=10,a.aensQuery(e);case 10:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),transfer:function(){var t=Zr()(Jr.a.mark((function t(r){var o,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>1&&void 0!==i[1]?i[1]:{},t.t0=Xs,t.t1={},t.next=5,a.aensTransfer(e,r,vo()(n,o));case 5:return t.t2=t.sent,t.t3={},t.next=9,a.aensQuery(e);case 9:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),revoke:function(){var t=Zr()(Jr.a.mark((function t(){var r,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},t.abrupt("return",a.aensRevoke(e,vo()(n,r)));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),extendTtl:function(){var t=Zr()(Jr.a.mark((function t(){var o,i,c=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=c.length>0&&void 0!==c[0]?c[0]:5e4,i=c.length>1&&void 0!==c[1]?c[1]:{},o&&"number"==typeof o&&!(o>5e4)){t.next=4;break}throw new Error("Ttl must be an number and less then 50000 blocks");case 4:return t.t0=Xs,t.t1={},t.next=8,a.aensUpdate(e,r.pointers.map((function(t){return t.id})),Xs({},vo()(n,i),{nameTtl:o}));case 8:return t.t2=t.sent,t.t3={},t.next=12,a.aensQuery(e);case 12:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ru(){return(ru=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:{vsn:2},Xn(e),a=vo()(this.Ae.defaults,r),o=er(e),a.nameFee===this.Ae.defaults.nameFee||!o.gt(a.nameFee)){t.next=6;break}throw new Error("the provided fee ".concat(a.nameFee," is not enough to execute the claim, required: ").concat(o));case 6:return a.nameFee=a.nameFee!==this.Ae.defaults.nameFee?a.nameFee:o,t.t0=this,t.t1=vo.a,t.t2=a,t.next=12,this.address(a);case 12:return t.t3=t.sent,t.t4=n,t.t5=Wn(e,"nm"),t.t6={accountId:t.t3,nameSalt:t.t4,name:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=19,t.t0.nameClaimTx.call(t.t0,t.t7);case 19:return i=t.sent,t.next=22,this.send(i,a);case 22:if(c=t.sent,or(e)){t.next=34;break}if(delete a.vsn,!a.waitMined){t.next=31;break}return t.next=28,this.aensQuery(e,a);case 28:t.t8=t.sent,t.next=32;break;case 31:t.t8={};case 32:return s=t.t8,t.abrupt("return",Object.assign(c,s));case 34:return t.abrupt("return",Xs({},c,{nameFee:a.nameFee}));case 35:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function au(){return(au=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u=this,p=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},Xn(e),r=vo()(this.Ae.defaults,n),a=mr(),t.next=6,this.height();case 6:return o=t.sent,i=Hn(e,a),t.t0=this,t.t1=vo.a,t.t2=r,t.next=13,this.address(r);case 13:return t.t3=t.sent,t.t4=i,t.t5={accountId:t.t3,commitmentId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=19,t.t0.namePreclaimTx.call(t.t0,t.t6);case 19:return c=t.sent,t.next=22,this.send(c,r);case 22:return s=t.sent,t.abrupt("return",Object.freeze(Xs({},s,{height:o,claim:function(t){return u.aensClaim(e,a,Xs({},t,{onAccount:r.onAccount}))},salt:a,commitmentId:i})));case 24:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ou(){return(ou=Zr()(Jr.a.mark((function t(e){var n,r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.aensClaim(e,0,Xs({},r,{nameFee:n,vsn:2})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var iu=Oc.compose({methods:{aensQuery:function(t){return nu.apply(this,arguments)},aensPreclaim:function(t){return au.apply(this,arguments)},aensClaim:function(t,e){return ru.apply(this,arguments)},aensUpdate:function(t){return tu.apply(this,arguments)},aensTransfer:function(t,e){return eu.apply(this,arguments)},aensRevoke:function(t){return Zs.apply(this,arguments)},aensBid:function(t){return ou.apply(this,arguments)}},deepProps:{Ae:{defaults:{clientTtl:84600,nameTtl:5e4,nameFee:0}}}});function cu(){return(cu=Zr()(Jr.a.mark((function t(e,n){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fu(So.a.get("".concat(this.baseUrl).concat(e),vo()(this.httpConfig,n))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function su(){return(su=Zr()(Jr.a.mark((function t(e,n,r){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fu(So.a.post("".concat(this.baseUrl).concat(e),n,vo()(this.httpConfig,r))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function uu(){return(uu=Zr()(Jr.a.mark((function t(e,n,r){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fu(So.a.put("".concat(this.baseUrl).concat(e),n,vo()(this.httpConfig,r))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function pu(){return(pu=Zr()(Jr.a.mark((function t(e,n){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fu(So.a.delete("".concat(this.baseUrl).concat(e),vo()(this.httpConfig,n))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var fu=function(){var t=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return t.abrupt("return",t.sent.data);case 6:if(t.prev=6,t.t0=t.catch(0),t.t0.response){t.next=10;break}throw t.t0;case 10:throw Object.assign(Error("Http request for ".concat(t.t0.config.url," failed with status code ").concat(t.t0.response.status,". Status: ").concat(t.t0.response.statusText,". \nError data: ").concat(JSON.stringify(t.t0.response.data))),{error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),lu=yo()({init:function(t){var e=t.baseUrl;this.baseUrl=e},methods:{changeBaseUrl:function(t){this.baseUrl=t},get:function(t,e){return cu.apply(this,arguments)},post:function(t,e,n){return su.apply(this,arguments)},put:function(t,e,n){return uu.apply(this,arguments)},delete:function(t,e){return pu.apply(this,arguments)}},props:{httpConfig:{headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return Fi.parse(t)}catch(e){return t}}]}}}),du=yo()({deepConf:{Contract:{methods:["contractEncodeCallDataAPI","contractDecodeDataAPI","compileContractAPI","contractDecodeCallDataBySourceAPI","contractDecodeCallDataByCodeAPI","contractGetACI","setCompilerUrl","getCompilerVersion","contractDecodeCallResultAPI","validateByteCodeAPI","getFateAssembler","getBytecodeCompilerVersion"]}}},Object(go.required)({methods:{contractEncodeCallDataAPI:go.required,contractDecodeDataAPI:go.required,compileContractAPI:go.required,contractGetACI:go.required,setCompilerUrl:go.required,getCompilerVersion:go.required,contractDecodeCallResultAPI:go.required,validateByteCodeAPI:go.required,getFateAssembler:go.required,getBytecodeCompilerVersion:go.required}}));function hu(){return(hu=Zr()(Jr.a.mark((function t(){var e,n=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},t.abrupt("return",this.http.get("/api-version",e).then((function(t){return t["api-version"]})));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function mu(){return(mu=Zr()(Jr.a.mark((function t(e,n){var r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:[],a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/encode-calldata",{source:e,function:n,arguments:r,options:this.prepareCompilerOption(a)},a).then((function(t){return t.calldata})));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function vu(){return(vu=Zr()(Jr.a.mark((function t(e,n){var r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:this.compilerOptions.backend,a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-calldata/bytecode",{bytecode:e,calldata:n,backend:r},a));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function bu(){return(bu=Zr()(Jr.a.mark((function t(e,n,r){var a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-calldata/source",{function:n,source:e,calldata:r,options:this.prepareCompilerOption(a)},a));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function yu(){return(yu=Zr()(Jr.a.mark((function t(e,n,r,a){var o,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>4&&void 0!==i[4]?i[4]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-call-result",{function:n,source:e,"call-result":a,"call-value":r,options:this.prepareCompilerOption(o)},o));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function gu(){return(gu=Zr()(Jr.a.mark((function t(e,n){var r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-data",{data:n,"sophia-type":e},r).then((function(t){return t.data})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function xu(){return(xu=Zr()(Jr.a.mark((function t(e,n){var r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},this.isInit(),t.abrupt("return",this.http.post("/validate-byte-code",{bytecode:e,source:n,options:this.prepareCompilerOption(r)},r).then((function(t){return"object"===_a()(t)||t})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function wu(){return(wu=Zr()(Jr.a.mark((function t(e){var n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/compile",{code:e,options:this.prepareCompilerOption(n)},n).then((function(t){return t.bytecode})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ku(){return(ku=Zr()(Jr.a.mark((function t(e){var n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/aci",{code:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ou(){return(Ou=Zr()(Jr.a.mark((function t(e){var n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/fate-assembler",{bytecode:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ju(){return(ju=Zr()(Jr.a.mark((function t(e){var n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/compiler-version",{bytecode:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Cu(){return(Cu=Zr()(Jr.a.mark((function t(e){var n,r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.forceCompatibility,a=void 0!==r&&r,this.http.changeBaseUrl(e),t.next=4,this.getCompilerVersion().catch((function(t){return null}));case 4:return this.compilerVersion=t.sent,t.next=7,this.checkCompatibility({forceCompatibility:a});case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Iu(){return(Iu=Zr()(Jr.a.mark((function t(){var e,n,r,a,o,i,c=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:{},n=e.force,r=void 0!==n&&n,a=e.forceCompatibility,o=void 0!==a&&a,this.compilerVersion||r){t.next=3;break}throw new Error("Compiler do not respond");case 3:if(o||!this.compilerVersion||nc(this.compilerVersion.split("-")[0],Pu,Au)){t.next=7;break}throw i=this.compilerVersion,this.compilerVersion=null,new Error("Unsupported compiler version ".concat(i,". ")+"Supported: >= ".concat(Pu," < ").concat(Au));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Tu=Ho.compose(du,{init:function(t){var e=this,n=t.compilerUrl,r=void 0===n?this.compilerUrl:n,a=t.forceCompatibility,o=void 0!==a&&a;return Zr()(Jr.a.mark((function t(){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.http=lu({baseUrl:r}),t.next=3,e.getCompilerVersion().catch((function(t){return null}));case 3:return e.compilerVersion=t.sent,t.next=6,e.checkCompatibility({force:!0,forceCompatibility:o});case 6:case"end":return t.stop()}}),t)})))()},methods:{contractEncodeCallDataAPI:function(t,e){return mu.apply(this,arguments)},contractDecodeDataAPI:function(t,e){return gu.apply(this,arguments)},compileContractAPI:function(t){return wu.apply(this,arguments)},contractGetACI:function(t){return ku.apply(this,arguments)},contractDecodeCallDataByCodeAPI:function(t,e){return vu.apply(this,arguments)},contractDecodeCallDataBySourceAPI:function(t,e,n){return bu.apply(this,arguments)},contractDecodeCallResultAPI:function(t,e,n,r){return yu.apply(this,arguments)},setCompilerUrl:function(t){return Cu.apply(this,arguments)},getCompilerVersion:function(){return hu.apply(this,arguments)},validateByteCodeAPI:function(t,e){return xu.apply(this,arguments)},isInit:function(){if(null===this.compilerVersion)throw Error("Compiler not defined");return!0},checkCompatibility:function(){return Iu.apply(this,arguments)},prepareCompilerOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.backend,n=void 0===e?this.compilerOptions.backend:e,r=t.filesystem,a=void 0===r?{}:r;return{backend:n,file_system:a}},getFateAssembler:function(t){return Ou.apply(this,arguments)},getBytecodeCompilerVersion:function(t){return ju.apply(this,arguments)}},props:{compilerVersion:null,compilerOptions:{backend:ae}}}),Pu="4.0.0",Au="5.0.0",Eu=Tu,Su=n(63),_u=n.n(Su),Bu=n(46),Nu=n.n(Bu),Du=n(14),Vu=n.n(Du);function qu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qu(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Mu=["int","string","tuple","address","bool","list","map","record","option","oracle","oracleQuery","hash","signature","bytes","variant"].reduce((function(t,e){return Fu({},t,X()({},e,e))}),{ChainTtl:"Chain.ttl"});function Ru(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{schema:[]};return t.length?t.map((function(t){var n=Nu()(t.topics),r=n[0],a=n.slice(1),o=C(r,!0).toString("hex"),i=e.schema.reduce((function(e,n){return dr(n.name).toString("hex")===o?(t.name=n.name,{schema:n.types.filter((function(t){return t!==Mu.string})),isHasNonIndexed:n.types.includes(Mu.string),name:n.name}):e}),{schema:[],isHasNonIndexed:!0}),c=i.schema,s=i.isHasNonIndexed;return Fu({},t,{decoded:[].concat($()(s?[Ln(t.data).toString("utf-8")]:[]),$()(a.map((function(t,e){return Ku(t,c[e])}))))})})):[]}function Ku(t,e){switch(e){case Mu.int:return Sn(t);case Mu.bool:return!!t;case Mu.hash:return C(t,!0).toString("hex");case Mu.address:return lr(t).split("_")[1];default:return C(t,!0)}}function Uu(t,e){var n="object"===_a()(t)?Object.keys(t)[0].split("."):t.split("."),r=Q()(n,2)[1],a=[].concat($()(e.typedef),[{name:"state",typedef:e.state,vars:[]}]).find((function(t){return t.name===r}));return a.vars.length&&(a.typedef=function(t,e){var n=Object.entries(e.typedef),r=Q()(n,1),a=Q()(r[0],2),o=a[0],i=a[1],c=Object.entries(t),s=Q()(c,1),u=Q()(s[0],2)[1];switch(o){case Mu.variant:return X()({},o,i.map((function(t){var n=Q()(Object.entries(t)[0],2),r=n[0],a=n[1];return X()({},r,a.map((function(t){var n=e.vars.map((function(t){return t.name})).indexOf(t);return-1===n?t:u[n]})))})))}}(t,a)),a.typedef}function Hu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bindings,r=Array.isArray(t)?t:[t],a=Q()(r,1),o=a[0];if(("string"==typeof o&&-1!==o.indexOf(n.contractName)||"object"===_a()(o)&&Object.keys(o)[0]&&-1!==Object.keys(o)[0].indexOf(n.contractName))&&(o=Uu(o,n)),"object"===_a()(o)){var i=Object.entries(o),c=Q()(i,1),s=Q()(c[0],2),u=s[0],p=s[1];return{t:u,generic:p}}if("string"==typeof o)return{t:o}}function Lu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bindings,a=Hu(t,{bindings:r}),o=a.t,i=a.generic;switch(o){case Mu.ChainTtl:return"".concat(e);case Mu.string:return'"'.concat(e,'"');case Mu.list:return"[".concat(e.map((function(t){return Lu(i,t,{bindings:r})})),"]");case Mu.tuple:return"(".concat(e.map((function(t,e){return Lu(i[e],t,{bindings:r})})),")");case Mu.option:return void 0===e?"None":"Some(".concat(Lu(i,e,{bindings:r}),")");case Mu.hash:case Mu.bytes:case Mu.signature:if("string"==typeof e){if(ca(e))return"#".concat(e);if(sa(e))return"#".concat(Ln(e).toString("hex"))}return"#".concat(Buffer.from(e).toString("hex"));case Mu.record:return"{".concat(i.reduce((function(t,n,a){var o=n.name,i=n.type;return t+="".concat(0!==a?",":"").concat(o," = ").concat(Lu(i,e[o],{bindings:r}))}),""),"}");case Mu.map:return Qu(e,i,{bindings:r});case Mu.variant:return Wu(e,i,{bindings:r})}return"".concat(e)}function Wu(t,e,n){var r=n.bindings,a="string"==typeof t?[[t,[]]]:Object.entries(t),o=Q()(a,1),i=Q()(o[0],2),c=i[0],s=i[1],u=Object.entries(e.find((function(t){return Object.keys(t)[0].toLowerCase()===c.toLowerCase()}))),p=Q()(u,1),f=Q()(p[0],2),l=f[0],d=f[1];return"".concat(l).concat(d.length?"(".concat(s.slice(0,d.length).map((function(t,e){return Lu(d[e],t,{bindings:r})})),")"):"")}function Qu(t,e,n){var r=n.bindings;return t instanceof Map&&(t=Array.from(t.entries())),!Array.isArray(t)&&t instanceof Object&&(t=Object.entries(t)),"{".concat(t.reduce((function(t,n,a){var o=Q()(n,2),i=o[0],c=o[1];return 0!==a&&(t+=","),t+="[".concat(Lu(e[0],i,{bindings:r}),"] = ").concat(Lu(e[1],c,{bindings:r}))}),""),"}")}function Gu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipTransformDecoded,a=void 0!==r&&r,o=(n.addressPrefix,n.bindings);if(a)return e;var i=Hu(t,{bindings:o}),c=i.t,s=i.generic;switch(c){case Mu.bool:return!!e;case Mu.address:return 0===e?0:e;case Mu.hash:case Mu.bytes:case Mu.signature:return e.split("#")[1];case Mu.map:var u=Q()(s,2),p=u[0],f=u[1];return e.reduce((function(t,e){var n=Q()(e,2),r=n[0],a=n[1];return r=Gu(p,r,{bindings:o}),a=Gu(f,a,{bindings:o}),t.push([r,a]),t}),[]);case Mu.option:if("None"===e)return;var l=Object.entries(e),d=Q()(l,1),h=Q()(d[0],2),m=h[0],v=Q()(h[1],1),b=v[0];return"Some"===m?Gu(s,b,{bindings:o}):void 0;case Mu.list:return e.map((function(t){return Gu(s,t,{bindings:o})}));case Mu.tuple:return e.map((function(t,e){return Gu(s[e],t,{bindings:o})}));case Mu.record:var y=s.reduce((function(t,e){return Fu({},t,X()({},e.name,{type:e.type}))}),{});return Object.entries(e).reduce((function(t,e){var n=Q()(e,2),r=n[0],a=n[1];return Fu({},t,X()({},r,Gu(y[r].type,a,{bindings:o})))}),{})}return e}function zu(t){return t.map((function(t){var e=t.path,n=t.type,r=t.context,a=Object.prototype.hasOwnProperty.call(r,"value")?r.value:r.label;switch(a="object"===_a()(a)?JSON.stringify(a).slice(1).slice(0,-1):a,n){case"string.base":return Fu({},t,{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a string")});case"number.base":return Fu({},t,{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a number")});case"boolean.base":return Fu({},t,{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a boolean")});case"array.base":return Fu({},t,{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a array")});case"object.base":return Fu({},t,{message:"Value '".concat(a,"' at path: [").concat(e,"] not a object")});case"object.type":return Fu({},t,{message:"Value '".concat(a,"' at path: [").concat(e,"] not a ").concat(r.type)});case"binary.bufferCheck":return Fu({},t,{message:"Value '".concat(Buffer.from(a).toString("hex"),"' at path: [").concat(e,"] not a ").concat(r.size," bytes")});default:return t}}))}var Yu=Vu.a.extend((function(t){return{name:"binary",base:t.any(),pre:function(t,e,n){if(n.convert&&"string"==typeof t){if(sa(t))return Ln(t);try{return Buffer.from(t,"hex")}catch(t){return}}return Buffer.from(t)},rules:[{name:"bufferCheck",params:{size:t.number().required()},validate:function(t,e,n,r){return Buffer.isBuffer(e)?e.length!==t.size?this.createError("binary.bufferCheck",{value:e,size:t.size},n,r):e:this.createError("binary.base",{value:e},n,r)}}]}}));function $u(t,e){var n=Vu.a.array().ordered(t.arguments.map((function(n,r){return function t(e){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.bindings,i=Hu(e,{bindings:o}),c=i.t,s=i.generic;switch(Object.values(Mu).includes(c)||(c=Mu.address),c){case Mu.int:return Vu.a.number().error(zu);case Mu.variant:return Vu.a.alternatives().try([(n=Vu.a.string()).valid.apply(n,$()(s.reduce((function(t,e){var n=Object.entries(e),r=Q()(n,1),a=Q()(r[0],2),o=a[0],i=a[1];return i&&i.length||t.push(o),t}),[]))),(r=Vu.a.object(s.reduce((function(t,e){var n=Object.keys(e)[0];return Fu({},t,X()({},n,Vu.a.array()))}),{}))).or.apply(r,$()(s.map((function(t){return Object.keys(t)[0]}))))]);case Mu.ChainTtl:case Mu.string:return Vu.a.string().error(zu);case Mu.address:return Vu.a.string().regex(/^(ak_|ct_|ok_|oq_)/).error(zu);case Mu.bool:return Vu.a.boolean().error(zu);case Mu.list:return Vu.a.array().items(t(s,{bindings:o})).error(zu);case Mu.tuple:return Vu.a.array().ordered(s.map((function(e){return t(e,{bindings:o}).required()}))).label("Tuple argument").error(zu);case Mu.record:return Vu.a.object(s.reduce((function(e,n){var r=n.name,a=n.type;return Fu({},e,X()({},r,t(a,{bindings:o})))}),{})).error(zu);case Mu.hash:return Yu.binary().bufferCheck(32).error(zu);case Mu.bytes:return Yu.binary().bufferCheck(s).error(zu);case Mu.signature:return Yu.binary().bufferCheck(64).error(zu);case Mu.option:return t(s,{bindings:o}).optional().error(zu);default:return Vu.a.any()}}(n.type,{bindings:t.bindings}).label("[".concat(e[r],"]"))}))).sparse(!0).label("Argument"),r=Vu.a.validate(e,n,{abortEarly:!1}).error;if(r)throw r}function Ju(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ju(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ju(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zu(t,e){var n=t.functions.find((function(t){return t.name===e}));if(!n&&"init"!==e)throw new Error("Function ".concat(e," doesn't exist in contract"));return Xu({},n,{bindings:{state:t.state,typedef:t.type_defs,contractName:t.name},event:t.event?t.event.variant:[]})}var tp=function(t){return function(){return Xu({},t.aci?t.aci.functions.reduce((function(e,n){var r=n.name,a=n.arguments,o=n.stateful;return Xu({},e,X()({},r,Object.assign((function(){var e=ep(a)(arguments),n=e.opt,i=e.args;return"init"===r?t.deploy(i,n):t.call(r,i,Xu({callStatic:!o},n))}),{get:function(){var e=ep(a)(arguments),n=e.opt,o=e.args;return t.call(r,o,Xu({},n,{callStatic:!0}))},send:function(){var e=ep(a)(arguments),n=e.opt,o=e.args;return"init"===r?t.deploy(o,n):t.call(r,o,Xu({},n,{callStatic:!1}))}})))}),{}):{},{},t.aci?{init:Object.assign((function(){var e=Zu(t.aci,"init"),n=e.arguments,r=ep(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,a)}),{get:function(){var e=Zu(t.aci,"init"),n=e.arguments,r=ep(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,Xu({},a,{callStatic:!0}))},send:function(){var e=Zu(t.aci,"init"),n=e.arguments,r=ep(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,Xu({},a,{callStatic:!1}))}})}:{})}},ep=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(e){return{opt:e.length>t.length?z()(e):{},args:Object.values(e).slice(0,t.length)}}};function np(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?np(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ap(t,e){return op.apply(this,arguments)}function op(){return(op=Zr()(Jr.a.mark((function t(e,n){var r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.arguments){t.next=2;break}return t.abrupt("return",n);case 2:if(!(e.arguments.length>n.length)){t.next=4;break}throw new Error('Function "'.concat(e.name,'" require ').concat(e.arguments.length," arguments of types [").concat(e.arguments.map((function(t){return JSON.stringify(t.type)})),"] but get [").concat(n.map(JSON.stringify),"]"));case 4:return $u(e,n),r=e.bindings,t.abrupt("return",Promise.all(e.arguments.map(function(){var t=Zr()(Jr.a.mark((function t(e,a){var o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.type,t.abrupt("return",Lu(o,n[a],{bindings:r}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ip(){return(ip=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u,p,f,l,d,h=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},r=n.aci,a=n.contractAddress,o=n.filesystem,i=void 0===o?{}:o,c=n.forceCodeCheck,s=void 0===c||c,u=n.opt,t.t0=r,t.t0){t.next=6;break}return t.next=5,this.contractGetACI(e,{filesystem:i});case 5:t.t0=t.sent;case 6:if(r=t.t0,p={skipArgsConvert:!1,skipTransformDecoded:!1,callStatic:!1,deposit:0,gasPrice:1e9,amount:0,gas:Z,top:null,waitMined:!0,verify:!1,filesystem:i},f={interface:_u()(null,Jo()("interface",r)),aci:_u()(null,Bo()(["encoded_aci","contract"],r)),source:e,compiled:null,deployInfo:{address:a},options:vo()(p,u),compilerVersion:this.compilerVersion,setOptions:function(t){this.options=vo()(this.options,t)}},!a){t.next=26;break}if(pr(a,"ct")){t.next=12;break}throw new Error("Invalid contract address");case 12:return t.next=14,this.getContract(a).catch((function(t){return null}));case 14:if((l=t.sent)&&l.active){t.next=17;break}throw new Error("Contract with address ".concat(a," not found on-chain or not active"));case 17:if(s||!nc(this.compilerVersion,"4.1.0",Au)){t.next=26;break}return t.next=20,this.getContractByteCode(a);case 20:return d=t.sent.bytecode,t.next=23,this.validateByteCodeAPI(d,f.source,f.options).catch((function(t){return!1}));case 23:if(t.sent){t.next=26;break}throw new Error("Contract source do not correspond to the contract bytecode deployed on the chain");case 26:return f.compile=pp({client:this,instance:f}),f.deploy=up({client:this,instance:f}),f.call=sp({client:this,instance:f}),f.methods=tp(f)(),t.abrupt("return",f);case 31:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var cp=function(){var t=Zr()(Jr.a.mark((function t(e,n,r){var a;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.event.map((function(t){var e=Object.keys(t)[0];return{name:e,types:t[e]}})),t.t0=Gu,t.t1=n.returns,t.next=5,e.decode();case 5:return t.t2=t.sent,t.t3=rp({},r,{bindings:n.bindings}),t.next=9,(0,t.t0)(t.t1,t.t2,t.t3);case 9:return t.t4=t.sent,t.t5=Ru(e.result.log,rp({},r,{schema:a})),t.abrupt("return",{decodedResult:t.t4,decodedEvents:t.t5});case 12:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),sp=function(t){var e=t.client,n=t.instance;return(function(){var t=Zr()(Jr.a.mark((function t(r){var a,o,i,c,s,u,p=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p.length>1&&void 0!==p[1]?p[1]:[],o=p.length>2&&void 0!==p[2]?p[2]:{},i=vo()(n.options,o),c=Zu(n.aci,r),s=i.source||n.source,r){t.next=7;break}throw new Error("Function name is required");case 7:if(n.deployInfo.address){t.next=9;break}throw new Error("You need to deploy contract before calling!");case 9:if(!Object(x.BigNumber)(i.amount).gt(0)||!Object.prototype.hasOwnProperty.call(c,"payable")||c.payable){t.next=11;break}throw new Error('You try to pay "'.concat(i.amount,'" to function "').concat(r,'" which is not payable. Only payable function can accept tokens'));case 11:if(i.skipArgsConvert){t.next=17;break}return t.next=14,ap(c,a);case 14:t.t0=t.sent,t.next=18;break;case 17:t.t0=a;case 18:if(a=t.t0,!i.callStatic){t.next=25;break}return t.next=22,e.contractCallStatic(s,n.deployInfo.address,r,a,{top:i.top,options:i});case 22:t.t1=t.sent,t.next=28;break;case 25:return t.next=27,e.contractCall(s,n.deployInfo.address,r,a,i);case 27:t.t1=t.sent;case 28:if(u=t.t1,t.t2=rp,t.t3={},t.t4=u,t.t5={},!i.waitMined){t.next=39;break}return t.next=36,cp(u,c,i);case 36:t.t6=t.sent,t.next=40;break;case 39:t.t6={};case 40:return t.t7=t.t6,t.abrupt("return",(0,t.t2)(t.t3,t.t4,t.t5,t.t7));case 42:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},up=function(t){var e=t.client,n=t.instance;return(function(){var t=Zr()(Jr.a.mark((function t(){var r,a,o,i,c,s,u,p,f,l,d,h,m=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>0&&void 0!==m[0]?m[0]:[],a=m.length>1&&void 0!==m[1]?m[1]:{},o=vo()(n.options,a),i=Zu(n.aci,"init"),c=o.source||n.source,n.compiled){t.next=8;break}return t.next=8,n.compile(o);case 8:if(o.skipArgsConvert){t.next=14;break}return t.next=11,ap(i,r);case 11:t.t0=t.sent,t.next=15;break;case 14:t.t0=r;case 15:if(r=t.t0,!o.callStatic){t.next=20;break}return t.abrupt("return",e.contractCallStatic(c,null,"init",r,{top:o.top,options:o,bytecode:n.compiled}));case 20:return t.next=22,e.contractDeploy(n.compiled,o.source||n.source,r,o);case 22:return s=t.sent,u=s.owner,p=s.transaction,f=s.address,l=s.createdAt,d=s.result,h=s.rawTx,n.deployInfo={owner:u,transaction:p,address:f,createdAt:l,result:d,rawTx:h},t.abrupt("return",n.deployInfo);case 31:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}())},pp=function(t){var e=t.client,n=t.instance;return(function(){var t=Zr()(Jr.a.mark((function t(){var r,a,o,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.contractCompile(n.source,rp({},n.options,{},r));case 3:return a=t.sent,o=a.bytecode,n.compiled=o,t.abrupt("return",n.compiled);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}())},fp=Ho.compose({methods:{getContractInstance:function(t){return ip.apply(this,arguments)}}});function lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lp(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hp(t,e){return function(){var n=Zr()(Jr.a.mark((function n(r,a){var o,i;return Jr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send(t,e);case 2:if(o=n.sent,"boolean"!=typeof e.waitMined||e.waitMined){n.next=5;break}return n.abrupt("return",r({hash:o.hash,rawTx:o.rawTx}));case 5:return n.next=7,this.getTxInfo(o.hash);case 7:return i=n.sent,n.abrupt("return","ok"===i.returnType?r({hash:o.hash,rawTx:o.rawTx,result:i,txData:o}):"function"==typeof a?a(i):this.handleCallError(i));case 9:case"end":return n.stop()}}),n,this)})));return function(t,e){return n.apply(this,arguments)}}()}function mp(){return(mp=Zr()(Jr.a.mark((function t(e){var n,r,a;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ua((n=Buffer.from(e.returnValue).toString()).slice(3))){t.next=4;break}throw r=Buffer.from(n.slice(3),"base64").toString(),Object.assign(Error("Invocation failed: ".concat(n,". Decoded: ").concat(r)),vo()(e,{error:n,decodedError:r}));case 4:return t.next=6,this.contractDecodeDataAPI("string",n);case 6:throw a=t.sent,Object.assign(Error("Invocation failed: ".concat(n,". Decoded: ").concat(a)),vo()(e,{error:n,decodedError:a}));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function vp(){return(vp=Zr()(Jr.a.mark((function t(e,n,r,a){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractEncodeCallDataAPI(e,n,r,a));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function bp(){return(bp=Zr()(Jr.a.mark((function t(e,n,r,a,o){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractDecodeCallResultAPI(e,n,r,a,o));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function yp(){return(yp=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i,c,s,u,p,f,l,d,h,m,v,b=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=b.length>3&&void 0!==b[3]?b[3]:[],o=b.length>4&&void 0!==b[4]?b[4]:{},i=o.top,c=o.options,s=void 0===c?{}:c,u=o.bytecode,!(p=vo()(this.Ae.defaults,s)).onAccount){t.next=9;break}return t.next=6,this.address(p);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,this.address().catch((function(t){return p.dryRunAccount.pub}));case 11:t.t0=t.sent;case 12:if(f=t.t0,!Array.isArray(a)){t.next=19;break}return t.next=16,this.contractEncodeCall(e,r,a,p);case 16:t.t1=t.sent,t.next=20;break;case 19:t.t1=a;case 20:if(l=t.t1,!i||isNaN(i)){t.next=25;break}return t.next=24,this.getKeyBlock(i);case 24:i=t.sent.hash;case 25:if(!i){t.next=32;break}return t.next=28,this.getAccount(f,{hash:i});case 28:t.t3=t.sent.nonce,t.t2=t.t3+1,t.next=33;break;case 32:t.t2=void 0;case 33:if(d=t.t2,"init"!==r){t.next=42;break}return t.next=37,this.contractCreateTx(vo()(p,{callData:l,code:u,ownerId:f,nonce:d}));case 37:return h=t.sent,m=h.tx,t.abrupt("return",this.dryRunContractTx(m,f,e,r,dp({},p,{top:i})));case 42:return t.next=44,this.contractCallTx(vo()(p,{callerId:f,contractId:n,callData:l,nonce:d}));case 44:return v=t.sent,t.abrupt("return",this.dryRunContractTx(v,f,e,r,dp({},p,{top:i})));case 46:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function gp(){return(gp=Zr()(Jr.a.mark((function t(e,n,r,a){var o,i,c,s,u,p,f,l,d,h,m,v=this,b=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=b.length>4&&void 0!==b[4]?b[4]:{},i=o.top,c=w()(o.dryRunAccount.amount).gt(w()(o.amount||0))?o.dryRunAccount.amount:o.amount,s={amount:c,pubKey:n},t.t0=Q.a,t.next=7,this.txDryRun([e],[s],i);case 7:if(t.t1=t.sent.results,u=(0,t.t0)(t.t1,1),p=u[0],f=p.result,l=p.callObj,d=p.reason,"ok"===f){t.next=15;break}throw new Error("Dry run error, "+d);case 15:if(h=l.returnType,m=l.returnValue,"ok"===h){t.next=19;break}return t.next=19,this.handleCallError(l);case 19:return t.abrupt("return",{result:l,decode:function(){return v.contractDecodeData(r,a,m,h,o)}});case 20:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function xp(){return(xp=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i,c,s=this,u=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>3&&void 0!==u[3]?u[3]:[],o=u.length>4&&void 0!==u[4]?u[4]:{},i=vo()(this.Ae.defaults,o),t.t0=this,t.t1=vo.a,t.t2=i,t.next=8,this.address(i);case 8:if(t.t3=t.sent,t.t4=n,!Array.isArray(a)){t.next=16;break}return t.next=13,this.contractEncodeCall(e,r,a,i);case 13:t.t5=t.sent,t.next=17;break;case 16:t.t5=a;case 17:return t.t6=t.t5,t.t7={callerId:t.t3,contractId:t.t4,callData:t.t6},t.t8=(0,t.t1)(t.t2,t.t7),t.next=22,t.t0.contractCallTx.call(t.t0,t.t8);case 22:return c=t.sent,t.abrupt("return",hp(c,i).call(this,(function(t){var n=t.hash,a=t.rawTx,o=t.result,c=t.txData;return{hash:n,rawTx:a,result:o,txData:c,decode:function(){return o?s.contractDecodeData(e,r,o.returnValue,o.returnType,i):{}}}})));case 24:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function wp(){return(wp=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u,p,f=this,l=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:[],a=l.length>3&&void 0!==l[3]?l[3]:{},o=vo()(this.Ae.defaults,a),!Array.isArray(r)){t.next=9;break}return t.next=6,this.contractEncodeCall(n,"init",r,o);case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=r;case 10:return i=t.t0,t.next=13,this.address(o);case 13:return c=t.sent,t.next=16,this.contractCreateTx(vo()(o,{callData:i,code:e,ownerId:c}));case 16:return s=t.sent,u=s.tx,p=s.contractId,t.abrupt("return",hp(u,o).call(this,(function(t){var e,r,a=t.hash,i=t.rawTx,s=t.result,u=t.txData;return Object.freeze({result:s,owner:c,transaction:a,rawTx:i,txData:u,address:p,call:(r=Zr()(Jr.a.mark((function t(e){var r,a,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2&&void 0!==i[2]?i[2]:{},t.abrupt("return",f.contractCall(n,p,e,r,vo()(o,a)));case 3:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)}),callStatic:(e=Zr()(Jr.a.mark((function t(e){var r,a,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2&&void 0!==i[2]?i[2]:{},t.abrupt("return",f.contractCallStatic(n,p,e,r,dp({},a,{options:dp({onAccount:o.onAccount},vo()(o,a.options))})));case 3:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)}),createdAt:new Date})})));case 20:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function kp(){return(kp=Zr()(Jr.a.mark((function t(e){var n,r,a,o=this,i=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=vo()(this.Ae.defaults,n),t.next=4,this.compileContractAPI(e,n);case 4:return a=t.sent,t.abrupt("return",Object.freeze(Object.assign({encodeCall:function(){var t=Zr()(Jr.a.mark((function t(a,i){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.contractEncodeCall(e,a,i,vo()(r,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),deploy:function(){var t=Zr()(Jr.a.mark((function t(n){var i,c=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:{},t.abrupt("return",o.contractDeploy(a,e,n,vo()(r,i)));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deployStatic:function(){var t=Zr()(Jr.a.mark((function t(n){var i,c=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:{},t.abrupt("return",o.contractCallStatic(e,null,"init",n,{bytecode:a,top:i.top,options:vo()(r,i)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{bytecode:a})));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Op(){return(Op=Zr()(Jr.a.mark((function t(){var e,n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:[],n=r.length>1&&void 0!==r[1]?r[1]:{},t.t0=this,t.t1=Buffer,t.t2=Buffer.from(this.getNetworkId()),t.t3=Ln,t.next=8,this.address(n);case 8:return t.t4=t.sent,t.t5=(0,t.t3)(t.t4),t.t6=$()(e.map((function(t){return Ln(t)}))),t.t7=[t.t2,t.t5].concat(t.t6),t.t8=t.t1.concat.call(t.t1,t.t7),t.t9=n,t.t10=function(t){return Buffer.from(t).toString("hex")},t.abrupt("return",t.t0.sign.call(t.t0,t.t8,t.t9).then(t.t10));case 16:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function jp(){return(jp=Zr()(Jr.a.mark((function t(e){var n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Cp(){return(Cp=Zr()(Jr.a.mark((function t(e,n){var r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([Un(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ip(){return(Ip=Zr()(Jr.a.mark((function t(e,n){var r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([Un(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Tp(){return(Tp=Zr()(Jr.a.mark((function t(e,n){var r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([Un(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Pp(){return(Pp=Zr()(Jr.a.mark((function t(e){var n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ap(){return(Ap=Zr()(Jr.a.mark((function t(e){var n,r=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ep(){return(Ep=Zr()(Jr.a.mark((function t(e,n){var r,a=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([e,n],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Sp=Oc.compose(du,fp,{methods:{contractCompile:function(t){return kp.apply(this,arguments)},contractCallStatic:function(t,e,n){return yp.apply(this,arguments)},contractDeploy:function(t,e){return wp.apply(this,arguments)},contractCall:function(t,e,n){return xp.apply(this,arguments)},contractEncodeCall:function(t,e,n,r){return vp.apply(this,arguments)},contractDecodeData:function(t,e,n,r,a){return bp.apply(this,arguments)},dryRunContractTx:function(t,e,n,r){return gp.apply(this,arguments)},handleCallError:function(t){return mp.apply(this,arguments)},delegateSignatureCommon:function(){return Op.apply(this,arguments)},delegateNamePreclaimSignature:function(t){return jp.apply(this,arguments)},delegateNameClaimSignature:function(t,e){return Cp.apply(this,arguments)},delegateNameTransferSignature:function(t,e){return Ip.apply(this,arguments)},delegateNameRevokeSignature:function(t,e){return Tp.apply(this,arguments)},delegateOracleRegisterSignature:function(t){return Pp.apply(this,arguments)},delegateOracleExtendSignature:function(t){return Ap.apply(this,arguments)},delegateOracleRespondSignature:function(t,e){return Ep.apply(this,arguments)}},deepProps:{Ae:{defaults:{deposit:0,gasPrice:1e9,amount:0,gas:Z,options:"",dryRunAccount:{pub:"ak_11111111111111111111111111111111273Yts",amount:"100000000000000000000000000000000000"}}}}}),_p=Sp.compose(_c).compose(Eu),Bp=_p,Np=function(t){return function(){var e=Zr()(Jr.a.mark((function e(n,r){var a;return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===_a()(n)){e.next=2;break}throw new Error("AuthData must be an object");case 2:if(!n.gas||!w()(n.gas).gt(5e4)){e.next=4;break}throw new Error("the maximum gas value for ga authFun is ".concat(5e4,", got ").concat(n.gas));case 4:if(a=n.gas||5e4,!n.callData){e.next=11;break}if("cb"===n.callData.split("_")[0]){e.next=8;break}throw new Error('Auth data must be a string with "cb" prefix.');case 8:return e.abrupt("return",{authCallData:n.callData,gas:a});case 11:if(n.source&&n.args){e.next=13;break}throw new Error("Auth data must contain source code and arguments.");case 13:return e.next=15,t.contractEncodeCall(n.source,r,n.args);case 15:return e.t0=e.sent,e.t1=a,e.abrupt("return",{authCallData:e.t0,gas:e.t1});case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Dp=function(t){return function(){var e=Zr()(Jr.a.mark((function e(n,r){var a,o;return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contractCompile(n);case 2:return a=e.sent,o=a.bytecode,e.abrupt("return",{bytecode:o,authFun:dr(r)});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Vp=function(t){return Ja({encodedTx:t,signatures:[]},it)};function qp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qp(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Mp=Sp.compose({methods:{createGeneralizeAccount:function(t,e,n){return Kp.apply(this,arguments)},createMetaTx:function(t,e,n){return Up.apply(this,arguments)},isGA:function(t){return Rp.apply(this,arguments)}}});function Rp(){return(Rp=Zr()(Jr.a.mark((function t(e){var n,r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAccount(e);case 2:return n=t.sent,r=n.contractId,t.abrupt("return",!!r);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Kp(){return(Kp=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i,c,s,u,p,f,l,d,h,m,v,b=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b.length>3&&void 0!==b[3]?b[3]:{},o=vo()(this.Ae.defaults,a),t.next=4,this.address(o);case 4:return i=t.sent,t.next=7,this.isGA(i);case 7:if(!t.sent){t.next=9;break}throw new Error("Account ".concat(i," is already GA"));case 9:return t.next=11,Dp(this)(n,e);case 11:return c=t.sent,s=c.authFun,u=c.bytecode,t.next=16,this.contractEncodeCall(n,"init",r);case 16:return p=t.sent,t.next=19,this.gaAttachTx(vo()(o,{ownerId:i,code:u,callData:p,authFun:s}));case 19:return f=t.sent,l=f.tx,d=f.contractId,t.next=24,this.send(l,o);case 24:return h=t.sent,m=h.hash,v=h.rawTx,t.abrupt("return",Object.freeze({owner:i,transaction:m,rawTx:v,gaContractId:d}));case 28:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Up(){return(Up=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i,c,s,u,p,f,l,d,h,m,v,b,y,g,x,w,k=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=k.length>3&&void 0!==k[3]?k[3]:{},n){t.next=3;break}throw new Error("authData is required");case 3:return t.next=5,Np(this)(n,r);case 5:return o=t.sent,i=o.authCallData,c=o.gas,s=vo()(this.Ae.defaults,a),u=yr(Rr(e,"tx")),p=Vp(u),f=p.rlpEncoded,t.next=13,this.getVmVersion(mt);case 13:return l=t.sent,d=l.abiVersion,t.t0=Fp,t.t1={},t.t2=s,t.t3=f,t.next=21,this.address(s);case 21:return t.t4=t.sent,t.t5=d,t.t6=i,t.t7=c,t.t8={tx:t.t3,gaId:t.t4,abiVersion:t.t5,authData:t.t6,gas:t.t7},h=(0,t.t0)(t.t1,t.t2,t.t8),t.next=29,this.prepareTxParams(zt,h);case 29:return m=t.sent,v=m.fee,b=m.ttl,y=Ja(Fp({},h,{fee:"".concat(v),ttl:b}),zt),g=y.rlpEncoded,x=Vp(g),w=x.tx,t.abrupt("return",w);case 35:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Hp,Lp,Wp,Qp=yo()(Ho,{init:function(t,e){var n=this,r=t.parent,a=void 0===r?window.parent:r,o=t.self,i=void 0===o?window:o;e.stamp;return Zr()(Jr.a.mark((function t(){var e,r,o,c;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=function(t){var e=t.data;if("object"===_a()(e)&&"webpackOk"!==e.type){var n=e.result,a=n.resolve,o=n.reject,i=e.id;r[i]&&(void 0!==a?r[i].resolve(a):o&&r[i].reject(o),delete r[i])}},a!==i){t.next=3;break}throw new Error("rpc client: Can't send messages to itself");case 3:return e=0,r={},n.post=function(t,o){var i=new Promise((function(t,n){r[e]={resolve:t,reject:n}}));return a.postMessage({jsonrpc:"2.0",id:e,method:t,params:o,session:n.session},"*"),e++,i},c=o,i.addEventListener("message",c,!1),n.destroyClient=function(){return i.removeEventListener("message",c,!1)},t.next=11,n.post("hello");case 11:n.session=t.sent;case 12:case"end":return t.stop()}}),t)})))()},props:{handler:null},methods:{},composers:function(t){var e=t.stamp,n=(t.composables,[].concat($()(Bo()(["compose","deepConfiguration","Ae","methods"],e)||[]),$()(Bo()(["compose","deepConfiguration","Contract","methods"],e)||[]))),r=ui()(n.map((function(t){return[t,(e=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.post(e,n)})];var e})));e.compose.methods&&["signTransaction","getNetworkId"].forEach((function(t){return delete e.compose.methods[t]})),e.compose.methods=Object.assign(r,e.compose.methods)}}),Gp=function(t){return Go()(t,t)},zp=(Gp(["to_waellet","to_aepp"]),Gp(["window","extension"])),Yp=Gp(["readyToConnect","closeConnection","updateNetwork","updateAddress"]),$p=Gp(["connect","subscribeAddress","sign","address","signMessage"]),Jp=Gp(["current","connected"]),Xp=Gp(["subscribe","unsubscribe"]),Zp=(Wp={wallet:(Hp={},X()(Hp,Yp.readyToConnect,"connection.announcePresence"),X()(Hp,Yp.updateAddress,"address.update"),Hp),aepp:(Lp={},X()(Lp,$p.address,"address.get"),X()(Lp,$p.connect,"connection.open"),X()(Lp,$p.sign,"transaction.sign"),X()(Lp,$p.signMessage,"message.sign"),X()(Lp,$p.subscribeAddress,"address.subscribe"),Lp)},X()(Wp,Yp.updateNetwork,"networkId.update"),X()(Wp,Yp.closeConnection,"connection.close"),Wp),tf="CONNECTED",ef="DISCONNECTED",nf="CONNECTION_REJECTED",rf="WAITING_FOR_CONNECTION_APPROVE",af="WAITING_FOR_CONNECTION_REQUEST",of=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:3,data:t,message:"Broadcast failed"}},cf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:2,data:t,message:"Invalid transaction"}},sf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:4,data:t,message:"Operation rejected by user"}},uf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:9,data:t,message:"Wallet deny your connection request"}},pf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:10,data:t,message:"You are not connected to the wallet"}},ff=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:5,data:t,message:"Unsupported Protocol Version"}},lf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:8,data:t,message:"Unsupported Network"}};function df(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?df(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var mf=function(t,e){var n=t[e.method];return n&&"function"==typeof n?n:(console.log("Unknown message method ".concat(e.method)),function(){return function(){return!0}})},vf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{method:t,params:e}},bf=function(t){return function(e,n,r){return t.sendMessage(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.error,a=n.result;return hf({id:t,method:e},r?{error:r}:{result:a})}(e,n,r),!0)}},yf=function(){};function gf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gf(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wf,kf,Of=yo()({init:function(){this.clients=new Map},methods:{hasClient:function(t){return this.clients.has(t)},addClient:function(t,e){this.hasClient(t)&&console.warn("Wallet RpcClient with id ".concat(t," already exist")),this.clients.set(t,jf(xf({id:t},e)))},getClient:function(t){return this.clients.get(t)},removeClient:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.forceConnectionClose,r=void 0!==n&&n;if(!this.hasClient(t))throw new Error("Wallet RpcClient with id ".concat(t," do not exist"));return this.clients.get(t).disconnect(r),this.clients.delete(t),!0},updateClientInfo:function(t,e){var n=this.getClient(t);n.info=xf({},n.info,{},e),this.clients.set(t,n)},sentNotificationByCondition:function(t,e){if("function"!=typeof e)throw new Error("Condition argument must be a function which return boolean");Array.from(this.clients.values()).filter(e).forEach((function(e){return e.sendMessage(t,!0)}))}}}),jf=yo()({init:function(t){var e=this,n=t.id,r=t.name,a=t.networkId,o=t.icons,i=t.connection,c=Q()(t.handlers,2),s=c[0],u=c[1];this.id=n,this.connection=i,this.info={name:r,networkId:a,icons:o},this.callbacks={},this.actions={},this.addressSubscription=[],this.accounts={},this.sendMessage=function(t){var e=0;return function(n){var r=n.id,a=n.method,o=n.params,i=n.result,c=n.error,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s||(e+=1),r=s?r||null:e;var u=o?{params:o}:i?{result:i}:{error:c};return t.sendMessage(hf({jsonrpc:"2.0"},r?{id:r}:{},{method:a},u)),r}}(this.connection);var p;i.connect((p=s,function(t,e){t&&t.jsonrpc&&"2.0"===t.jsonrpc&&t.method?p(t,e):console.warn("Receive invalid message",t)}),(function(t,n){e.disconnect(!0),"function"==typeof u&&u(n,e)}))},methods:{isConnected:function(){return this.info.status===tf},getCurrentAccount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onAccount;if(!this.accounts.current||!Object.keys(this.accounts.current).length)throw new Error("You do not subscribed for account.");if(e&&(!this.accounts.connected||!Object.keys(this.accounts.connected).length||!Object.keys(this.accounts.connected).includes(e)))throw new Error("You do not subscribed for connected account's or account ".concat(e," is not connected to the wallet."));return e||Object.keys(this.accounts.current)[0]},disconnect:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.info.status=ef,this.addressSubscription=[],this.accounts={},t||this.connection.disconnect()},updateSubscription:function(t,e){return t!==Xp.subscribe||this.addressSubscription.includes(e)||this.addressSubscription.push(e),t===Xp.unsubscribe&&this.addressSubscription.includes(e)&&(this.addressSubscription=this.addressSubscription.filter((function(t){return t!==e}))),this.addressSubscription},addAction:function(t,e){var n,r=Q()(e,2),a=r[0],o=r[1],i=(n=this.actions,function(t){return delete n[t]});if(Object.prototype.hasOwnProperty.call(this.callbacks,t.id))throw new Error("Action for this request already exist");return this.actions[t.id]=xf({},t,{accept:function(){i(t.id),a.apply(void 0,arguments)},deny:function(){i(t.id),o.apply(void 0,arguments)}}),this.actions[t.id]},addCallback:function(t){var e=this;if(Object.prototype.hasOwnProperty.call(this.callbacks,t))throw new Error("Callback Already exist");return new Promise((function(n,r){e.callbacks[t]={resolve:n,reject:r}}))},processResponse:function(t,e){var n=t.id,r=t.error,a=t.result;a?this.resolveCallback(n,"function"==typeof e?e({id:n,result:a}):[a]):r&&this.rejectCallback(n,[r])},resolveCallback:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this.callbacks[t])throw new Error("Can't find callback for this messageId ".concat(t));(e=this.callbacks[t]).resolve.apply(e,$()(n)),delete this.callbacks[t]},rejectCallback:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this.callbacks[t])throw new Error("Can't find callback for this messageId ".concat(t));(e=this.callbacks[t]).reject.apply(e,$()(n)),delete this.callbacks[t]}}});function Cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cf(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Tf=(wf={},X()(wf,Zp.wallet.updateAddress,(function(t){return function(e){var n=e.params;t.rpcClient.accounts=n,t.onAddressChange(n)}})),X()(wf,Zp.updateNetwork,(function(t){return function(e){t.rpcClient.info.networkId=e.params.networkId,t.onNetworkChange(e.params)}})),X()(wf,Zp.closeConnection,(function(t){return function(e){t.disconnectWallet(),t.onDisconnect(e.params)}})),wf),Pf=(kf={},X()(kf,Zp.aepp.address,(function(t){return function(e){return t.rpcClient.processResponse(e)}})),X()(kf,Zp.aepp.connect,(function(t){return function(e){e.result&&(t.rpcClient.info.status=tf),t.rpcClient.processResponse(e)}})),X()(kf,Zp.aepp.subscribeAddress,(function(t){return function(e){e.result&&Object.prototype.hasOwnProperty.call(e.result,"address")&&(t.rpcClient.accounts=e.result.address),t.rpcClient.processResponse(e,(function(t){t.id;return[t.result]}))}})),X()(kf,Zp.aepp.sign,(function(t){return function(e){t.rpcClient.processResponse(e,(function(t){t.id;var e=t.result;return[e.signedTransaction||e.transactionHash]}))}})),X()(kf,Zp.aepp.signMessage,(function(t){return function(e){t.rpcClient.processResponse(e,(function(t){t.id;return[t.result.signature]}))}})),kf),Af={},Ef=function(t){return function(){var e=Zr()(Jr.a.mark((function e(n){return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=4;break}return e.abrupt("return",mf(Tf,n)(t)(n));case 4:if(!Object.prototype.hasOwnProperty.call(t.rpcClient.callbacks,n.id)){e.next=8;break}return e.abrupt("return",mf(Pf,n)(t)(n));case 8:return e.abrupt("return",mf(Af,n)(t)(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Sf=Oc.compose({init:function(t){var e=this,n=t.name,r=t.onAddressChange,a=void 0===r?yf:r,o=t.onDisconnect,i=void 0===o?yf:o,c=t.onNetworkChange,s=void 0===c?yf:c,u=t.connection;return Zr()(Jr.a.mark((function t(){var r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=["onDisconnect","onAddressChange","onNetworkChange"],e.connection=u,e.name=n,!u){t.next=6;break}return t.next=6,e.connectToWallet(u);case 6:e.onDisconnect=i,e.onAddressChange=a,e.onNetworkChange=s,r.forEach((function(t){if("function"!=typeof e[t])throw new Error("Call-back for ".concat(t," must be an function!"))}));case 10:case"end":return t.stop()}}),t)})))()},deepProps:{Ae:{defaults:{walletBroadcast:!0}}},methods:{sign:function(){},connectToWallet:function(t){var e=this;return Zr()(Jr.a.mark((function n(){return Jr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.rpcClient||!e.rpcClient.isConnected()){n.next=2;break}throw new Error("You are already connected to wallet "+e.rpcClient);case 2:return e.rpcClient=jf(If({connection:t,networkId:e.getNetworkId()},t.connectionInfo,{id:Object(ta.v4)(),handlers:[Ef(e),e.onDisconnect]})),n.abrupt("return",e.sendConnectRequest());case 4:case"end":return n.stop()}}),n)})))()},disconnectWallet:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Zr()(Jr.a.mark((function n(){return Jr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.rpcClient&&t.rpcClient.connection.isConnected()&&t.rpcClient.isConnected()){n.next=2;break}throw new Error("You are not connected to Wallet");case 2:e&&t.rpcClient.sendMessage(vf(Zp.closeConnection,{reason:"bye"}),!0),t.rpcClient.disconnect(),t.rpcClient=null;case 5:case"end":return n.stop()}}),n)})))()},address:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onAccount;return Zr()(Jr.a.mark((function e(){return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.rpcClient&&t.rpcClient.connection.isConnected()&&t.rpcClient.isConnected()){e.next=2;break}throw new Error("You are not connected to Wallet");case 2:if(t.rpcClient.getCurrentAccount()){e.next=4;break}throw new Error("You do not subscribed for account.");case 4:return e.abrupt("return",t.rpcClient.getCurrentAccount({onAccount:n}));case 5:case"end":return e.stop()}}),e)})))()},askAddresses:function(){var t=this;return Zr()(Jr.a.mark((function e(){return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.rpcClient&&t.rpcClient.connection.isConnected()&&t.rpcClient.isConnected()){e.next=2;break}throw new Error("You are not connected to Wallet");case 2:if(t.rpcClient.getCurrentAccount()){e.next=4;break}throw new Error("You do not subscribed for account.");case 4:return e.abrupt("return",t.rpcClient.addCallback(t.rpcClient.sendMessage(vf(Zp.aepp.address))));case 5:case"end":return e.stop()}}),e)})))()},subscribeAddress:function(t,e){var n=this;return Zr()(Jr.a.mark((function r(){return Jr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.rpcClient&&n.rpcClient.connection.isConnected()&&n.rpcClient.isConnected()){r.next=2;break}throw new Error("You are not connected to Wallet");case 2:return r.abrupt("return",n.rpcClient.addCallback(n.rpcClient.sendMessage(vf(Zp.aepp.subscribeAddress,{type:t,value:e}))));case 3:case"end":return r.stop()}}),r)})))()},signTransaction:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zr()(Jr.a.mark((function r(){return Jr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.rpcClient&&e.rpcClient.connection.isConnected()&&e.rpcClient.isConnected()){r.next=2;break}throw new Error("You are not connected to Wallet");case 2:if(e.rpcClient.getCurrentAccount()){r.next=4;break}throw new Error("You do not subscribed for account.");case 4:return r.abrupt("return",e.rpcClient.addCallback(e.rpcClient.sendMessage(vf(Zp.aepp.sign,If({},n,{tx:t,returnSigned:!0})))));case 5:case"end":return r.stop()}}),r)})))()},signMessage:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zr()(Jr.a.mark((function r(){return Jr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.rpcClient&&e.rpcClient.connection.isConnected()&&e.rpcClient.isConnected()){r.next=2;break}throw new Error("You are not connected to Wallet");case 2:if(e.rpcClient.getCurrentAccount()){r.next=4;break}throw new Error("You do not subscribed for account.");case 4:return r.abrupt("return",e.rpcClient.addCallback(e.rpcClient.sendMessage(vf(Zp.aepp.signMessage,If({},n,{message:t})))));case 5:case"end":return r.stop()}}),r)})))()},sendConnectRequest:function(){var t=this;return Zr()(Jr.a.mark((function e(){return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpcClient.addCallback(t.rpcClient.sendMessage(vf(Zp.aepp.connect,{name:t.name,version:1,networkId:t.getNetworkId()}))));case 1:case"end":return e.stop()}}),e)})))()},send:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zr()(Jr.a.mark((function r(){var a,o;return Jr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.rpcClient&&e.rpcClient.connection.isConnected()&&e.rpcClient.isConnected()){r.next=2;break}throw new Error("You are not connected to Wallet");case 2:if(e.rpcClient.getCurrentAccount()){r.next=4;break}throw new Error("You do not subscribed for account.");case 4:if((a=vo()(e.Ae.defaults,n)).walletBroadcast){r.next=10;break}return r.next=8,e.signTransaction(t,{onAccount:a.onAccount});case 8:return o=r.sent,r.abrupt("return",e.sendTransaction(o,a));case 10:return r.abrupt("return",e.rpcClient.addCallback(e.rpcClient.sendMessage(vf(Zp.aepp.sign,{onAccount:a.onAccount,tx:t,returnSigned:!1}))));case 11:case"end":return r.stop()}}),r)})))()}}});function _f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_f(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nf(){return(Nf=Zr()(Jr.a.mark((function t(e){var n,r,a,o=this;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracle(e);case 2:return n=t.sent,t.next=5,this.getOracleQueries(e);case 5:return r=t.sent,a=r.oracleQueries,t.abrupt("return",Bf({},n,{queries:a,pollQueries:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.interval;return o.pollForQueries(e,t,{interval:r})},postQuery:function(t,n){return o.postQueryToOracle(e,t,n)},respondToQuery:function(t,n,r){return o.respondToQuery(e,t,n,r)},extendOracle:function(t,n){return o.extendOracleTtl(e,t,n)},getQuery:function(){var t=Zr()(Jr.a.mark((function t(n){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Vf.bind(o)(e,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Df(){return(Df=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u,p,f=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){return(u=Zr()(Jr.a.mark((function t(){var r,a,o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracleQueries(e);case 2:r=t.sent,a=r.oracleQueries,(o=a.filter((function(t){var e=t.id;return!c.includes(e)}))).length&&(c=[].concat($()(c),$()(o.map((function(t){return t.id})))),n(o));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)},s=function(){return u.apply(this,arguments)},r=f.length>2&&void 0!==f[2]?f[2]:{},a=r.interval,o=void 0===a?5e3:a,t.next=5,this.getOracleQueries(e);case 5:if(t.t0=t.sent.oracleQueries,t.t0){t.next=8;break}t.t0=[];case 8:return i=t.t0,c=i.map((function(t){return t.id})),t.next=12,n(i);case 12:return p=setInterval(s.bind(this),o),t.abrupt("return",(function(){return clearInterval(p)}));case 14:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vf(t,e){return qf.apply(this,arguments)}function qf(){return(qf=Zr()(Jr.a.mark((function t(e,n){var r,a=this;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracleQuery(e,n);case 2:return r=t.sent,t.abrupt("return",Bf({},r,{decodedQuery:yr(r.query.slice(3)).toString(),decodedResponse:yr(r.response.slice(3)).toString(),respond:function(t,r){return a.respondToQuery(e,n,t,r)},pollForResponse:function(t){var r=t.attempts,o=t.interval;return a.pollForQueryResponse(e,n,{attempts:r,interval:o})},decode:function(t){return yr(t.slice(3))}}));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ff(){return(Ff=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u,p,f,l,d=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(){return(l=Zr()(Jr.a.mark((function t(r){var a;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracleQuery(e,n);case 2:if((a=t.sent).response===s){t.next=5;break}return t.abrupt("return",{response:a.response,decode:function(){return yr(a.response.slice(3))}});case 5:if(!(r>0)){t.next=9;break}return t.next=8,u(c);case 8:return t.abrupt("return",f.bind(this)(r-1));case 9:throw Error("Giving up after ".concat(o*c,"ms"));case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)},f=function(t){return l.apply(this,arguments)},p=function(){return(p=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)},u=function(t){return p.apply(this,arguments)},r=d.length>2&&void 0!==d[2]?d[2]:{},a=r.attempts,o=void 0===a?20:a,i=r.interval,c=void 0===i?5e3:i,s="or_Xfbg4g==",t.abrupt("return",f.bind(this)(o));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Mf(){return(Mf=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=vo()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oracleRegisterTx(vo()(a,{accountId:o,queryFormat:e,responseFormat:n}));case 7:return i=t.sent,t.t0=Bf,t.t1={},t.next=12,this.send(i,a);case 12:return t.t2=t.sent,t.t3={},t.next=16,this.getOracleObject("ok_".concat(o.slice(3)));case 16:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4));case 18:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Rf(){return(Rf=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},a=vo()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oraclePostQueryTx(vo()(a,{oracleId:e,senderId:o,query:n}));case 7:return i=t.sent,c=i.tx,s=i.queryId,t.t0=Bf,t.t1={},t.next=14,this.send(c,a);case 14:return t.t2=t.sent,t.t3={},t.next=18,this.getOracleObject(e);case 18:return t.t4=s,t.next=21,t.sent.getQuery(t.t4);case 21:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t5));case 23:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Kf(){return(Kf=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=vo()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oracleExtendTx(vo()(a,{oracleId:e,callerId:o,oracleTtl:n}));case 7:return i=t.sent,t.t0=Bf,t.t1={},t.next=12,this.send(i,a);case 12:return t.t2=t.sent,t.t3={},t.next=16,this.getOracleObject(e);case 16:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4));case 18:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Uf(){return(Uf=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i,c,s=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:{},o=vo()(this.Ae.defaults,a),t.next=4,this.address(o);case 4:return i=t.sent,t.next=7,this.oracleRespondTx(vo()(o,{oracleId:e,queryId:n,callerId:i,response:r}));case 7:return c=t.sent,t.t0=Bf,t.t1={},t.next=12,this.send(c,o);case 12:return t.t2=t.sent,t.t3={},t.next=16,this.getOracleObject(e);case 16:return t.t4=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4));case 18:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Hf=Oc.compose({methods:{registerOracle:function(t,e){return Mf.apply(this,arguments)},respondToQuery:function(t,e,n){return Uf.apply(this,arguments)},extendOracleTtl:function(t,e){return Kf.apply(this,arguments)},postQueryToOracle:function(t,e){return Rf.apply(this,arguments)},pollForQueryResponse:function(t,e){return Ff.apply(this,arguments)},pollForQueries:function(t,e){return Df.apply(this,arguments)},getOracleObject:function(t){return Nf.apply(this,arguments)},getQueryObject:Vf},deepProps:{Ae:{defaults:{queryFee:3e4,oracleTtl:{type:"delta",value:500},queryTtl:{type:"delta",value:10},responseTtl:{type:"delta",value:10}}}}}),Lf=Oc.compose(Sp,iu,Hf,Mp,Qp),Wf=Oc.compose(Fs,Hf,_p,iu,hs,Sf),Qf=n(97),Gf=n.n(Qf),zf=n(52),Yf=n.n(zf),$f=n(96),Jf=n.n($f);function Xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xf(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tl(){return(tl=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i,c,s,u;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=function(){return Promise.reject(Error("Error: No such method ".concat(i)))},n=e.data,r=e.origin,a=e.source,"object"===_a()(n)&&"2.0"===n.jsonrpc){t.next=4;break}return t.abrupt("return");case 4:o=n.id,i=n.method,c=n.params,s=n.session,Jf()((this.rpcMethods[i]||u).bind(this),{params:c,session:this.rpcSessions[s],origin:r}).then((function(t){var e="object"===_a()(t)&&"[object Object]"===Object.prototype.toString.call(t)?Object.entries(t).filter((function(t){var e=Q()(t,2);e[0];return"function"!=typeof e[1]})).reduce((function(t,e){var n=Q()(e,2),r=n[0],a=n[1];return Zf({},t,X()({},r,a))}),{}):t;a.postMessage({jsonrpc:"2.0",id:o,result:{resolve:e}},"*")})).catch((function(t){a.postMessage({jsonrpc:"2.0",id:o,result:{reject:t.message}},"*")}));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var el,nl=yo()({init:function(t){var e=t.self,n=void 0===e?window:e,r=this.receive.bind(this);n.addEventListener("message",r,!1),this.destroyServer=function(){return n.removeEventListener("message",r,!1)}},methods:{receive:function(t){return tl.apply(this,arguments)},createSession:function(){var t=Object(ta.v4)();return this.rpcSessions[t]={id:t},t}},props:{rpcSessions:{}},deepProps:{rpcMethods:{hello:function(){return Promise.resolve(this.createSession())}}}});function rl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function al(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rl(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ol=Of(),il=X()({},Zp.closeConnection,(function(t,e){var n=e.client;return function(e){n.disconnect(!0),t.onDisconnect(e.params,n)}})),cl={},sl=(el={},X()(el,Zp.aepp.connect,(function(t,e){var n=e.client;return function(e,r){var a=e.id,o=e.method,i=e.params,c=i.name,s=i.networkId,u=i.version,p=i.icons;if(1!==u)return bf(n)(a,o,{error:ff()});if(s!==t.getNetworkId())return bf(n)(a,o,{error:lf()});ol.updateClientInfo(n.id,{status:rf,name:c,networkId:s,icons:p,version:u}),t.onConnection(n,n.addAction({id:a,method:o,params:{name:c,networkId:s,version:u}},[function(e){return function(){ol.updateClientInfo(n.id,{status:tf}),bf(n)(e,o,{result:t.getWalletInfo()})}}(a),function(t){return function(e){ol.updateClientInfo(n.id,{status:nf}),bf(n)(t,Zp.aepp.connect,{error:uf(e)})}}(a)]),r)}})),X()(el,Zp.aepp.subscribeAddress,(function(t,e){var n=e.client;return function(e,r){var a=e.id,o=e.method,i=e.params,c=i.type,s=i.value;if(!n.isConnected())return bf(n)(a,o,{error:pf()});t.onSubscription(n,n.addAction({id:a,method:o,params:{type:c,value:s}},[function(e){return function(){return bf(n)(e,o,{result:{subscription:n.updateSubscription(c,s),address:t.getAccounts()}})}}(a),function(t){return function(e){return bf(n)(t,o,{error:sf(e)})}}(a)]),r)}})),X()(el,Zp.aepp.address,(function(t,e){var n=e.client;return function(e,r){var a=e.id,o=e.method;if(!n.isConnected())return bf(n)(a,o,{error:pf()});t.onAskAccounts(n,n.addAction({id:a,method:o},[function(e){return function(){return bf(n)(e,o,{result:t.addresses()})}}(a),function(t){return function(e){return bf(n)(t,o,{error:sf(e)})}}(a)]),r)}})),X()(el,Zp.aepp.sign,(function(t,e){var n=e.client;return(function(){var e=Zr()(Jr.a.mark((function e(r,a){var o,i,c,s,u,p,f,l,d;return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.id,i=r.method,c=r.params,s=c.tx,u=c.onAccount,p=c.returnSigned,f=void 0!==p&&p,n.isConnected()){e.next=3;break}return e.abrupt("return",bf(n)(o,i,{error:pf()}));case 3:if(n.info.networkId===t.getNetworkId()){e.next=5;break}return e.abrupt("return",bf(n)(o,i,{error:lf()}));case 5:l=function(e){return function(){var r=Zr()(Jr.a.mark((function r(a){var o,c;return Jr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,r.t0=al,r.t1={},!f){r.next=10;break}return r.next=6,t.signTransaction(a||s,{onAccount:u});case 6:r.t3=r.sent,r.t2={signedTransaction:r.t3},r.next=14;break;case 10:return r.next=12,t.send(a||s,{onAccount:u,verify:!1});case 12:r.t4=r.sent,r.t2={transactionHash:r.t4};case 14:r.t5=r.t2,r.t6=(0,r.t0)(r.t1,r.t5),o={result:r.t6},bf(n)(e,i,o),r.next=30;break;case 20:if(r.prev=20,r.t7=r.catch(0),f){r.next=29;break}return r.next=25,t.unpackAndVerify(a||s);case 25:if(!(c=r.sent).validation.length){r.next=28;break}return r.abrupt("return",bf(n)(e,i,{error:cf(c)}));case 28:bf(n)(e,i,{error:of(r.t7.message)});case 29:throw r.t7;case 30:case"end":return r.stop()}}),r,null,[[0,20]])})));return function(t){return r.apply(this,arguments)}}()},d=function(t){return function(e){return bf(n)(t,i,{error:sf(e)})}},t.onSign(n,n.addAction({id:o,method:i,params:{tx:s,returnSigned:f,onAccount:u}},[l(o),d(o)]),a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),X()(el,Zp.aepp.signMessage,(function(t,e){var n=e.client;return(function(){var e=Zr()(Jr.a.mark((function e(r,a){var o,i,c,s,u,p,f;return Jr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.id,i=r.method,c=r.params,s=c.message,u=c.onAccount,n.isConnected()){e.next=3;break}return e.abrupt("return",bf(n)(o,i,{error:pf()}));case 3:p=function(e){return Zr()(Jr.a.mark((function r(){return Jr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=bf(n),r.t1=e,r.t2=i,r.next=5,t.signMessage(s,{onAccount:u,returnHex:!0});case 5:return r.t3=r.sent,r.t4={signature:r.t3},r.t5={result:r.t4},r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t5));case 9:case"end":return r.stop()}}),r)})))},f=function(t){return function(e){return bf(n)(t,i,{error:sf(e)})}},t.onMessageSign(n,n.addAction({id:o,method:i,params:{message:s,onAccount:u}},[p(o),f(o)]),a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),el),ul=function(t,e){return function(){var n=Zr()(Jr.a.mark((function n(r,a){var o;return Jr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=ol.getClient(e),r.id){n.next=3;break}return n.abrupt("return",mf(il,r)(t,{client:o})(r,a));case 3:if(!Object.prototype.hasOwnProperty.call(o.callbacks,r.id)){n.next=7;break}return n.abrupt("return",mf(cl,r)(t,{client:o})(r,a));case 7:return n.abrupt("return",mf(sl,r)(t,{client:o})(r,a));case 8:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},pl=Oc.compose($s,Gs,{init:function(t){var e=this,n=t.name,r=t.onConnection,a=t.onSubscription,o=t.onSign,i=t.onDisconnect,c=t.onAskAccounts,s=t.onMessageSign;this.onConnection=r,this.onSubscription=a,this.onSign=o,this.onDisconnect=i,this.onAskAccounts=c,this.onMessageSign=s,["onConnection","onSubscription","onSign","onDisconnect","onMessageSign"].forEach((function(t){if("function"!=typeof e[t])throw new Error("Call-back for ".concat(t," must be an function!"))})),this.name=n,this.id=Object(ta.v4)();var u=this.selectAccount.bind(this),p=this.addAccount.bind(this),f=this.selectNode.bind(this);this.selectAccount=function(t){u(t),ol.sentNotificationByCondition(vf(Zp.wallet.updateAddress,e.getAccounts()),(function(t){return(t.addressSubscription.includes(Jp.current)||t.addressSubscription.includes(Jp.connected))&&t.isConnected()}))},this.addAccount=function(){var t=Zr()(Jr.a.mark((function t(n){var r,a,o=arguments;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},a=r.select,r.meta,t.next=3,p(n,{select:a});case 3:ol.sentNotificationByCondition(vf(Zp.wallet.updateAddress,e.getAccounts()),(function(t){return t.isConnected()&&(t.addressSubscription.includes(Jp.connected)||a&&t.addressSubscription.includes(Jp.current))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.selectNode=function(t){f(t),ol.sentNotificationByCondition(vf(Zp.updateNetwork,{networkId:e.getNetworkId()}),(function(t){return t.isConnected()}))}},methods:{getClients:function(){return ol},removeRpcClient:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forceConnectionClose:!1};return ol.removeClient(t,e)},addRpcClient:function(t){var e=Object(ta.v4)();return ol.addClient(e,{id:e,info:{status:af},connection:t,handlers:[ul(this,e),this.onDisconnect]}),e},shareWalletInfo:function(t){t(al({jsonrpc:"2.0"},vf(Zp.wallet.readyToConnect,al({},this.getWalletInfo()))))},getWalletInfo:function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(chrome===Object(chrome)&&chrome.runtime)return chrome;if(browser===Object(browser)&&browser.runtime)return browser;if(!t)throw new Error("Browser is not detected");return{}}(!0).runtime;return{id:t&&t.id?t.id:this.id,name:this.name,networkId:this.getNetworkId(),origin:window.location.origin,type:t&&t.id?zp.extension:zp.window}},getAccounts:function(){var t=this;return{current:this.Selector.address?X()({},this.Selector.address,{}):{},connected:this.addresses().filter((function(e){return e!==t.Selector.address})).reduce((function(t,e){return al({},t,X()({},e,{}))}),{})}}}}),fl=Yf()(Ao.a),ll=[{pred:fl(wo.compose.deepConfiguration.Ae.methods),handler:"onTx",error:"Creating transaction [{}] rejected"},{pred:fl(hs.compose.deepConfiguration.Ae.methods),handler:"onChain",error:"Chain operation [{}] rejected"},{pred:fl(mc.compose.deepConfiguration.Ae.methods),handler:"onAccount",error:"Account operation [{}] rejected"},{pred:fl(du.compose.deepConfiguration.Contract.methods),handler:"onContract",error:"Contract operation [{}] rejected"}];function dl(){return(dl=Zr()(Jr.a.mark((function t(){var e;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nl.compose.deepProperties.rpcMethods.hello.call(this);case 2:return e=t.sent,t.next=5,this.address();case 5:return this.rpcSessions[e].address=t.sent,t.abrupt("return",Promise.resolve(e));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function hl(){return(hl=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Gf()((function(t){return(0,t.pred)(e)}),ll),o=a.handler,i=a.error,void 0!==o){t.next=5;break}return t.abrupt("return",Promise.reject(Error("Unknown method ".concat(e))));case 5:return t.next=7,this[o](e,n,r);case 7:if(!t.sent){t.next=11;break}return t.abrupt("return",this[e].apply(this,n));case 11:return t.abrupt("return",Promise.reject(Error(i.replace(/{}/,e))));case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ml(){return(ml=Zr()(Jr.a.mark((function t(e){var n,r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("sign",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",this.signWith(r.address,n[0]));case 7:return t.abrupt("return",Promise.reject(Error("Signing rejected")));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function vl(){return(vl=Zr()(Jr.a.mark((function t(e){var n,r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("address",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",Promise.resolve(r.address));case 7:return t.abrupt("return",Promise.reject(Error("Address rejected")));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var bl=Oc.compose($s,hs,Fs,Bp,Mp,nl,{init:function(t,e){var n=this,r=t.onTx,a=void 0===r?this.onTx:r,o=t.onChain,i=void 0===o?this.onChain:o,c=t.onAccount,s=void 0===c?this.onAccount:c,u=t.onContract,p=void 0===u?this.onContract:u,f=e.stamp;this.onTx=a,this.onChain=i,this.onAccount=s,this.onContract=p;var l=[].concat($()(f.compose.deepConfiguration.Ae.methods),$()(f.compose.deepConfiguration.Contract.methods));this.rpcMethods=Object.assign(ui()(l.map((function(t){return[t,function(e){var r=e.params,a=e.session;return n.rpc(t,r,a)}]}))),this.rpcMethods)},methods:{rpc:function(t,e,n){return hl.apply(this,arguments)},onTx:function(){return console.log("Implement onTx!"),Promise.resolve(!1)},onChain:function(){return console.log("Implement onChain!"),Promise.resolve(!1)},onAccount:function(){return console.log("Implement onAccount!"),Promise.resolve(!1)},onContract:function(){return console.log("Implement onContract!"),Promise.resolve(!1)}},deepProps:{rpcMethods:{sign:function(t){return ml.apply(this,arguments)},address:function(t){return vl.apply(this,arguments)},hello:function(){return dl.apply(this,arguments)}}}}),yl=Oc.compose(pl,Fs,Bp,Hf,iu,Mp,hs),gl=n(51),xl=n.n(gl),wl=n(101),kl=n.n(wl),Ol=n(100),jl=n.n(Ol),Cl=n(98),Il=n(99);function Tl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tl(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Al=new WeakMap,El=new WeakMap,Sl=new WeakMap,_l=new WeakMap,Bl=new WeakMap,Nl=new WeakMap,Dl=new WeakMap,Vl=new WeakMap,ql=new WeakMap,Fl=new WeakMap,Ml=new WeakMap,Rl=new WeakMap,Kl=new WeakMap,Ul=new WeakMap,Hl=new WeakMap,Ll=new WeakMap;function Wl(t,e){var n=Bi()("&",Wo()(Ti()((function(t,e){return"".concat(ia(e),"=").concat(encodeURIComponent(t))}),e)));return"".concat(t,"?").concat(n)}function Ql(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=Nl.get(t)).emit.apply(e,r)}function Gl(t,e){if(!e)throw new Error("State Channels FSM entered unknown state");_l.set(t,e),e.handler.enter&&e.handler.enter(t),Xl(t)}function zl(t,e){e!==El.get(t)&&(El.set(t,e),Ql(t,"statusChanged",e))}function Yl(t,e){Sl.set(t,e),Ql(t,"stateChanged",e)}function $l(t,e){Bl.get(t).send(Fi.stringify(e))}function Jl(t,e,n){ql.set(t,[].concat($()(ql.get(t)||[]),[{guard:e,action:n}])),Xl(t)}function Xl(t){return Zl.apply(this,arguments)}function Zl(){return(Zl=Zr()(Jr.a.mark((function t(e){var n,r,a,o,i;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Fl.get(e),r=ql.get(e)||[],!n&&r.length){t.next=4;break}return t.abrupt("return");case 4:if(a=_l.get(e),-1!==(o=r.findIndex((function(t){return t.guard(e,a)})))){t.next=8;break}return t.abrupt("return");case 8:return ql.set(e,r.filter((function(t,e){return o!==e}))),Fl.set(e,!0),t.next=12,Promise.resolve(r[o].action(e,a));case 12:i=t.sent,Fl.set(e,!1),Gl(e,i);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function td(t,e){return ed.apply(this,arguments)}function ed(){return(ed=Zr()(Jr.a.mark((function t(e,n){var r,a,o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=_l.get(e),a=r.handler,o=r.state,t.t0=Gl,t.t1=e,t.next=5,Promise.resolve(a(e,n,o));case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nd(t){return rd.apply(this,arguments)}function rd(){return(rd=Zr()(Jr.a.mark((function t(e){var n,r,a,o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Dl.get(e),!Vl.get(e)&&n.length){t.next=3;break}return t.abrupt("return");case 3:return r=Nu()(n),a=r[0],o=r.slice(1),Dl.set(e,o||[]),Vl.set(e,!0),t.next=8,td(e,a);case 8:Vl.set(e,!1),nd(e);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ad(t){clearTimeout(Ul.get(t)),clearTimeout(Hl.get(t)),Ul.set(t,setTimeout((function(){$l(t,{jsonrpc:"2.0",method:"channels.system",params:{action:"ping"}}),Hl.set(t,setTimeout((function(){cd(t),Ql(t,"error",Error("Server pong timed out"))}),5e3))}),1e4))}function od(t,e){var n=Fi.parse(e);if(n.id){var r=Kl.get(t).get(n.id);try{r(n)}finally{Kl.get(t).delete(n.id)}}else"channels.message"===n.method?Ql(t,"message",n.params.data.message):"channels.system.pong"===n.method?n.params.channel_id!==Rl.get(t)&&null!=Rl.get(t)||ad(t):(Dl.set(t,[].concat($()(Dl.get(t)||[]),[n])),nd(t))}function id(t,e,n){return new Promise((function(r,a){var o=Ml.set(t,Ml.get(t)+1).get(t);Kl.get(t).set(o,(function(t){return t.result?r(t.result):t.error?a(function(t){var e=t.error.data||[],n=Q()(e,1)[0],r=(n=void 0===n?{}:n).message;return r?Error("".concat(t.error.message,": ").concat(r)):Error(t.error.message)}(t)):void 0})),$l(t,{jsonrpc:"2.0",method:e,id:o,params:n})}))}function cd(t){Bl.get(t).close(),clearTimeout(Ul.get(t)),clearTimeout(Hl.get(t))}function sd(t,e){function n(t,e,n){var r=jl()(n),a=t[e];t[e]=function(){r.apply(void 0,arguments),"function"==typeof a&&a.apply(void 0,arguments)}}return new Promise((function(r,a){var o=new Cl.w3cwebsocket(t);Object.entries(e).forEach((function(t){var e=Q()(t,2),n=e[0],r=e[1];o[n]=r})),n(o,"onopen",(function(){return r(o)})),n(o,"onerror",(function(t){return a(t)}))}))}function ud(t,e){return pd.apply(this,arguments)}function pd(){return(pd=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=["sign","url"],a=kl()((function(t,e){return!r.includes(e)}),n),o=n.url,i=Wl(o,Pl({},a,{protocol:"json-rpc"})),Al.set(e,n),a.existingFsmId?_l.set(e,{handler:vd}):_l.set(e,{handler:md}),Nl.set(e,new Il.EventEmitter),Ml.set(e,0),Kl.set(e,new Map),zl(e,"connecting"),t.next=12,sd(i,{onopen:function(){zl(e,"connected"),a.reconnectTx&&(Gl(e,{handler:jd}),setTimeout(Zr()(Jr.a.mark((function t(){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Yl,t.t1=e,t.next=4,id(e,"channels.get.offchain_state",{});case 4:return t.t2=t.sent.signed_tx,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))),0)),ad(e)},onclose:function(){zl(e,"disconnected"),clearTimeout(Ul.get(e)),clearTimeout(Hl.get(e))},onmessage:function(t){var n=t.data;return od(e,n)}});case 12:c=t.sent,Bl.set(e,c);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fd(t){return"tx_".concat(vr(t))}function ld(t,e){return dd.apply(this,arguments)}function dd(){return(dd=Zr()(Jr.a.mark((function t(e,n){var r,a,o,i,c,s,u;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Xa(e).tx,a=r.signatures,o=r.encodedTx,t.next=3,n(fd(o.rlpEncoded));case 3:if("string"!=typeof(i=t.sent)){t.next=7;break}return c=Xa(i),s=c.tx,u=c.txType,t.abrupt("return",fd(Ja({signatures:a.concat(s.signatures),encodedTx:s.encodedTx.rlpEncoded},u).rlpEncoded));case 7:return t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function hd(t,e,n){return n&&n.reject&&n.reject(Object.assign(Error("Unexpected message received:\n\n".concat(JSON.stringify(e))),{wsMessage:e})),{handler:jd}}function md(t,e,n){return"channels.info"===e.method?["channel_accept","funding_created"].includes(e.params.data.event)?(zl(t,{channel_accept:"accepted",funding_created:"halfSigned"}[e.params.data.event]),{handler:yd}):"channel_reestablished"===e.params.data.event?{handler:kd}:"fsm_up"===e.params.data.event?(Ll.set(t,e.params.data.fsm_id),{handler:md}):{handler:md}:"channels.error"===e.method?(Ql(t,"error",new Error(e.payload.message)),{handler:Yd}):void 0}function vd(t,e,n){return bd.apply(this,arguments)}function bd(){return(bd=Zr()(Jr.a.mark((function t(e,n,r){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.info"!==n.method){t.next=10;break}if("fsm_up"!==n.params.data.event){t.next=10;break}return Ll.set(e,n.params.data.fsm_id),t.t0=Yl,t.t1=e,t.next=7,id(e,"channels.get.offchain_state",{});case 7:return t.t2=t.sent.signed_tx,(0,t.t0)(t.t1,t.t2),t.abrupt("return",{handler:jd});case 10:return t.abrupt("return",hd(0,n,r));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yd(t,e,n){return gd.apply(this,arguments)}function gd(){return(gd=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={initiator:"initiator_sign",responder:"responder_sign"}[Al.get(e).role],n.method!=="channels.sign.".concat(a)){t.next=13;break}if(!n.params.data.tx){t.next=8;break}return t.next=5,Al.get(e).sign(a,n.params.data.tx);case 5:return o=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.".concat(a),params:{tx:o}}),t.abrupt("return",{handler:xd});case 8:return t.next=10,ld(n.params.data.signed_tx,(function(t){return Al.get(e).sign(a,t)}));case 10:return i=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.".concat(a),params:{signed_tx:i}}),t.abrupt("return",{handler:xd});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xd(t,e,n){if("channels.on_chain_tx"===e.method){if("funding_signed"===e.params.data.info&&"initiator"===Al.get(t).role)return{handler:wd};if("funding_created"===e.params.data.info&&"responder"===Al.get(t).role)return{handler:wd}}if("channels.info"===e.method&&"funding_signed"===e.params.data.event&&"initiator"===Al.get(t).role)return zl(t,"signed"),{handler:xd}}function wd(t,e,n){if("channels.info"===e.method){var r={funding_created:wd,own_funding_locked:wd,funding_locked:kd}[e.params.data.event];if(r)return{handler:r}}if("channels.on_chain_tx"===e.method)return Ql(t,"onChainTx",e.params.data.tx,{info:e.params.data.info,type:e.params.data.type}),{handler:wd}}function kd(t,e,n){if("channels.info"===e.method&&"open"===e.params.data.event)return Rl.set(t,e.params.channel_id),{handler:Od}}function Od(t,e,n){if("channels.update"===e.method)return Yl(t,e.params.data.state),{handler:jd}}function jd(t,e,n){return Cd.apply(this,arguments)}function Cd(){return(Cd=Zr()(Jr.a.mark((function t(e,n,r){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.method,t.next="channels.info"===t.t0?3:"channels.on_chain_tx"===t.t0?20:"channels.leave"===t.t0?22:"channels.update"===t.t0?23:"channels.sign.shutdown_sign_ack"===t.t0?25:26;break;case 3:t.t1=n.params.data.event,t.next="update"===t.t1?6:"withdraw_created"===t.t1?6:"deposit_created"===t.t1?6:"own_withdraw_locked"===t.t1?7:"withdraw_locked"===t.t1?7:"own_deposit_locked"===t.t1?7:"deposit_locked"===t.t1?7:"peer_disconnected"===t.t1?7:"channel_reestablished"===t.t1?7:"open"===t.t1?7:"fsm_up"===t.t1?9:"close_mutual"===t.t1?11:"closing"===t.t1?12:"closed_confirmed"===t.t1?14:"died"===t.t1?16:"shutdown"===t.t1?18:19;break;case 6:return t.abrupt("return",{handler:Ad});case 7:return Ql(e,n.params.data.event),t.abrupt("return",{handler:jd});case 9:return Ll.set(e,n.params.data.fsm_id),t.abrupt("return",{handler:jd});case 11:return t.abrupt("return",{handler:jd});case 12:return zl(e,"closing"),t.abrupt("return",{handler:jd});case 14:return zl(e,"closed"),t.abrupt("return",{handler:Yd});case 16:return zl(e,"died"),t.abrupt("return",{handler:Yd});case 18:return t.abrupt("return",{handler:jd});case 19:return t.abrupt("break",26);case 20:return Ql(e,"onChainTx",n.params.data.tx,{info:n.params.data.info,type:n.params.data.type}),t.abrupt("return",{handler:jd});case 22:return t.abrupt("return",{handler:jd});case 23:return Yl(e,n.params.data.state),t.abrupt("return",{handler:jd});case 25:return t.abrupt("return",Ad(e,n,r));case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Id(t,e,n){return Td.apply(this,arguments)}function Td(){return(Td=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i,c,s;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:o}}),t.abrupt("return",{handler:Pd,state:r});case 8:return t.next=10,ld(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(i=t.sent)){t.next=14;break}return $l(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:i}}),t.abrupt("return",{handler:Pd,state:r});case 14:if("number"!=typeof i){t.next=17;break}return $l(e,{jsonrpc:"2.0",method:"channels.update",params:{error:i}}),t.abrupt("return",{handler:Id,state:r});case 17:if("channels.error"!==n.method){t.next=20;break}return r.reject(new Error(n.data.message)),t.abrupt("return",{handler:jd});case 20:if(!n.error){t.next=24;break}return c=n.error.data,(s=void 0===c?[]:c).find((function(t){return 1001===t.code}))?r.reject(new Error("Insufficient balance")):s.find((function(t){return 1002===t.code}))?r.reject(new Error("Amount cannot be negative")):r.reject(new Error(n.error.message)),t.abrupt("return",{handler:jd});case 24:if("channels.conflict"!==n.method){t.next=27;break}return r.resolve({accepted:!1,errorCode:n.params.data.error_code,errorMessage:n.params.data.error_msg}),t.abrupt("return",{handler:jd});case 27:if("channels.info"!==n.method){t.next=31;break}if("aborted_update"!==n.params.data.event){t.next=31;break}return r.resolve({accepted:!1}),t.abrupt("return",{handler:jd});case 31:return t.abrupt("return",hd(0,n,r));case 32:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Pd(t,e,n){return"channels.update"===e.method?(Yl(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:jd}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:jd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:jd}):e.error?(n.reject(new Error(e.error.message)),{handler:jd}):hd(0,e,n)}function Ad(t,e,n){return Ed.apply(this,arguments)}function Ed(){return(Ed=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i,c,s;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.method.match(/^channels\.sign\.([^.]+)$/)||[],o=Q()(a,2),!(i=o[1])){t.next=22;break}if(!n.params.data.tx){t.next=11;break}return t.next=5,Al.get(e).sign(i,n.params.data.tx,{updates:n.params.data.updates});case 5:if(!(c=t.sent)){t.next=9;break}return $l(e,{jsonrpc:"2.0",method:"channels.".concat(i),params:{tx:c}}),t.abrupt("return",{handler:jd});case 9:t.next=20;break;case 11:return t.next=13,ld(n.params.data.signed_tx,(function(t){return Al.get(e).sign(i,t,{updates:n.params.data.updates})}));case 13:if("string"!=typeof(s=t.sent)){t.next=17;break}return $l(e,{jsonrpc:"2.0",method:"channels.".concat(i),params:{signed_tx:s}}),t.abrupt("return",{handler:jd});case 17:if("number"!=typeof s){t.next=20;break}return $l(e,{jsonrpc:"2.0",method:"channels.".concat(i),params:{error:s}}),t.abrupt("return",{handler:Sd,state:r});case 20:return $l(e,{jsonrpc:"2.0",method:"channels.update.new",params:{from:Cr().publicKey,to:Cr().publicKey,amount:1}}),t.abrupt("return",{handler:Sd,state:r});case 22:return t.abrupt("return",hd(0,n,r));case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Sd(t,e,n){return e.error?{handler:Sd,state:n}:"channels.conflict"===e.method?{handler:jd}:hd(0,e,n)}function _d(t,e,n){return Bd.apply(this,arguments)}function Bd(){return(Bd=Zr()(Jr.a.mark((function t(e,n,r){var a,o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.shutdown_sign"!==n.method){t.next=12;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx);case 4:return a=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.shutdown_sign",params:{tx:a}}),t.abrupt("return",{handler:Nd,state:r});case 7:return t.next=9,ld(n.params.data.signed_tx,(function(t){return r.sign(t)}));case 9:return o=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.shutdown_sign",params:{signed_tx:o}}),t.abrupt("return",{handler:Nd,state:r});case 12:return t.abrupt("return",hd(0,n,r));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Nd(t,e,n){return"channels.on_chain_tx"===e.method?(n.resolve(e.params.data.tx),{handler:Yd}):hd(0,e,n)}function Dd(t,e,n){return"channels.leave"===e.method?(n.resolve({channelId:e.params.channel_id,signedTx:e.params.data.state}),cd(t),{handler:Yd}):"channels.error"===e.method?(n.reject(new Error(e.data.message)),{handler:jd}):hd(0,e,n)}function Vd(t,e,n){return qd.apply(this,arguments)}function qd(){return(qd=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.withdraw_tx"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{tx:o}}),t.abrupt("return",{handler:Fd,state:r});case 8:return t.next=10,ld(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(i=t.sent)){t.next=14;break}return $l(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{signed_tx:i}}),t.abrupt("return",{handler:Fd,state:r});case 14:if("number"!=typeof i){t.next=17;break}return $l(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{error:i}}),t.abrupt("return",{handler:Fd,state:r});case 17:return t.abrupt("return",hd(0,n,r));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fd(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:Fd,state:n};if("channels.info"===e.method&&["own_withdraw_locked","withdraw_locked"].includes(e.params.data.event)){var r={own_withdraw_locked:n.onOwnWithdrawLocked,withdraw_locked:n.onWithdrawLocked}[e.params.data.event];return r&&r(),{handler:Fd,state:n}}return"channels.update"===e.method?(Yl(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:jd}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:jd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:jd}):hd(0,e,n)}function Md(t,e,n){return Rd.apply(this,arguments)}function Rd(){return(Rd=Zr()(Jr.a.mark((function t(e,n,r){var a,o,i;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.deposit_tx"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{tx:o}}),t.abrupt("return",{handler:Kd,state:r});case 8:return t.next=10,ld(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(i=t.sent)){t.next=14;break}return $l(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{signed_tx:i}}),t.abrupt("return",{handler:Kd,state:r});case 14:if("number"!=typeof i){t.next=17;break}return $l(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{error:i}}),t.abrupt("return",{handler:Kd,state:r});case 17:return t.abrupt("return",hd(0,n,r));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kd(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:Kd,state:n};if("channels.info"===e.method&&["own_deposit_locked","deposit_locked"].includes(e.params.data.event)){var r={own_deposit_locked:n.onOwnDepositLocked,deposit_locked:n.onDepositLocked}[e.params.data.event];return r&&r(),{handler:Kd,state:n}}return"channels.update"===e.method?(Yl(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:jd}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:jd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:jd}):hd(0,e,n)}function Ud(t,e,n){return Hd.apply(this,arguments)}function Hd(){return(Hd=Zr()(Jr.a.mark((function t(e,n,r){var a,o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=16;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx);case 4:return a=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:Ld,state:r});case 7:return t.next=9,ld(n.params.data.signed_tx,(function(t){return r.sign(t)}));case 9:if("string"!=typeof(o=t.sent)){t.next=13;break}return $l(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:o}}),t.abrupt("return",{handler:Ld,state:r});case 13:if("number"!=typeof o){t.next=16;break}return $l(e,{jsonrpc:"2.0",method:"channels.update",params:{error:o}}),t.abrupt("return",{handler:Ld,state:r});case 16:return t.abrupt("return",hd(0,n,r));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ld(t,e,n){if("channels.update"===e.method){var r=Xa(e.params.data.state).tx.encodedTx.tx.round,a=Al.get(t)[{initiator:"initiatorId",responder:"responderId"}[Al.get(t).role]];return Yl(t,e.params.data.state),n.resolve({accepted:!0,address:Or(a,r),signedTx:e.params.data.state}),{handler:jd}}return"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:jd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:jd}):hd(0,e,n)}function Wd(t,e,n){return Qd.apply(this,arguments)}function Qd(){return(Qd=Zr()(Jr.a.mark((function t(e,n,r){var a,o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=16;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx);case 4:return a=t.sent,$l(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:Gd,state:r});case 7:return t.next=9,ld(n.params.data.signed_tx,(function(t){return r.sign(t)}));case 9:if("string"!=typeof(o=t.sent)){t.next=13;break}return $l(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:o}}),t.abrupt("return",{handler:Gd,state:r});case 13:if("number"!=typeof o){t.next=16;break}return $l(e,{jsonrpc:"2.0",method:"channels.update",params:{error:o}}),t.abrupt("return",{handler:Gd,state:r});case 16:return t.abrupt("return",hd(0,n,r));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gd(t,e,n){return"channels.update"===e.method?(Yl(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:jd}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:jd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:jd}):hd(0,e,n)}function zd(t,e,n){return"channels.calls_pruned.reply"===e.method?(n.resolve(),{handler:jd}):(n.reject(new Error("Unexpected message received")),{handler:Yd})}function Yd(t,e,n){return{handler:Yd}}function $d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$d(Object(n),!0).forEach((function(e){X()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xd(t){return Object.entries(t).reduce((function(t,e){var n=Q()(e,2),r=n[0],a=n[1];return Jd({},t,X()({},oa(r),a))}),{})}function Zd(){return(Zd=Zr()(Jr.a.mark((function t(){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xd,t.next=3,id(this,"channels.get.offchain_state",{});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function th(){return(th=Zr()(Jr.a.mark((function t(e){var n,r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accounts,r=e.contracts,t.next=3,id(this,"channels.get.poi",{accounts:n,contracts:r});case 3:return t.abrupt("return",t.sent.poi);case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function eh(){return(eh=Zr()(Jr.a.mark((function t(e){return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xl.a,t.t1=function(t,e){return Jd({},t,X()({},e.account,e.balance))},t.t2={},t.next=5,id(this,"channels.get.balances",{accounts:e});case 5:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function nh(){return(nh=Zr()(Jr.a.mark((function t(e){var n,r,a,o;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.amount,r=e.callData,a=e.contract,o=e.abiVersion,t.t0=Xd,t.next=4,id(this,"channels.dry_run.call_contract",{amount:n,call_data:r,contract_id:a,abi_version:o});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function rh(){return(rh=Zr()(Jr.a.mark((function t(e){var n,r,a;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caller,r=e.contract,a=e.round,t.t0=Xd,t.next=4,id(this,"channels.get.contract_call",{caller_id:n,contract_id:r,round:a});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ah(){return(ah=Zr()(Jr.a.mark((function t(e){var n;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,id(this,"channels.get.contract",{pubkey:e});case 2:return n=t.sent,t.abrupt("return",Xd(Jd({},n,{contract:Xd(n.contract)})));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function oh(){return(oh=Zr()(Jr.a.mark((function t(e,n){var r;return Jr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sign,t.t0=ih,t.t1=Jd,t.t2={},t.t3=e,t.next=7,r("reconnect",Ja(n,Vt).tx);case 7:return t.t4=t.sent,t.t5={reconnectTx:t.t4},t.t6=(0,t.t1)(t.t2,t.t3,t.t5),t.abrupt("return",(0,t.t0)(t.t6));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}jd.enter=function(t){zl(t,"open")};var ih=Ho.compose({init:function(t){var e=this;return Zr()(Jr.a.mark((function n(){return Jr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:ud(e,t);case 1:case"end":return n.stop()}}),n)})))()},methods:{on:function(t,e){Nl.get(this).on(t,e)},off:function(t,e){Nl.get(this).removeListener(t,e)},status:function(){return El.get(this)},state:function(){return Zd.apply(this,arguments)},round:function(){if(!Sl.get(this))return null;var t=Xa(Sl.get(this)).tx.encodedTx,e=t.txType,n=t.tx;switch(e){case wt:return 1;case Pt:case It:case Ct:return parseInt(n.round,10);default:return null}},id:function(){return Rl.get(this)},fsmId:function(){return Ll.get(this)},update:function(t,e,n,r,a){var o=this;return new Promise((function(i,c){Jl(o,(function(t,e){return e.handler===jd}),(function(o,s){return $l(o,{jsonrpc:"2.0",method:"channels.update.new",params:{from:t,to:e,amount:n,meta:a}}),{handler:Id,state:{resolve:i,reject:c,sign:r}}}))}))},poi:function(t){return th.apply(this,arguments)},balances:function(t){return eh.apply(this,arguments)},leave:function(){var t=this;return new Promise((function(e,n){Jl(t,(function(t,e){return e.handler===jd}),(function(t,r){return $l(t,{jsonrpc:"2.0",method:"channels.leave",params:{}}),{handler:Dd,state:{resolve:e,reject:n}}}))}))},shutdown:function(t){var e=this;return new Promise((function(n,r){Jl(e,(function(t,e){return e.handler===jd}),(function(e,a){return $l(e,{jsonrpc:"2.0",method:"channels.shutdown",params:{}}),{handler:_d,state:{sign:t,resolve:n,reject:r}}}))}))},sendMessage:function(t,e){var n=this,r=t;"object"===_a()(t)&&(r=JSON.stringify(t));var a=function(t){return $l(t,{jsonrpc:"2.0",method:"channels.message",params:{info:r,to:e}})};if("connecting"===this.status()){this.on("statusChanged",(function t(e){"connecting"!==e&&(setTimeout((function(){return a(n)}),500),n.off("statusChanged",t))}))}else a(this)},withdraw:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,o=r.onOwnWithdrawLocked,i=r.onWithdrawLocked;return new Promise((function(r,c){Jl(n,(function(t,e){return e.handler===jd}),(function(n,s){return $l(n,{jsonrpc:"2.0",method:"channels.withdraw",params:{amount:t}}),{handler:Vd,state:{sign:e,resolve:r,reject:c,onOnChainTx:a,onOwnWithdrawLocked:o,onWithdrawLocked:i}}}))}))},deposit:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,o=r.onOwnDepositLocked,i=r.onDepositLocked;return new Promise((function(r,c){Jl(n,(function(t,e){return e.handler===jd}),(function(n,s){return $l(n,{jsonrpc:"2.0",method:"channels.deposit",params:{amount:t}}),{handler:Md,state:{sign:e,resolve:r,reject:c,onOnChainTx:a,onOwnDepositLocked:o,onDepositLocked:i}}}))}))},createContract:function(t,e){var n=this,r=t.code,a=t.callData,o=t.deposit,i=t.vmVersion,c=t.abiVersion;return new Promise((function(t,s){Jl(n,(function(t,e){return e.handler===jd}),(function(n,u){return $l(n,{jsonrpc:"2.0",method:"channels.update.new_contract",params:{code:r,call_data:a,deposit:o,vm_version:i,abi_version:c}}),{handler:Ud,state:{sign:e,resolve:t,reject:s}}}))}))},callContract:function(t,e){var n=this,r=t.amount,a=t.callData,o=t.contract,i=t.abiVersion;return new Promise((function(t,c){Jl(n,(function(t,e){return e.handler===jd}),(function(n,s){return $l(n,{jsonrpc:"2.0",method:"channels.update.call_contract",params:{amount:r,call_data:a,contract_id:o,abi_version:i}}),{handler:Wd,state:{resolve:t,reject:c,sign:e}}}))}))},callContractStatic:function(t){return nh.apply(this,arguments)},getContractCall:function(t){return rh.apply(this,arguments)},getContractState:function(t){return ah.apply(this,arguments)},disconnect:function(){return cd(this)},cleanContractCalls:function(){var t=this;return new Promise((function(e,n){Jl(t,(function(t,e){return e.handler===jd}),(function(t,r){return $l(t,{jsonrpc:"2.0",method:"channels.clean_contract_calls",params:{}}),{handler:zd,state:{resolve:e,reject:n}}}))}))}},statics:{reconnect:function(t,e){return oh.apply(this,arguments)}}}),ch=ih,sh=Oc.compose($s,hs,Fs,iu,Bp,Hf,Mp,{init:function(){},props:{process:{}}});n.d(e,"Account",(function(){return mc})),n.d(e,"Accounts",(function(){return $s})),n.d(e,"Ae",(function(){return Oc})),n.d(e,"Aens",(function(){return iu})),n.d(e,"Aepp",(function(){return Lf})),n.d(e,"Bytes",(function(){return r})),n.d(e,"Contract",(function(){return Bp})),n.d(e,"ContractCompilerAPI",(function(){return Eu})),n.d(e,"ContractACI",(function(){return fp})),n.d(e,"ChainNode",(function(){return hs})),n.d(e,"RpcAepp",(function(){return Wf})),n.d(e,"RpcWallet",(function(){return yl})),n.d(e,"Channel",(function(){return ch})),n.d(e,"Crypto",(function(){return o})),n.d(e,"Keystore",(function(){return i})),n.d(e,"Chain",(function(){return Oo})),n.d(e,"GeneralizeAccount",(function(){return Mp})),n.d(e,"HdWallet",(function(){return ho})),n.d(e,"MemoryAccount",(function(){return Us})),n.d(e,"Node",(function(){return fc})),n.d(e,"NodePool",(function(){return _c})),n.d(e,"Oracle",(function(){return Hf})),n.d(e,"OracleNodeAPI",(function(){return Tc})),n.d(e,"Selector",(function(){return Gs})),n.d(e,"Transaction",(function(){return Fs})),n.d(e,"TransactionValidator",(function(){return Uc})),n.d(e,"Tx",(function(){return wo})),n.d(e,"TxBuilder",(function(){return c})),n.d(e,"TxBuilderHelper",(function(){return a})),n.d(e,"Universal",(function(){return sh})),n.d(e,"Wallet",(function(){return bl}))}])}));
//# sourceMappingURL=aepp-sdk.js.map